import{_ as K,a as Y,d as B,T as J,S as Q,b as X,c as Z,e as oe}from"./TableFilterWarehouse-f0faaec8.js";import{_ as ae}from"./TableFilterSM-2dca01bf.js";import{W as g,f as $,y as U,o as d,c as i,b as x,a as e,Q as b,Y as F,t as f,u,J as w,K as S,O as C,F as T,_ as R,U as N,P as I,d as y,G as W,M as ee,N as te,g as j,w as se,a1 as le,S as k,R as E,T as ce,V as re}from"./index-eb8b812a.js";const ne={class:"w-1 p-4 py-2"},de={class:"flex items-center"},ie={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},_e=["id"],ue={class:"px-2 py-2 text-center"},he={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each","index"],emits:["addChecked","removeChecked"],setup(_,{emit:t}){const o=_,s=g(),a=$(!1),r=()=>a.value===!0?t("addChecked",o==null?void 0:o.each):t("removeChecked",o==null?void 0:o.each);return U(()=>{s.after_created&&(a.value=!1)}),(l,n)=>(d(),i("tr",{class:w([a.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(K,{each:o==null?void 0:o.each},null,8,["each"]),e("td",ne,[e("div",de,[e("label",ie,[b(e("input",{id:o.each.id,type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=c=>a.value=c),onChange:r,class:"checkbox checkbox-xs checkbox-primary"},null,40,_e),[[F,a.value]])])])]),e("th",ue,f((o==null?void 0:o.index)+1),1),x(Y,{each:o==null?void 0:o.each,table_headers:u(s).processing_sm_headers},null,8,["each","table_headers"])],2))}},xe={__name:"Get_SM_Body_Table",setup(_){const t=g(),o=a=>{t.processing_checked_values.push(a)},s=a=>{t.processing_checked_values=t.processing_checked_values.filter(r=>r.sm_id!==a.sm_id);for(let r=0;r<t.processing_checked_values.length;r++)t.processing_checked_values[r].stf_id===a.stf_id&&t.processing_checked_values.splice(r,1)};return U(()=>{var r,l,n;const a=$(!1);if(((r=t.processing_checked_values)==null?void 0:r.length)>=1)for(let c of t.processing_checked_values)(c==null?void 0:c.situation)==="Completed"&&(a.value=!0);if(((l=t.processing_checked_values)==null?void 0:l.length)>=1){for(let c=0;c<((n=t.processing_checked_values)==null?void 0:n.length)-1;c++)if(t.processing_checked_values[c].stf_num!==t.processing_checked_values[c+1].stf_num){a.value=!0;break}}a.value?t.toggle_accept_sm=!0:t.toggle_accept_sm=!1}),(a,r)=>(d(!0),i(T,null,S(u(t).processing_sms,(l,n)=>(d(),C(he,{each:l,index:n,onAddChecked:o,onRemoveChecked:s},null,8,["each","index"]))),256))}};const D=_=>(ee("data-v-d915c28d"),_=_(),te(),_),me={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},fe={class:"flex justify-between bg-white w-full border rounded-md shadow-2xl"},pe={class:"flex items-center"},be={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},ge={class:"ml-3"},ve=D(()=>e("p",null,"Task Selected",-1)),ye={class:"text-blue-600"},ke={class:"flex items-center"},we=D(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),$e=D(()=>e("span",{class:"text-xs"},"Unselect",-1)),Se=["disabled"],Ce=D(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),Te=D(()=>e("span",{class:"text-xs"},"Accept SM",-1)),Me=D(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),y(),e("span",{class:"text-xs"},"Set Star")],-1)),Ue={__name:"Show_STF_Selecting_Task",setup(_){const t=g(),o=N(),s=$([]),a=I({cond:!1,messages:""});U(()=>{s.value=t.processing_checked_values});const r=async()=>{o.user?o.user.departmentId!==3?(a.cond=!0,a.messages="You dont have authority for Accepting SM",setTimeout(()=>{a.cond=!1},1e3)):t.tab_num=2:(a.cond=!0,a.messages="User Not Login")},l=()=>{t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(n=>n.id===-1),setTimeout(()=>{t.after_created=!1},1e3)};return(n,c)=>s.value.length>=1?(d(),i("div",me,[e("div",fe,[e("div",pe,[e("span",be,f(s.value.length),1),e("div",ge,[ve,(d(!0),i(T,null,S(s.value.length,m=>(d(),i("span",ye,"●"))),256))])]),e("div",ke,[e("button",{onClick:c[0]||(c[0]=m=>l()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[we,y(),$e]),e("button",{onClick:c[1]||(c[1]=m=>r()),disabled:u(t).toggle_accept_sm,class:w([u(t).toggle_accept_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[Ce,y(),Te],10,Se),Me])]),x(B,{cond:a.cond,messages:a.messages},null,8,["cond","messages"])])):W("",!0)}},Ne=R(Ue,[["__scopeId","data-v-d915c28d"]]),De={class:"flex flex-col",style:{display:"inline-block"}},Pe={class:"sticky h-40 top-10 bg-white"},Ve={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},Ie={class:""},Fe={key:0,class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full",style:{"font-size":"xx-small"}},Be={key:1,class:"flex flex-row justify-center items-center w-full h-96"},Re=e("span",{class:"loading loading-dots loading-lg"},null,-1),We=[Re],Ae={__name:"Show_SM_Table",setup(_){const t=g(),o=N();j(async()=>{const a=o.GETUSER;a==null?console.log("if work"):(await t.getProcessingSMS(a==null?void 0:a.projectId),await t.getCompaniesNames(),await t.fetchSTFCreateUsernames(),t.processing_sm_headers.length===0&&await t.getProcessingSMHeaders())});const s=async a=>{await t.getFilteredDataProcessingSM(a)};return(a,r)=>(d(),i("div",De,[x(J),e("div",Pe,[e("div",Ve,[x(Q),x(ae,{onFilterFunction:s},{default:se(()=>[(d(),C(Z,{key:0,table_headers:u(t).processing_sm_headers},null,8,["table_headers"]))]),_:1})])]),e("div",Ie,[u(t).processing_sm_headers.length?(d(),i("table",Fe,[x(X,{table_headers:u(t).processing_sm_headers},null,8,["table_headers"]),x(xe)])):(d(),i("div",Be,We))]),x(Ne)]))}},Ee={},je={class:"text-black bg-gray-100 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Ge=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF Date ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," SM NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Unit ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Certificate ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Passport ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Count ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Price ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Total ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Currency ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Vendor Name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-36"}," Orderer ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-48"}," Supplier ")])],-1),Oe=[Ge];function qe(_,t){return d(),i("thead",je,Oe)}const ze=R(Ee,[["render",qe]]),He={class:"bg-white border-b hover:bg-gray-50 table_row"},Le=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),Ke={class:"px-2 py-2 text-center"},Ye={class:"px-2 text-start border-y"},Je={class:"bg-orange-100 text-orange-500 py-1 px-2 rounded-xl"},Qe={class:"px-2 py-2 border text-center"},Xe={class:"px-2 text-start border-y"},Ze={class:"bg-red-100 text-red-500 py-1 px-2 rounded-xl"},et={class:"px-2 text-start border-y-y"},tt={class:"px-2 text-start border-y-y"},st=e("option",{disabled:"",value:""},"Unit",-1),ot=e("option",null,"Adet",-1),at=e("option",null,"M2",-1),lt=e("option",null,"M3",-1),ct=e("option",null,"Ton",-1),rt=e("option",null,"Kg",-1),nt=[st,ot,at,lt,ct,rt],dt={class:"px-2 text-center border-y"},it={class:"px-2 text-center border-y"},_t={class:"px-2 py-2 border-y"},ut={class:"px-2 py-2 border-y text-start"},ht={class:"px-2 py-2 border-y text-center"},xt={class:"px-2 py-2 border-y text-center"},mt={class:"px-2 py-2 border-y text-center"},ft={class:"px-2 py-2 border-y text-center"},pt={class:"px-2 py-2 border-y text-start"},bt={class:"px-2 py-2 border-y text-center"},gt={class:"px-2 py-2 border text-center"},vt={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each_item","index","table_data"],setup(_){var a,r,l;const t=_,o=g(),s=I({sm_id:t==null?void 0:t.each_item.sm_id,entering_delivery_amount:(a=t==null?void 0:t.each_item)==null?void 0:a.left_over,delivery_amount:(r=t==null?void 0:t.each_item)==null?void 0:r.left_over,delivery_unit:(l=t==null?void 0:t.each_item)==null?void 0:l.sm_material_unit,certificate:!1,passport:!1});return U(()=>{(s==null?void 0:s.entering_delivery_amount)<(s==null?void 0:s.delivery_amount)+(s==null?void 0:s.delivery_amount)*10/100?(o.processing_checked_values.length>t.table_data.length&&t.table_data.push(s),o.accepted_condition=!0):(alert("u cant enter this value because bigger than %10"),o.accepted_condition=!1)}),(n,c)=>{var m,h,v,p,V,A,G,O,q,z,H,L;return d(),i("tr",He,[Le,e("td",Ke,f((t==null?void 0:t.index)+1),1),e("td",Ye,[e("div",Je,[e("span",null,f((m=t==null?void 0:t.each_item)==null?void 0:m.stf_num),1)])]),e("td",Qe,[x(le,{time:(h=t==null?void 0:t.each_item)==null?void 0:h.created_at},null,8,["time"])]),e("td",Xe,[e("div",Ze,f((v=t==null?void 0:t.each_item)==null?void 0:v.sm_num),1)]),e("td",et,[b(e("input",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs",type:"text",placeholder:"Count...","onUpdate:modelValue":c[0]||(c[0]=M=>s.entering_delivery_amount=M)},null,512),[[k,s.entering_delivery_amount]])]),e("td",tt,[b(e("select",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs","onUpdate:modelValue":c[1]||(c[1]=M=>s.delivery_unit=M)},nt,512),[[E,s.delivery_unit]])]),e("td",dt,[b(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":c[2]||(c[2]=M=>s.certificate=M),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[F,s.certificate]])]),e("td",it,[b(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":c[3]||(c[3]=M=>s.passport=M),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[F,s.passport]])]),e("td",_t,f((p=t==null?void 0:t.each_item)==null?void 0:p.sm_material_name),1),e("td",ut,f((V=t==null?void 0:t.each_item)==null?void 0:V.amount),1),e("td",ht,f((A=t==null?void 0:t.each_item)==null?void 0:A.unit),1),e("td",xt,f((G=t==null?void 0:t.each_item)==null?void 0:G.price),1),e("td",mt,f((O=t==null?void 0:t.each_item)==null?void 0:O.total),1),e("td",ft,f((q=t==null?void 0:t.each_item)==null?void 0:q.currency),1),e("td",pt,f((z=t==null?void 0:t.each_item)==null?void 0:z.vendor_name),1),e("td",bt,f((H=t==null?void 0:t.each_item)==null?void 0:H.orderer),1),e("td",gt,f((L=t==null?void 0:t.each_item)==null?void 0:L.supplier),1)])}}},yt={__name:"Get_SM_Body_Table",props:["table_data"],setup(_){const t=g();return(o,s)=>{var a;return d(!0),i(T,null,S((a=u(t))==null?void 0:a.processing_checked_values,(r,l)=>(d(),C(vt,{table_data:_.table_data,each_item:r,index:l},null,8,["table_data","each_item","index"]))),256)}}},kt={class:"flex flex-row my-1 items-end"},wt={class:"flex flex-col m-1"},$t=e("span",{class:"text-xs m-1"},"Providing Date",-1),St={class:"flex flex-col m-1"},Ct=e("span",{class:"text-xs m-1"},"Document Date",-1),Tt={class:"flex flex-col m-1"},Mt=e("span",{class:"text-xs m-1"},"Document Number",-1),Ut={__name:"Accepting_data",props:["sms_data"],setup(_){const t=_;return(o,s)=>(d(),i("div",kt,[e("div",wt,[$t,b(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":s[0]||(s[0]=a=>t.sms_data.providing_date=a)},null,512),[[k,t.sms_data.providing_date]])]),e("div",St,[Ct,b(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":s[1]||(s[1]=a=>t.sms_data.doc_date=a)},null,512),[[k,t.sms_data.doc_date]])]),e("div",Tt,[Mt,b(e("input",{type:"text",id:"search",class:"block w-full p-2 text-xs text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Document Number","onUpdate:modelValue":s[2]||(s[2]=a=>t.sms_data.doc_number=a)},null,512),[[k,t.sms_data.doc_number]])])]))}},Nt={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll border-2"},Dt=["disabled"],Pt={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},Vt={__name:"Accept_SM_Table",setup(_){const t=g(),o=N(),s=I({doc_date:"",providing_date:"",doc_number:""}),a=$([]),r=async()=>{let l=!0;for(let[n,c]of Object.entries(s)){if(c=c.toString().trim(),n==="doc_number"&&c===""){l=!1,alert("Doc Number Cant Be Empty");break}if(n==="providing_date"&&c===""){l=!1,alert("Provind Date Cant Be Empty");break}if(n==="doc_date"&&c===""){l=!1,alert("Doc Date Cant Be Empty");break}}for(let n=0;n<a.value.length>0;n++)if(!a.value[n].delivery_unit){l=!1,alert(`${n+1} Row, Delivery Unit Not Selected`);break}if(l){const n={user:o.user,checked_values:t.processing_checked_values,sms_data:s,table_data:a.value};await t.acceptWaitingSM(n).then(c=>{t.accept_sms_msg=!0,t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(m=>m.id===-1),setTimeout(async()=>{t.accept_sms_msg=!1,await t.getProcessingSMS(),s.doc_date="",s.providing_date="",s.doc_number="",t.tab_num=0},1e3),setTimeout(()=>{t.after_created=!1})}).catch(c=>{console.log("Received Material Error : ",c)})}};return(l,n)=>{var c,m;return d(),i("div",Nt,[((c=u(t).processing_checked_values)==null?void 0:c.length)>0?(d(),i("button",{key:0,onClick:r,disabled:!u(t).accepted_condition,class:w(["p-2 px-3 text-white font-weight rounded-lg my-1",(m=u(t))!=null&&m.accepted_condition?"bg-red-600 ":"bg-red-200"])}," Accept ",10,Dt)):W("",!0),x(Ut,{sms_data:s},null,8,["sms_data"]),e("table",Pt,[x(ze),x(yt,{table_data:a.value},null,8,["table_data"])]),x(B,{cond:u(t).accept_sms_msg,messages:"SM Successfuly Received"},null,8,["cond"])])}}},It={class:"w-1 p-4 py-2"},Ft={class:"flex items-center"},Bt=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),Rt={class:"px-2 py-3 text-center"},Wt={__name:"Warehouse_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(_,{emit:t}){const o=_,s=g(),a=$(!1),r=()=>a.value===!0?t("addChecked",o==null?void 0:o.each):t("removeChecked",o==null?void 0:o.each);return U(()=>{s.after_provide&&(a.value=!1)}),(l,n)=>(d(),i("tr",{class:w([a.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(K,{each:o==null?void 0:o.each},null,8,["each"]),e("td",It,[e("div",Ft,[Bt,b(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=c=>a.value=c),onChange:r,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[F,a.value]])])]),e("th",Rt,f((o==null?void 0:o.index)+1),1),x(Y,{each:o==null?void 0:o.each,table_headers:u(s).warehouse_data_headers},null,8,["each","table_headers"])],2))}},At={__name:"Warehouse_Table_Body",setup(_){const t=g(),o=a=>{t.warehouse_data_checked_values.push(a),console.log("item ius : ",t.warehouse_data_checked_values)},s=a=>{t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(r=>r.sm_id!==a.sm_id);for(let r=0;r<t.warehouse_data_checked_values.length;r++)t.warehouse_data_checked_values[r].sm_id===a.sm_id&&t.warehouse_data_checked_values.splice(r,1)};return U(()=>{}),(a,r)=>(d(!0),i(T,null,S(u(t).warehouse_data,(l,n)=>(d(),C(Wt,{each:l,index:n,onAddChecked:o,onRemoveChecked:s},null,8,["each","index"]))),256))}};const P=_=>(ee("data-v-ad707f52"),_=_(),te(),_),Et={key:0,class:"mtf-anim fixed w-full bottom-10 flex flex-col mb-4 items-center rounded-lg"},jt={class:"flex justify-between bg-white w-1/2 border rounded-md shadow-2xl"},Gt={class:"flex items-center"},Ot={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},qt={class:"ml-3"},zt=P(()=>e("p",null,"Task Selected",-1)),Ht={class:"text-blue-600"},Lt={class:"flex items-center"},Kt=P(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),Yt=P(()=>e("span",{class:"text-xs"},"Unselect",-1)),Jt=["disabled"],Qt=P(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),Xt=P(()=>e("span",{class:"text-xs"},"Provide SM",-1)),Zt=P(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),y(),e("span",{class:"text-xs"},"Set Star")],-1)),es={__name:"Show_Warehouse_Selecting_Task",setup(_){const t=g(),o=N(),s=I({cond:!1,messages:""}),a=async()=>{o.user?o.user.departmentId!==3?(s.cond=!0,s.messages="You dont have authority for providing data",setTimeout(()=>{s.cond=!1},1e3)):t.tab_num=3:(s.cond=!0,s.messages="User Not Login")},r=()=>{t.after_created=!0,t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(l=>l.id===-1),setTimeout(()=>{t.after_created=!1},1e3)};return(l,n)=>{var c;return((c=u(t).warehouse_data_checked_values)==null?void 0:c.length)>=1?(d(),i("div",Et,[e("div",jt,[e("div",Gt,[e("span",Ot,f(u(t).warehouse_data_checked_values.length),1),e("div",qt,[zt,(d(!0),i(T,null,S(u(t).warehouse_data_checked_values.length,m=>(d(),i("span",Ht,"●"))),256))])]),e("div",Lt,[e("button",{onClick:n[0]||(n[0]=m=>r()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[Kt,y(),Yt]),e("button",{onClick:n[1]||(n[1]=m=>a()),disabled:u(t).toggle_received_sm,class:w([u(t).toggle_received_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[Qt,y(),Xt],10,Jt),Zt])]),x(B,{cond:s.cond,messages:s.messages},null,8,["cond","messages"])])):W("",!0)}}},ts=R(es,[["__scopeId","data-v-ad707f52"]]),ss={class:"flex flex-col",style:{display:"inline-block"}},os={class:"sticky h-40 top-10 bg-white"},as={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},ls={class:""},cs={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},rs={key:1,class:"flex flex-row justify-center items-center w-full h-96"},ns=e("span",{class:"loading loading-dots loading-lg"},null,-1),ds=[ns],is={__name:"Warehouse_Table",setup(_){const t=g();j(async()=>{await t.fetchWarehouseData(),t.warehouse_data_headers.length===0&&t.getWarehouseDataHeaders()});const o=async s=>{await t.getFilteredDataWarehouse(s)};return(s,a)=>(d(),i("div",ss,[x(J),e("div",os,[e("div",as,[x(Q),x(oe,{onFilterFunction:o},{default:se(()=>[(d(),C(Z,{key:0,table_headers:u(t).warehouse_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",ls,[u(t).warehouse_data_headers.length?(d(),i("table",cs,[x(X,{table_headers:u(t).warehouse_data_headers},null,8,["table_headers"]),x(At)])):(d(),i("div",rs,ds))]),x(ts)]))}},_s={class:"bg-white border-b hover:bg-gray-50 table_row"},us=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),hs={class:"px-2 py-2 text-center"},xs={class:"px-2 text-start border-y"},ms={class:"py-1 px-2 rounded-xl"},fs={class:"px-2 text-start border-y"},ps={class:"py-1 px-2 rounded-xl"},bs={class:"px-2 text-start border-y"},gs={class:"py-1 px-2 rounded-xl"},vs={class:"px-2 text-start border-y"},ys={class:"py-1 px-2 rounded-xl"},ks=["value"],ws={class:"px-2 text-start border-y"},$s={class:"py-1 px-2 rounded-xl"},Ss={class:"px-2 text-start border-y"},Cs={class:"py-1 px-2 rounded-xl"},Ts={class:"px-2 text-start border-y"},Ms={class:"py-1 px-2 rounded-xl"},Us={class:"px-2 text-start border-y"},Ns={class:"py-1 px-2 rounded-xl"},Ds={class:"px-2 text-start border-y"},Ps={class:"py-1 px-2 rounded-xl"},Vs={class:"px-2 text-start border-y"},Is={class:"py-1 px-2 rounded-xl"},Fs=["value"],Bs={__name:"Provide_Sm_Table_Body_Each_Row",props:["each_item","index","entering_rows","store"],setup(_){const t=_,o=I({warehouse_id:t==null?void 0:t.each_item.warehouse_id,department_id:t==null?void 0:t.each_item.department_id,type:"",provide_amount:0,serial_no:"",unique_id:"",provide_user:"",provide_user_card_number:"",provide_department:""}),s=$([]),a=$([]);return U(()=>{var r,l,n;if(s.value.length===0&&(s.value=(r=t==null?void 0:t.store)==null?void 0:r.delivery_types),a.value.length===0&&(a.value=(l=t==null?void 0:t.store)==null?void 0:l.departments),((n=t.entering_rows)==null?void 0:n.length)===0)t.entering_rows.push(o);else{let c=!0;for(let m of t.entering_rows)o.warehouse_id===m.warehouse_id&&(c=!1);c&&t.entering_rows.push(o)}}),(r,l)=>{var n,c,m;return d(),i("tr",_s,[us,e("td",hs,f((t==null?void 0:t.index)+1),1),e("td",xs,[e("div",ms,[e("span",null,f((n=t==null?void 0:t.each_item)==null?void 0:n.material_name),1)])]),e("td",fs,[e("div",ps,[e("span",null,f((c=t==null?void 0:t.each_item)==null?void 0:c.amount),1)])]),e("td",bs,[e("div",gs,[e("span",null,f((m=t==null?void 0:t.each_item)==null?void 0:m.unit),1)])]),e("td",vs,[e("div",ys,[b(e("select",{name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=h=>o.type=h),class:"border w-full p-1 rounded-md outline-none"},[(d(!0),i(T,null,S(s.value,h=>(d(),i("option",{value:h.id},f(h.type_name),9,ks))),256))],512),[[E,o.type]])])]),e("td",ws,[e("div",$s,[b(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"num",name:"",placeholder:"Enter Amount","onUpdate:modelValue":l[1]||(l[1]=h=>o.provide_amount=h)},null,512),[[k,o.provide_amount]])])]),e("td",Ss,[e("div",Cs,[b(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Serial NO","onUpdate:modelValue":l[2]||(l[2]=h=>o.serial_no=h)},null,512),[[k,o.serial_no]])])]),e("td",Ts,[e("div",Ms,[b(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Unique ID","onUpdate:modelValue":l[3]||(l[3]=h=>o.unique_id=h)},null,512),[[k,o.unique_id]])])]),e("td",Us,[e("div",Ns,[b(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Name Surname","onUpdate:modelValue":l[4]||(l[4]=h=>o.provide_user=h)},null,512),[[k,o.provide_user]])])]),e("td",Ds,[e("div",Ps,[b(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Card Number","onUpdate:modelValue":l[5]||(l[5]=h=>o.provide_user_card_number=h)},null,512),[[k,o.provide_user_card_number]])])]),e("td",Vs,[e("div",Is,[b(e("select",{name:"",id:"","onUpdate:modelValue":l[6]||(l[6]=h=>o.provide_department=h),class:"border w-full p-1 rounded-md outline-none"},[(d(!0),i(T,null,S(a.value,h=>(d(),i("option",{value:h.id},f(h.department_name),9,Fs))),256))],512),[[E,o.provide_department]])])])])}}},Rs={__name:"Provide_SM_Table_Body",props:["entering_rows"],setup(_){const t=g();return(o,s)=>{var a;return d(!0),i(T,null,S((a=u(t))==null?void 0:a.warehouse_data_checked_values,(r,l)=>(d(),C(Bs,{each_item:r,index:l,entering_rows:_.entering_rows,store:u(t)},null,8,["each_item","index","entering_rows","store"]))),256)}}},Ws={},As={class:"text-white bg-slate-800 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Es=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-1/3"},[e("div",{class:"flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Type ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Serial Number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Unique ID ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Worker ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Card number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Department ")])],-1),js=[Es];function Gs(_,t){return d(),i("thead",As,js)}const Os=R(Ws,[["render",Gs]]),qs={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll p-2"},zs=e("h1",{class:"text-center text-3xl py-4",style:{"font-family":"'Poppins'"}}," Material Provide Form",-1),Hs={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},Ls={__name:"Provide_SM_Table",setup(_){const t=N(),o=g(),s=$([]);j(async()=>{await o.fetchDepartments(),await o.fetchWarehouseDeliveryTypes()});const a=async()=>{var l,n,c,m,h;const r={};if(t.user!==null){r.user=t.user.id;let v=!0;for(let p=0;p<s.value.length;p++){if(((l=s==null?void 0:s.value[p])==null?void 0:l.type)===""){v=!1,alert(`${p+1} Row, Type Is Not Selected`);break}if(((n=s==null?void 0:s.value[p])==null?void 0:n.provide_amount)<=0){v=!1,alert(`${p+1} Row, Provided Amount Is Not True`);break}if(((c=s==null?void 0:s.value[p])==null?void 0:c.provide_user.toString().trim())===""){v=!1,alert(`${p+1} Row, Provided User Name Is Not Included`);break}if(((m=s==null?void 0:s.value[p])==null?void 0:m.provide_user_card_number.toString().trim())===""){v=!1,alert(`${p+1} Row, Provided User Card Number Is Not Included`);break}if(((h=s==null?void 0:s.value[p])==null?void 0:h.provide_department)===""){v=!1,alert(`${p+1} Row, Department Is Not Selected`);break}}v?(r.data=s.value,await o.provideSM(r).then(p=>{o.after_provide=!0,setTimeout(()=>{o.warehouse_data_checked_values=o.warehouse_data_checked_values.filter(V=>V.id===-1),o.tab_num=1},1e3),setTimeout(()=>{s.value=[],o.after_provide=!1},2e3)})):console.log("Importing Information Is Not True, Please Check It")}};return(r,l)=>{var n;return d(),i("div",qs,[zs,e("table",Hs,[x(Os),x(Rs,{entering_rows:s.value},null,8,["entering_rows"])]),(n=u(o).warehouse_data_checked_values)!=null&&n.length?(d(),i("button",{key:0,onClick:a,class:"bg-red-600 p-2 px-3 text-white font-weight rounded-lg my-1"}," Provide ")):W("",!0),x(B,{cond:u(o).after_provide,messages:"Material Successfully Provided"},null,8,["cond"])])}}},Ks={class:"flex flex-col bg-white"},Ys={key:0,class:"bg-white"},Js={class:"sticky top-0 bg-white",style:{"font-family":"'Poppins', sans-serif"}},Qs={class:"flex flex-row anim h-10 bg-white items-center sticky left-16",style:{"letter-spacing":"1px","font-size":"x-small",display:"inline-block"}},Xs=e("i",{class:"fa-solid fa-arrow-rotate-left fa-md"},null,-1),Zs=e("i",{class:"fa-solid fa-download fa-md"},null,-1),eo=e("i",{class:"fa-solid fa-plus fa-md"},null,-1),to=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),so={key:1},oo=e("span",null,"User Not Login",-1),ao=[oo],no={__name:"views.warehouse",setup(_){const t=g(),o=N(),s=[Ae,is,Vt,Ls],a=r=>{r!==2&&(t.tab_num=r)};return(r,l)=>{var n,c,m,h;return d(),i("div",Ks,[u(o).user?(d(),i("div",Ys,[e("div",Js,[e("div",Qs,[e("span",{class:w([((n=u(t))==null?void 0:n.tab_num)===0?"border-b-violet-800 border-b-4 ":"","text-black px-3 mx-1 pb-2 border-b-2 cursor-pointer"]),onClick:l[0]||(l[0]=v=>a(0))},[Xs,y(" Processing SM")],2),e("span",{class:w([((c=u(t))==null?void 0:c.tab_num)===1?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[1]||(l[1]=v=>a(1))},[Zs,y(" Warehouse")],2),e("span",{class:w([((m=u(t))==null?void 0:m.tab_num)===2?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[2]||(l[2]=v=>a(2))},[eo,y(" Accept SM")],2),e("span",{class:w([((h=u(t))==null?void 0:h.tab_num)===3?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[3]||(l[3]=v=>a(3))},[to,y(" Provide SM")],2)])]),(d(),C(re,null,[(d(),C(ce(s[u(t).tab_num])))],1024))])):(d(),i("div",so,ao))])}}};export{no as default};
