import{_ as K,a as L,T as Q,S as X,b as J,c as Y,d as se}from"./TableFilterWarehouse-8e6bdf65.js";import{_ as oe}from"./TableFilterSM-9ca116eb.js";import{W as p,f as w,x as T,o as n,c as i,b as x,a as e,P as m,X as V,t as f,u,H as y,I as k,N as $,F as S,_ as N,d as g,z as P,K as Z,M as ee,U as F,g as W,w as te,O as A,a0 as ae,R as v,Q as B,S as le,T as ce}from"./index-2db9b5d0.js";const re={class:"w-1 p-4 py-2"},ne={class:"flex items-center"},de={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},ie=["id"],_e={class:"px-2 py-2 text-center"},ue={__name:"Get_Sm_Body_Table_Each_Row_Comp",props:["each","index"],emits:["addChecked","removeChecked"],setup(_,{emit:t}){const s=_,a=p(),o=w(!1),c=()=>o.value===!0?t("addChecked",s==null?void 0:s.each):t("removeChecked",s==null?void 0:s.each);return T(()=>{a.after_created&&(o.value=!1)}),(l,d)=>(n(),i("tr",{class:y([o.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(K,{each:s==null?void 0:s.each},null,8,["each"]),e("td",re,[e("div",ne,[e("label",de,[m(e("input",{id:s.each.id,type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),onChange:c,class:"checkbox checkbox-xs checkbox-primary"},null,40,ie),[[V,o.value]])])])]),e("th",_e,f((s==null?void 0:s.index)+1),1),x(L,{each:s==null?void 0:s.each,table_headers:u(a).processing_sm_headers},null,8,["each","table_headers"])],2))}},he={__name:"Get_SM_Body_Table",setup(_){const t=p(),s=o=>{t.processing_checked_values.push(o)},a=o=>{t.processing_checked_values=t.processing_checked_values.filter(c=>c.sm_id!==o.sm_id);for(let c=0;c<t.processing_checked_values.length;c++)t.processing_checked_values[c].stf_id===o.stf_id&&t.processing_checked_values.splice(c,1)};return T(()=>{var c,l,d;const o=w(!1);if(((c=t.processing_checked_values)==null?void 0:c.length)>=1)for(let r of t.processing_checked_values)(r==null?void 0:r.situation)==="Completed"&&(o.value=!0);if(((l=t.processing_checked_values)==null?void 0:l.length)>=1){for(let r=0;r<((d=t.processing_checked_values)==null?void 0:d.length)-1;r++)if(t.processing_checked_values[r].stf_num!==t.processing_checked_values[r+1].stf_num){o.value=!0;break}}o.value?t.toggle_accept_sm=!0:t.toggle_accept_sm=!1}),(o,c)=>(n(!0),i(S,null,k(u(t).processing_sms,(l,d)=>(n(),$(ue,{each:l,index:d,onAddChecked:s,onRemoveChecked:a},null,8,["each","index"]))),256))}};const U=_=>(Z("data-v-99d5e2df"),_=_(),ee(),_),xe={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},fe={class:"flex justify-between bg-white w-full border rounded-md shadow-2xl"},me={class:"flex items-center"},be={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},pe={class:"ml-3"},ge=U(()=>e("p",null,"Task Selected",-1)),ve={class:"text-blue-600"},ye={class:"flex items-center"},we=U(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),ke=U(()=>e("span",{class:"text-xs"},"Unselect",-1)),$e=["disabled"],Se=U(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),Ce=U(()=>e("span",{class:"text-xs"},"Accept SM",-1)),Te=U(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),g(),e("span",{class:"text-xs"},"Set Star")],-1)),Me={__name:"Show_STF_Selecting_Task",setup(_){const t=p(),s=w([]);T(()=>{s.value=t.processing_checked_values});const a=async()=>{t.tab_num=2},o=()=>{t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(c=>c.id===-1),setTimeout(()=>{t.after_created=!1},1e3)};return(c,l)=>s.value.length>=1?(n(),i("div",xe,[e("div",fe,[e("div",me,[e("span",be,f(s.value.length),1),e("div",pe,[ge,(n(!0),i(S,null,k(s.value.length,d=>(n(),i("span",ve,"●"))),256))])]),e("div",ye,[e("button",{onClick:l[0]||(l[0]=d=>o()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[we,g(),ke]),e("button",{onClick:l[1]||(l[1]=d=>a()),disabled:u(t).toggle_accept_sm,class:y([u(t).toggle_accept_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[Se,g(),Ce],10,$e),Te])])])):P("",!0)}},Ue=N(Me,[["__scopeId","data-v-99d5e2df"]]),De={class:"flex flex-col",style:{display:"inline-block"}},Pe={class:"sticky h-40 top-10 bg-white"},Ve={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},Ne={class:""},Fe={key:0,class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full",style:{"font-size":"xx-small"}},Be={key:1,class:"flex flex-row justify-center items-center w-full h-96"},We=e("span",{class:"loading loading-dots loading-lg"},null,-1),Ae=[We],Ee={__name:"Show_SM_Table",setup(_){const t=p(),s=F();W(async()=>{const o=s.GETUSER;o==null?console.log("if work"):(await t.getProcessingSMS(o==null?void 0:o.projectId),await t.getCompaniesNames(),await t.fetchSTFCreateUsernames(),t.processing_sm_headers.length===0&&await t.getProcessingSMHeaders())});const a=async o=>{await t.getFilteredDataProcessingSM(o)};return(o,c)=>(n(),i("div",De,[x(Q),e("div",Pe,[e("div",Ve,[x(X),x(oe,{onFilterFunction:a},{default:te(()=>[(n(),$(Y,{key:0,table_headers:u(t).processing_sm_headers},null,8,["table_headers"]))]),_:1})])]),e("div",Ne,[u(t).processing_sm_headers.length?(n(),i("table",Fe,[x(J,{table_headers:u(t).processing_sm_headers},null,8,["table_headers"]),x(he)])):(n(),i("div",Be,Ae))]),x(Ue)]))}},Re={},je={class:"text-black bg-gray-100 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Ie=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF Date ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," SM NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Unit ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Certificate ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Passport ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Count ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Price ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Total ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Currency ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Vendor Name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-36"}," Orderer ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-48"}," Supplier ")])],-1),Ge=[Ie];function Oe(_,t){return n(),i("thead",je,Ge)}const qe=N(Re,[["render",Oe]]),ze={class:"bg-white border-b hover:bg-gray-50 table_row"},He=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),Ke={class:"px-2 py-2 text-center"},Le={class:"px-2 text-start border-y"},Qe={class:"bg-orange-100 text-orange-500 py-1 px-2 rounded-xl"},Xe={class:"px-2 py-2 border text-center"},Je={class:"px-2 text-start border-y"},Ye={class:"bg-red-100 text-red-500 py-1 px-2 rounded-xl"},Ze={class:"px-2 text-start border-y-y"},et={class:"px-2 text-start border-y-y"},tt=e("option",{disabled:"",value:""},"Unit",-1),st=e("option",null,"Adet",-1),ot=e("option",null,"M2",-1),at=e("option",null,"M3",-1),lt=e("option",null,"Ton",-1),ct=e("option",null,"Kg",-1),rt=[tt,st,ot,at,lt,ct],nt={class:"px-2 text-center border-y"},dt={class:"px-2 text-center border-y"},it={class:"px-2 py-2 border-y"},_t={class:"px-2 py-2 border-y text-start"},ut={class:"px-2 py-2 border-y text-center"},ht={class:"px-2 py-2 border-y text-center"},xt={class:"px-2 py-2 border-y text-center"},ft={class:"px-2 py-2 border-y text-center"},mt={class:"px-2 py-2 border-y text-start"},bt={class:"px-2 py-2 border-y text-center"},pt={class:"px-2 py-2 border text-center"},gt={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each_item","index","table_data"],setup(_){var o,c,l;const t=_,s=p(),a=A({sm_id:t==null?void 0:t.each_item.sm_id,entering_delivery_amount:(o=t==null?void 0:t.each_item)==null?void 0:o.left_over,delivery_amount:(c=t==null?void 0:t.each_item)==null?void 0:c.left_over,delivery_unit:(l=t==null?void 0:t.each_item)==null?void 0:l.sm_material_unit,certificate:!1,passport:!1});return T(()=>{(a==null?void 0:a.entering_delivery_amount)<(a==null?void 0:a.delivery_amount)+(a==null?void 0:a.delivery_amount)*10/100?(s.processing_checked_values.length>t.table_data.length&&t.table_data.push(a),s.accepted_condition=!0):(alert("u cant enter this value because bigger than %10"),s.accepted_condition=!1)}),(d,r)=>{var b,h,M,E,R,j,I,G,O,q,z,H;return n(),i("tr",ze,[He,e("td",Ke,f((t==null?void 0:t.index)+1),1),e("td",Le,[e("div",Qe,[e("span",null,f((b=t==null?void 0:t.each_item)==null?void 0:b.stf_num),1)])]),e("td",Xe,[x(ae,{time:(h=t==null?void 0:t.each_item)==null?void 0:h.created_at},null,8,["time"])]),e("td",Je,[e("div",Ye,f((M=t==null?void 0:t.each_item)==null?void 0:M.sm_num),1)]),e("td",Ze,[m(e("input",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs",type:"text",placeholder:"Count...","onUpdate:modelValue":r[0]||(r[0]=C=>a.entering_delivery_amount=C)},null,512),[[v,a.entering_delivery_amount]])]),e("td",et,[m(e("select",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs","onUpdate:modelValue":r[1]||(r[1]=C=>a.delivery_unit=C)},rt,512),[[B,a.delivery_unit]])]),e("td",nt,[m(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=C=>a.certificate=C),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[V,a.certificate]])]),e("td",dt,[m(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=C=>a.passport=C),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[V,a.passport]])]),e("td",it,f((E=t==null?void 0:t.each_item)==null?void 0:E.sm_material_name),1),e("td",_t,f((R=t==null?void 0:t.each_item)==null?void 0:R.sm_material_amount),1),e("td",ut,f((j=t==null?void 0:t.each_item)==null?void 0:j.sm_material_unit),1),e("td",ht,f((I=t==null?void 0:t.each_item)==null?void 0:I.price),1),e("td",xt,f((G=t==null?void 0:t.each_item)==null?void 0:G.total),1),e("td",ft,f((O=t==null?void 0:t.each_item)==null?void 0:O.currency),1),e("td",mt,f((q=t==null?void 0:t.each_item)==null?void 0:q.vendor_name),1),e("td",bt,f((z=t==null?void 0:t.each_item)==null?void 0:z.orderer),1),e("td",pt,f((H=t==null?void 0:t.each_item)==null?void 0:H.supplier),1)])}}},vt={__name:"Get_SM_Body_Table",props:["table_data"],setup(_){const t=p();return(s,a)=>{var o;return n(!0),i(S,null,k((o=u(t))==null?void 0:o.processing_checked_values,(c,l)=>(n(),$(gt,{table_data:_.table_data,each_item:c,index:l},null,8,["table_data","each_item","index"]))),256)}}},yt={class:"flex flex-row my-1 items-end"},wt={class:"flex flex-col m-1"},kt=e("span",{class:"text-xs m-1"},"Providing Date",-1),$t={class:"flex flex-col m-1"},St=e("span",{class:"text-xs m-1"},"Document Date",-1),Ct={class:"flex flex-col m-1"},Tt=e("span",{class:"text-xs m-1"},"Document Number",-1),Mt={__name:"Accepting_data",props:["sms_data"],setup(_){const t=_;return(s,a)=>(n(),i("div",yt,[e("div",wt,[kt,m(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":a[0]||(a[0]=o=>t.sms_data.providing_date=o)},null,512),[[v,t.sms_data.providing_date]])]),e("div",$t,[St,m(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":a[1]||(a[1]=o=>t.sms_data.doc_date=o)},null,512),[[v,t.sms_data.doc_date]])]),e("div",Ct,[Tt,m(e("input",{type:"text",id:"search",class:"block w-full p-2 text-xs text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Document Number","onUpdate:modelValue":a[2]||(a[2]=o=>t.sms_data.doc_number=o)},null,512),[[v,t.sms_data.doc_number]])])]))}},Ut={key:0,class:"absolute w-full top-20 flex justify-center"},Dt=e("div",{class:"flex flex-row w-1/3 items-center bg-green-600 text-white justify-center py-3 rounded-lg"},[e("span",null,"SM Succesffuly Received ")],-1),Pt=[Dt],Vt={__name:"Accept_Received_Data_Message",setup(_){const t=p();return(s,a)=>u(t).receive_success_show_message?(n(),i("div",Ut,Pt)):P("",!0)}},Nt={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll border-2"},Ft=["disabled"],Bt={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},Wt={__name:"Accept_SM_Table",setup(_){const t=p(),s=F(),a=A({doc_date:"",providing_date:"",doc_number:""}),o=w([]),c=async()=>{let l=!0;console.log("l am working");for(let[d,r]of Object.entries(a)){if(r=r.toString().trim(),d==="doc_number"&&r===""){l=!1,alert("Doc Number Cant Be Empty");break}if(d==="providing_date"&&r===""){l=!1,alert("Provind Date Cant Be Empty");break}if(d==="doc_date"&&r===""){l=!1,alert("Doc Date Cant Be Empty");break}}if(l){const d={user:s.user,checked_values:t.processing_checked_values,sms_data:a,table_data:o.value};await t.acceptWaitingSM(d).then(r=>{t.receive_success_show_message=!0,t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(b=>b.id===-1),setTimeout(async()=>{t.receive_success_show_message=!1,await t.getProcessingSMS(),a.doc_date="",a.providing_date="",a.doc_number="",t.tab_num=0},1e3),setTimeout(()=>{t.after_created=!1})}).catch(r=>{console.log("Received Material Error : ",r)})}};return(l,d)=>{var r,b;return n(),i("div",Nt,[x(Vt),((r=u(t).processing_checked_values)==null?void 0:r.length)>0?(n(),i("button",{key:0,onClick:c,disabled:!u(t).accepted_condition,class:y(["p-2 px-3 text-white font-weight rounded-lg my-1",(b=u(t))!=null&&b.accepted_condition?"bg-red-600 ":"bg-red-200"])}," Accept ",10,Ft)):P("",!0),x(Mt,{sms_data:a},null,8,["sms_data"]),e("table",Bt,[x(qe),x(vt,{table_data:o.value},null,8,["table_data"])])])}}},At={class:"w-1 p-4 py-2"},Et={class:"flex items-center"},Rt=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),jt={class:"px-2 py-3 text-center"},It={__name:"Warehouse_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(_,{emit:t}){const s=_,a=p(),o=w(!1),c=()=>o.value===!0?t("addChecked",s==null?void 0:s.each):t("removeChecked",s==null?void 0:s.each);return(l,d)=>(n(),i("tr",{class:y([o.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(K,{each:s==null?void 0:s.each},null,8,["each"]),e("td",At,[e("div",Et,[Rt,m(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),onChange:c,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[V,o.value]])])]),e("th",jt,f((s==null?void 0:s.index)+1),1),x(L,{each:s==null?void 0:s.each,table_headers:u(a).warehouse_data_headers},null,8,["each","table_headers"])],2))}},Gt={__name:"Warehouse_Table_Body",setup(_){const t=p(),s=o=>{t.warehouse_data_checked_values.push(o),console.log("item ius : ",t.warehouse_data_checked_values)},a=o=>{t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(c=>c.sm_id!==o.sm_id);for(let c=0;c<t.warehouse_data_checked_values.length;c++)t.warehouse_data_checked_values[c].sm_id===o.sm_id&&t.warehouse_data_checked_values.splice(c,1)};return T(()=>{}),(o,c)=>(n(!0),i(S,null,k(u(t).warehouse_data,(l,d)=>(n(),$(It,{each:l,index:d,onAddChecked:s,onRemoveChecked:a},null,8,["each","index"]))),256))}};const D=_=>(Z("data-v-ef3f5fb9"),_=_(),ee(),_),Ot={key:0,class:"mtf-anim fixed w-full bottom-10 flex flex-col mb-4 items-center rounded-lg"},qt={class:"flex justify-between bg-white w-1/2 border rounded-md shadow-2xl"},zt={class:"flex items-center"},Ht={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},Kt={class:"ml-3"},Lt=D(()=>e("p",null,"Task Selected",-1)),Qt={class:"text-blue-600"},Xt={class:"flex items-center"},Jt=D(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),Yt=D(()=>e("span",{class:"text-xs"},"Unselect",-1)),Zt=["disabled"],es=D(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),ts=D(()=>e("span",{class:"text-xs"},"Provide SM",-1)),ss=D(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),g(),e("span",{class:"text-xs"},"Set Star")],-1)),os={__name:"Show_Warehouse_Selecting_Task",setup(_){const t=p(),s=w([]);T(()=>{s.value=t.warehouse_data_checked_values});const a=async()=>{t.tab_num=3},o=()=>{t.after_created=!0,t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(c=>c.id===-1),setTimeout(()=>{t.after_created=!1},1e3),console.log("processing list : ",t.warehouse_data_checked_values)};return(c,l)=>{var d;return((d=s.value)==null?void 0:d.length)>=1?(n(),i("div",Ot,[e("div",qt,[e("div",zt,[e("span",Ht,f(s.value.length),1),e("div",Kt,[Lt,(n(!0),i(S,null,k(s.value.length,r=>(n(),i("span",Qt,"●"))),256))])]),e("div",Xt,[e("button",{onClick:l[0]||(l[0]=r=>o()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[Jt,g(),Yt]),e("button",{onClick:l[1]||(l[1]=r=>a()),disabled:u(t).toggle_received_sm,class:y([u(t).toggle_received_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[es,g(),ts],10,Zt),ss])])])):P("",!0)}}},as=N(os,[["__scopeId","data-v-ef3f5fb9"]]),ls={class:"flex flex-col",style:{display:"inline-block"}},cs={class:"sticky h-40 top-10 bg-white"},rs={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},ns={class:""},ds={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},is={key:1,class:"flex flex-row justify-center items-center w-full h-96"},_s=e("span",{class:"loading loading-dots loading-lg"},null,-1),us=[_s],hs={__name:"Warehouse_Table",setup(_){const t=p();W(async()=>{await t.fetchWarehouseData(),t.warehouse_data_headers.length===0&&t.getWarehouseDataHeaders()});const s=async a=>{await t.getFilteredDataWarehouse(a)};return(a,o)=>(n(),i("div",ls,[x(Q),e("div",cs,[e("div",rs,[x(X),x(se,{onFilterFunction:s},{default:te(()=>[(n(),$(Y,{key:0,table_headers:u(t).warehouse_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",ns,[u(t).warehouse_data_headers.length?(n(),i("table",ds,[x(J,{table_headers:u(t).warehouse_data_headers},null,8,["table_headers"]),x(Gt)])):(n(),i("div",is,us))]),x(as)]))}},xs={class:"bg-white border-b hover:bg-gray-50 table_row"},fs=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),ms={class:"px-2 py-2 text-center"},bs={class:"px-2 text-start border-y"},ps={class:"py-1 px-2 rounded-xl"},gs={class:"px-2 text-start border-y"},vs={class:"py-1 px-2 rounded-xl"},ys={class:"px-2 text-start border-y"},ws={class:"py-1 px-2 rounded-xl"},ks={class:"px-2 text-start border-y"},$s={class:"py-1 px-2 rounded-xl"},Ss=["value"],Cs={class:"px-2 text-start border-y"},Ts={class:"py-1 px-2 rounded-xl"},Ms={class:"px-2 text-start border-y"},Us={class:"py-1 px-2 rounded-xl"},Ds={class:"px-2 text-start border-y"},Ps={class:"py-1 px-2 rounded-xl"},Vs={class:"px-2 text-start border-y"},Ns={class:"py-1 px-2 rounded-xl"},Fs={class:"px-2 text-start border-y"},Bs={class:"py-1 px-2 rounded-xl"},Ws={class:"px-2 text-start border-y"},As={class:"py-1 px-2 rounded-xl"},Es=["value"],Rs={__name:"Provide_Sm_Table_Body_Each_Row",props:["each_item","index","entering_rows","store"],setup(_){const t=_,s=A({warehouse_id:t==null?void 0:t.each_item.warehouse_id,department_id:t==null?void 0:t.each_item.department_id,type:"",provide_amount:0,serial_no:"",unique_id:"",provide_user:"",provide_user_card_number:"",provide_department:""}),a=w([]),o=w([]);return T(()=>{var c,l,d;if(a.value.length===0&&(a.value=(c=t==null?void 0:t.store)==null?void 0:c.delivery_types),o.value.length===0&&(o.value=(l=t==null?void 0:t.store)==null?void 0:l.departments),s.type!==""&&s.provide_amount!==0&&s.provide_user!==""&&s.provide_user_card_number!==""&&s.provide_department!=="")if(((d=t.entering_rows)==null?void 0:d.length)===0)t.entering_rows.push(s);else{let r=!0;for(let b of t.entering_rows)s.warehouse_id===b.warehouse_id&&(r=!1);r&&t.entering_rows.push(s)}}),(c,l)=>{var d,r,b;return n(),i("tr",xs,[fs,e("td",ms,f((t==null?void 0:t.index)+1),1),e("td",bs,[e("div",ps,[e("span",null,f((d=t==null?void 0:t.each_item)==null?void 0:d.material_name),1)])]),e("td",gs,[e("div",vs,[e("span",null,f((r=t==null?void 0:t.each_item)==null?void 0:r.amount),1)])]),e("td",ys,[e("div",ws,[e("span",null,f((b=t==null?void 0:t.each_item)==null?void 0:b.unit),1)])]),e("td",ks,[e("div",$s,[m(e("select",{name:"",id:"","onUpdate:modelValue":l[0]||(l[0]=h=>s.type=h),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),i(S,null,k(a.value,h=>(n(),i("option",{value:h.id},f(h.type_name),9,Ss))),256))],512),[[B,s.type]])])]),e("td",Cs,[e("div",Ts,[m(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"num",name:"",placeholder:"Enter Amount","onUpdate:modelValue":l[1]||(l[1]=h=>s.provide_amount=h)},null,512),[[v,s.provide_amount]])])]),e("td",Ms,[e("div",Us,[m(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Serial NO","onUpdate:modelValue":l[2]||(l[2]=h=>s.serial_no=h)},null,512),[[v,s.serial_no]])])]),e("td",Ds,[e("div",Ps,[m(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Unique ID","onUpdate:modelValue":l[3]||(l[3]=h=>s.unique_id=h)},null,512),[[v,s.unique_id]])])]),e("td",Vs,[e("div",Ns,[m(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Name Surname","onUpdate:modelValue":l[4]||(l[4]=h=>s.provide_user=h)},null,512),[[v,s.provide_user]])])]),e("td",Fs,[e("div",Bs,[m(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Card Number","onUpdate:modelValue":l[5]||(l[5]=h=>s.provide_user_card_number=h)},null,512),[[v,s.provide_user_card_number]])])]),e("td",Ws,[e("div",As,[m(e("select",{name:"",id:"","onUpdate:modelValue":l[6]||(l[6]=h=>s.provide_department=h),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),i(S,null,k(o.value,h=>(n(),i("option",{value:h.id},f(h.department_name),9,Es))),256))],512),[[B,s.provide_department]])])])])}}},js={__name:"Provide_SM_Table_Body",props:["entering_rows"],setup(_){const t=p();return(s,a)=>{var o;return n(!0),i(S,null,k((o=u(t))==null?void 0:o.warehouse_data_checked_values,(c,l)=>(n(),$(Rs,{each_item:c,index:l,entering_rows:_.entering_rows,store:u(t)},null,8,["each_item","index","entering_rows","store"]))),256)}}},Is={},Gs={class:"text-white bg-slate-800 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Os=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-1/3"},[e("div",{class:"flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Type ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Serial Number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Unique ID ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Worker ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Card number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Department ")])],-1),qs=[Os];function zs(_,t){return n(),i("thead",Gs,qs)}const Hs=N(Is,[["render",zs]]),Ks={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll p-2"},Ls=e("h1",{class:"text-center text-3xl py-4",style:{"font-family":"'Poppins'"}}," Material Provide Form",-1),Qs={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},Xs={__name:"Provide_SM_Table",setup(_){const t=F(),s=p(),a=w([]);W(async()=>{await s.fetchDepartments(),await s.fetchWarehouseDeliveryTypes()});const o=async()=>{const c={};t.user!==null&&(c.user=t.user.id,c.data=a.value,await s.provideSM(c).then(l=>{s.warehouse_data_checked_values=s.warehouse_data_checked_values.filter(d=>d.id===-1),setTimeout(()=>{s.tab_num=1},1e3)}))};return(c,l)=>{var d;return n(),i("div",Ks,[Ls,e("table",Qs,[x(Hs),x(js,{entering_rows:a.value},null,8,["entering_rows"])]),(d=u(s).warehouse_data_checked_values)!=null&&d.length?(n(),i("button",{key:0,onClick:o,class:"bg-red-600 p-2 px-3 text-white font-weight rounded-lg my-1"}," Provide ")):P("",!0)])}}},Js={class:"flex flex-col bg-white"},Ys={key:0,class:"bg-white"},Zs={class:"sticky top-0 bg-white",style:{"font-family":"'Poppins', sans-serif"}},eo={class:"flex flex-row anim h-10 bg-white items-center sticky left-16",style:{"letter-spacing":"1px","font-size":"x-small",display:"inline-block"}},to=e("i",{class:"fa-solid fa-arrow-rotate-left fa-md"},null,-1),so=e("i",{class:"fa-solid fa-download fa-md"},null,-1),oo=e("i",{class:"fa-solid fa-plus fa-md"},null,-1),ao=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),lo={key:1},co=e("span",null,"User Not Login",-1),ro=[co],uo={__name:"views.warehouse",setup(_){const t=p(),s=F(),a=[Ee,hs,Wt,Xs],o=c=>{c!==2&&(t.tab_num=c)};return(c,l)=>{var d,r,b,h;return n(),i("div",Js,[u(s).user?(n(),i("div",Ys,[e("div",Zs,[e("div",eo,[e("span",{class:y([((d=u(t))==null?void 0:d.tab_num)===0?"border-b-violet-800 border-b-4 ":"","text-black px-3 mx-1 pb-2 border-b-2 cursor-pointer"]),onClick:l[0]||(l[0]=M=>o(0))},[to,g(" Processing SM")],2),e("span",{class:y([((r=u(t))==null?void 0:r.tab_num)===1?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[1]||(l[1]=M=>o(1))},[so,g(" Warehouse")],2),e("span",{class:y([((b=u(t))==null?void 0:b.tab_num)===2?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[2]||(l[2]=M=>o(2))},[oo,g(" Accept SM")],2),e("span",{class:y([((h=u(t))==null?void 0:h.tab_num)===3?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:l[3]||(l[3]=M=>o(3))},[ao,g(" Provide SM")],2)])]),(n(),$(ce,null,[(n(),$(le(a[u(t).tab_num])))],1024))])):(n(),i("div",lo,ro))])}}};export{uo as default};
