import{I as F,_ as D,U}from"./index-065bfb3a.js";import{q as j,F as h,G as _,H as a,I as u,u as f,W as v,J as $,K as S,B as G,r as w,M as E,P as T,O as k,a0 as A,a as P,z,R as g,Z as b,S as x,a2 as M}from"./@vue-545ec849.js";import{d as C}from"./pinia-f2173f69.js";import{a as i}from"./axios-21b846bc.js";const N={class:"grid grid-cols-12 gap-4 justify-between sticky bg-white"},W={class:"col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"},I=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-gray-200 text-gray-500 rounded-full px-2 py-2"><i class="fa-solid fa-clock fa-lg"></i></span> Waiting </span><span class="bg-gray-200 rounded-md text-gray-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),V={class:"flex items-center"},O={class:"rounded-full flex border-8 border-gray-600 w-16 h-16 items-center justify-center analyz_show_data"},H={class:"col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"},R=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-red-200 text-red-500 rounded-full px-3 py-2"><i class="fa-regular fa-clipboard fa-lg"></i></span> Completed </span><span class="bg-red-200 rounded-md text-red-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),q={class:"flex items-center"},Q={class:"rounded-full flex border-8 border-red-500 w-16 h-16 items-center justify-center analyz_show_data"},B={class:"col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"},L=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-orange-200 text-orange-500 rounded-full px-2 py-2"><i class="fa-solid fa-ban fa-lg"></i></span> Canceled </span><span class="bg-orange-200 rounded-md text-orange-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),K={class:"flex items-center"},J={class:"rounded-full flex border-8 border-orange-600 w-16 h-16 items-center justify-center analyz_show_data"},Z={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},X=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-blue-200 text-blue-500 rounded-full px-2 py-2"><i class="fa-solid fa-person-digging fa-lg"></i></span> Processing </span><span class="bg-blue-200 rounded-md text-blue-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),Y={class:"flex items-center"},ee={class:"rounded-full flex border-8 border-blue-500 w-16 h-16 items-center justify-center analyz_show_data"},se={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},te=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-green-200 text-green-500 rounded-full px-2 py-2"><i class="fa-solid fa-satellite-dish fa-lg"></i></span> Received </span><span class="bg-green-200 rounded-md text-green-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),ae={class:"flex items-center"},re={class:"rounded-full flex border-8 border-green-500 w-16 h-16 items-center justify-center analyz_show_data"},oe={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},le=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-pink-200 text-pink-500 rounded-full px-2 py-2"><i class="fa-solid fa-warehouse fa-lg"></i></span> Warehouse </span><span class="bg-pink-200 rounded-md text-pink-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),ne={class:"flex items-center"},ie={class:"rounded-full flex border-8 border-pink-500 w-16 h-16 items-center justify-center analyz_show_data"},Es={__name:"STFStatistics",setup(t){const e=F();return j(async()=>{e.statistic_data||await e.fetchStatisticResult()}),(s,o)=>{var r,l,n,m,y,p;return h(),_("div",N,[a("div",W,[I,a("div",V,[a("div",O,u((r=f(e).statistic_data)==null?void 0:r.stf_false),1)])]),a("div",H,[R,a("div",q,[a("div",Q,u((l=f(e).statistic_data)==null?void 0:l.stf_true),1)])]),a("div",B,[L,a("div",K,[a("div",J,u((n=f(e).statistic_data)==null?void 0:n.stf_canceled),1)])]),a("div",Z,[X,a("div",Y,[a("div",ee,u((m=f(e).statistic_data)==null?void 0:m.sm_process),1)])]),a("div",se,[te,a("div",ae,[a("div",re,u((y=f(e).statistic_data)==null?void 0:y.sm_completed),1)])]),a("div",oe,[le,a("div",ne,[a("div",ie,u((p=f(e).statistic_data)==null?void 0:p.warehouse_inform),1)])])])}}};i.defaults.withCredentials=!0;const ks=C("ProcurementStore",{state:()=>({tab_num:0,checked_values:[],companies_names:[],procurement_users_names:[],creating_STF_datas:[],after_created:!1,all_stf:[],all_sms:[],stf_table_headers:[],sm_table_headers:[],toggle_createsm:!1,created_stf_username:[],warehouse_data:[],warehouse_headers:[],warehouse_selecting_rows:[],filtered_vendor_names:[]}),getters:{GETCHECKEDVALUES:t=>t.checked_values,GETCOMPANIESNAMES:t=>t.companies_names,GETPROCUREMENTUSERSNAMES:t=>t.procurement_users_names,GETCREATINGSTFDATA:t=>t.creating_STF_datas,GETWAREHOUSEHEADERS:t=>t.warehouse_headers},actions:{async createSM(t){try{await i.post("https://ustaypm-server.onrender.com/api/procurement/createsm",t).then(e=>e)}catch(e){return e}},async fetchSTF(t){try{await i.get(`https://ustaypm-server.onrender.com/api/procurement/fetchstf/${t.project_id}?user_id=${t.user_id}`).then(e=>{this.all_stf=e.data}).catch(e=>{console.log("all stf Error : ",e)})}catch(e){console.log("Fetch All STF Error : ",e)}},async getFilteredDataSTF(t){const e=this.createUrlQuery(t.filtered_objects);try{await i.get(`https://ustaypm-server.onrender.com/api/common/filterstf/${t.user_id}${e}`).then(s=>{this.all_stf=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getSTFHeaders(){var t;if(this.all_stf.length){for(let[e,s]of Object.entries(this.all_stf[0])){const o=e.slice(e.length-2,e.length);if(e!=="id"&&o!=="id"&&o!=="Id"){let r={},l=e.charAt(0).toUpperCase()+e.slice(1);l=l.split("_").join(" "),e==="completed"||e==="stf_num"||e==="sm_num"||e==="createdAt"||e==="situation"||e==="material_type"||e==="material_name"||e==="amount"||e==="unit"||e==="username"?(r.showname=`${l}`,r.name=`${e}`,r.value=!0):(r.showname=`${l}`,r.name=`${e}`,r.value=!1),this.stf_table_headers.push(r)}}for(let e=0;e<((t=this.all_stf_headers)==null?void 0:t.length);e++){if(this.all_stf_headers[e].name==="completed"){let s=this.all_stf_headers[0];this.all_stf_headers[0]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="stf_num"){let s=this.all_stf_headers[1];this.all_stf_headers[1]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="sm_num"){let s=this.all_stf_headers[2];this.all_stf_headers[2]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="situation"){let s=this.all_stf_headers[3];this.all_stf_headers[3]=this.all_stf_headers[e],this.all_stf_headers[e]=s}}}},async fetchAllSM(t){if(t)try{await i.get(`https://ustaypm-server.onrender.com/api/procurement/fetchsm/${t}`).then(e=>{this.all_sms=e.data}).catch(e=>{console.log("all stf Error : ",e)})}catch(e){console.log("Fetch ALl SM Error : ",e)}},async getFilteredDataSM(t){const e=this.createUrlQuery(t);try{await i.get(`
                https://ustaypm-server.onrender.com/api/common/filtersm${e}
            `).then(s=>{this.all_sms=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getSMHeaders(){var t;if(this.all_sms.length){for(let[e,s]of Object.entries(this.all_sms[0])){const o=e.slice(e.length-2,e.length);if(e!=="id"&&o!=="id"&&o!=="Id"){let r={},l=e.charAt(0).toUpperCase()+e.slice(1);l=l.split("_").join(" "),e==="stf_num"||e==="sm_num"||e==="created_at"||e==="situation"||e==="sm_material_name"||e==="amount"||e==="unit"||e==="sm_num"||e==="price"||e==="total"||e==="currency"||e==="left_over"||e==="supplier"||e==="vendor_name"||e==="username"||e==="orderer"?(r.showname=`${l}`,r.name=`${e}`,r.value=!0):(r.showname=`${l}`,r.name=`${e}`,r.value=!1),this.sm_table_headers.push(r)}}for(let e=0;e<((t=this.sm_table_headers)==null?void 0:t.length);e++){if(this.sm_table_headers[e].name==="stf_num"){let s=this.sm_table_headers[0];this.sm_table_headers[0]=this.sm_table_headers[e],this.sm_table_headers[e]=s}if(this.sm_table_headers[e].name==="sm_num"){let s=this.sm_table_headers[1];this.sm_table_headers[1]=this.sm_table_headers[e],this.sm_table_headers[e]=s}if(this.sm_table_headers[e].name==="situation"){let s=this.sm_table_headers[2];this.sm_table_headers[2]=this.sm_table_headers[e],this.sm_table_headers[e]=s}}}},async getCompaniesNames(){try{await i.get("https://ustaypm-server.onrender.com/api/common/fetchcompanies").then(t=>{this.companies_names=t.data,this.filtered_vendor_names=t.data}).catch(t=>{console.log("Getting Companies Names Errors : ",t)})}catch(t){console.log("Get Companies Name Error : ",t)}},async filterVendorName(t){if(t.toString().trim()==="")this.filtered_vendor_names=this.companies_names;else try{await i.get(`
                  https://ustaypm-server.onrender.com/api/common/filtervendornames?selected_text=${t}
              `).then(e=>{this.filtered_vendor_names=e.data}).catch(e=>{console.log("Error Is : ",e)})}catch(e){console.log("Get Filtered Data Error : ",e)}},async getProcurementUsersNames(t){try{await i.get(`https://ustaypm-server.onrender.com/api/common/procurementusers/${t}`).then(e=>{this.procurement_users_names=e.data}).catch(e=>{console.log("Get Users Names Errors : ",e)})}catch(e){console.log("Get Procurement Users Error : ",e)}},async fetchSTFCreateUsernames(t){if(t)try{await i.get(`https://ustaypm-server.onrender.com/api/common/createdstfusers/${t}`).then(e=>{this.created_stf_username=e.data}).catch(e=>{console.log("Get Users Names Errors : ",e)})}catch(e){console.log("Get Procurement Users Error : ",e)}},async fetchWarehouseData(t){try{await i.get(`https://ustaypm-server.onrender.com/api/warehouse/${t}`).then(e=>{this.warehouse_data=e.data}).catch(e=>{console.log("Fetch User Catch Error : ",e)})}catch(e){return console.log("Fetch User STF Error : ",e),e}},async getWarehouseHeaders(){var t;if(((t=this.warehouse_data)==null?void 0:t.length)>1)for(let[e,s]of Object.entries(this==null?void 0:this.warehouse_data[0])){const o=e.slice(e.length-2,e.length);if(e!=="id"&&o!=="id"&&o!=="Id"){let r={},l=e.charAt(0).toUpperCase()+e.slice(1);l=l.split("_").join(" "),e==="stf_num"||e==="sm_num"||e==="material_name"||e==="amount"||e==="unit"||e==="vendor_name"||e==="stock"||e==="certificate"||e==="passport"||e==="field"?(r.showname=`${l}`,r.name=`${e}`,r.value=!0):(r.showname=`${l}`,r.name=`${e}`,r.value=!1),this.warehouse_headers.push(r)}}},async getFilteredWarehouseData(t){const e=this.createUrlQuery(t);try{await i.get(`
                https://ustaypm-server.onrender.com/api/common/filterwarehouse${e}
            `).then(s=>{this.warehouse_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},createUrlQuery(t){let e="";for(let[s,o]of Object.entries(t))e===""&&(e+="?"),t[s],e+=`${s}=${t[s]}`,e+="&";return e=e.slice(0,-1),e}}}),de={class:"flex flex-col shadow-2xl px-2 absolute w-96 h-96 top-16 right-4 bg-white hover:overflow-y-scroll overflow-hidden rounded-s-xl rounded-ee-xl",style:{"font-family":"'Figtree'"}},ce=a("div",{class:"mt-1 sticky top-0 px-1 bg-white"},[a("input",{class:"border my-2 w-full p-3 rounded-lg text-[1rem] outline-none shadow-md",type:"text",name:"",id:"",placeholder:"Column Name..."})],-1),he={class:""},_e={class:"form-control flex justify-center px-2 w-full"},me={class:"cursor-pointer flex my-2"},ue=["checked","onChange"],pe={class:"label-text ml-3 text-[1.0rem]"},Cs={__name:"TableExpand",props:["table_headers"],setup(t){const e=t,s=o=>{o.value=!o.value};return(o,r)=>(h(),_("div",de,[ce,a("ul",he,[(h(!0),_($,null,S(e==null?void 0:e.table_headers,l=>(h(),_("li",null,[a("div",_e,[a("label",me,[a("input",{type:"checkbox",name:"",checked:l.value,onChange:n=>s(l),class:"toggle toggle-primary toggle-md"},null,40,ue),a("span",pe,u(l.showname),1)])])]))),256))])]))}};const fe={class:"fixed right-0 top-0 z-50"},ge=v('<div class="bg-blue-600 rounded-lg flex flex-row items-center" data-v-e42e9396><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-gear fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-chart-column fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-file-csv fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-regular fa-star fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-ban fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-filter fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-plus fa-lg text-gray-100" data-v-e42e9396></i></div><div class="my-2 px-4" data-v-e42e9396><i class="cursor-pointer hover:text-gray-300 fa-solid fa-file-zipper fa-lg text-gray-100" data-v-e42e9396></i></div></div>',1),ve=[ge],ye={__name:"TableCommonComp",setup(t){return G(!1),w(!0),(e,s)=>(h(),_("div",fe,ve))}},Fs=D(ye,[["__scopeId","data-v-e42e9396"]]);i.defaults.withCredentials=!0;const xe=C("WarehouseStore",{state:()=>({tab_num:0,processing_sms:[],processing_sm_headers:[],processing_checked_values:[],return_checked_values:[],toggle_accept_sm:!1,accepted_condition:!0,after_created:!1,after_provide:!1,after_returning:!1,warehouse_data:[],warehouse_data_headers:[],provides_data:[],provided_data_headers:[],return_checked_values:[],warehouse_data_stock_cond:!0,departments:[],delivery_types:[],companies_names:[],created_stf_username:[]}),actions:{async getProcessingSMS(t){if(t)try{await i.get(`https://ustaypm-server.onrender.com/api/procurement/fetchsm/${t}`).then(e=>{this.processing_sms=e.data}).catch(e=>{console.log("Get Warehouse Waiting Error : ",e)})}catch{console.log("Error Happen For Fetching Warehouse Procesing Data")}},async getFilteredDataProcessingSM(t){const e=this.createUrlQuery(t);try{await i.get(`
                https://ustaypm-server.onrender.com/api/common/filtersm${e}
            `).then(s=>{this.processing_sms=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getProcessingSMHeaders(){var t,e;if((t=this.processing_sms)!=null&&t.length){for(let[s,o]of Object.entries(this==null?void 0:this.processing_sms[0])){const r=s.slice(s.length-2,s.length);if(s!=="id"&&r!=="id"&&r!=="Id"){let l={},n=s.charAt(0).toUpperCase()+s.slice(1);n=n.split("_").join(" "),s==="stf_num"||s==="sm_num"||s==="created_at"||s==="situation"||s==="sm_material_name"||s==="amount"||s==="unit"||s==="sm_num"||s==="price"||s==="total"||s==="currency"||s==="supplier"||s==="vendor_name"||s==="left_over"||s==="username"||s==="orderer"||s==="left_over_amount"?(l.showname=`${n}`,l.name=`${s}`,l.value=!0):(l.showname=`${n}`,l.name=`${s}`,l.value=!1),this.processing_sm_headers.push(l)}}for(let s=0;s<((e=this.processing_sm_headers)==null?void 0:e.length);s++){if(this.processing_sm_headers[s].name==="stf_num"){let o=this.processing_sm_headers[0];this.processing_sm_headers[0]=this.processing_sm_headers[s],this.processing_sm_headers[s]=o}if(this.processing_sm_headers[s].name==="sm_num"){let o=this.processing_sm_headers[1];this.processing_sm_headers[1]=this.processing_sm_headers[s],this.processing_sm_headers[s]=o}if(this.processing_sm_headers[s].name==="situation"){let o=this.processing_sm_headers[2];this.processing_sm_headers[2]=this.processing_sm_headers[s],this.processing_sm_headers[s]=o}}}},async acceptWaitingSM(t){try{await i.post("https://ustaypm-server.onrender.com/api/warehouse/accept",t).then(e=>{this.accepted_sms=e}).catch(e=>{console.log("Accepted Materials Error From Warehouse Store : ",e)})}catch(e){console.log("Received accept Waiting SM Error : ",e)}},async fetchWarehouseData(t){await i.get(`https://ustaypm-server.onrender.com/api/warehouse/${t}`).then(e=>{this.warehouse_data=e.data}).catch(e=>{console.log("Received Items Error : ",e)})},async getFilteredDataWarehouse(t){const e=this.createUrlQuery(t);try{await i.get(`
                https://ustaypm-server.onrender.com/api/common/filterwarehouse${e}
            `).then(s=>{this.warehouse_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getWarehouseDataHeaders(){var t,e;if((t=this.warehouse_data)!=null&&t.length){for(let[s,o]of Object.entries(this.warehouse_data[0]))if(s!=="id"&&s.slice(-2)!=="id"){let r={},l=s.charAt(0).toUpperCase()+s.slice(1);l=l.split("_").join(" "),s==="stf_num"||s==="sm_num"||s==="created_at"||s==="situation"||s==="material_name"||s==="amount"||s==="stock"||s==="unit"||s==="username"||s==="orderer"||s==="delivery_amount"?(r.showname=`${l}`,r.name=`${s}`,r.value=!0):(r.showname=`${l}`,r.name=`${s}`,r.value=!1),this.warehouse_data_headers.push(r)}for(let s=0;s<((e=this.warehouse_data_headers)==null?void 0:e.length);s++){if(this.warehouse_data_headers[s].name==="stf_num"){let o=this.warehouse_data_headers[0];this.warehouse_data_headers[0]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=o}if(this.warehouse_data_headers[s].name==="sm_num"){let o=this.warehouse_data_headers[1];this.warehouse_data_headers[1]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=o}if(this.warehouse_data_headers[s].name==="situation"){let o=this.warehouse_data_headers[2];this.warehouse_data_headers[2]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=o}}}},async fetchProvidedData(t){await i.get(`https://ustaypm-server.onrender.com/api/provides/${t}`).then(e=>{this.provides_data=e.data,console.log("Get Provide Data and result is : ",this.provides_data)}).catch(e=>{console.log("Provied Items Error : ",e)})},async getFilteredDataProvided(t){const e=this.createUrlQuery(t);try{await i.get(`
                https://ustaypm-server.onrender.com/api/common/filterprovided${e}
            `).then(s=>{this.provides_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getProvidedDataHeaders(){var t;if((t=this.provides_data)!=null&&t.length){for(let[e,s]of Object.entries(this.provides_data[0]))if(e!=="id"&&e.slice(-2)!=="id"){let o={},r=e.charAt(0).toUpperCase()+e.slice(1);r=r.split("_").join(" "),e==="sm_num"||e==="provided_date"||e==="material_name"||e==="amount"||e==="unit"||e==="type_name"||e==="serial_no"||e==="unique_id"||e==="deliver_to"||e==="card_number"?(o.showname=`${r}`,o.name=`${e}`,o.value=!0):(o.showname=`${r}`,o.name=`${e}`,o.value=!1),this.provided_data_headers.push(o)}console.log("provided data geaders : ",this.provided_data_headers)}},async provideSM(t){try{await i.post("https://ustaypm-server.onrender.com/api/warehouse/provide",t).then(e=>{console.log("provide respond : ",e)}).catch(e=>{console.log("Provide Materials Error From Warehouse Store : ",e)})}catch(e){console.log("Provide  SM Error : ",e)}},async fetchDepartments(){try{await i.get("https://ustaypm-server.onrender.com/api/common/fetchdepartments").then(t=>{this.departments=t.data}).catch(t=>{console.log("Fetch Departments Error : ",t)})}catch(t){console.log("Fetch Departments Error : ",t)}},async getCompaniesNames(){try{await i.get("https://ustaypm-server.onrender.com/api/common/fetchcompanies").then(t=>{this.companies_names=t.data}).catch(t=>{console.log("Getting Companies Names Errors : ",t)})}catch(t){console.log("Get Companies Name Error : ",t)}},async fetchSTFCreateUsernames(t){if(t)try{await i.get(`https://ustaypm-server.onrender.com/api/common/createdstfusers/${t}`).then(e=>{this.created_stf_username=e.data}).catch(e=>{console.log("Get Users Names Errors : ",e)})}catch(e){console.log("Get Procurement Users Error : ",e)}},async fetchWarehouseDeliveryTypes(){try{await i.get("https://ustaypm-server.onrender.com/api/common/deliverytypes").then(t=>{this.delivery_types=t.data}).catch(t=>{console.log("Fetch Departments Error : ",t)})}catch(t){console.log("Fetch Departments Error : ",t)}},async returnMaterial(t){const e={user:t,materials:this.return_checked_values};console.log(e);try{await i.post("https://ustaypm-server.onrender.com/api/warehouse/return",e).then(s=>{this.return_checked_values=[]}).catch(s=>{console.log("return material from provide to warehouse error : ",s)})}catch(s){console.log("return material from provide to warehouse error : ",s)}},createUrlQuery(t){let e="";for(let[s,o]of Object.entries(t))e===""&&(e+="?"),t[s],e+=`${s}=${t[s]}`,e+="&";return e=e.slice(0,-1),e}}}),we={class:"flex flex-col m-1 relative justify-start items-start"},be=a("span",{class:"m-1"},"Search Vendor Name",-1),$e={class:"p-0 flex items-start"},Se={key:0,class:"flex flex-col bg-white border rounded-xl shadow-2xl absolute top-10 left-10 p-0 min-w-[700px] max-h-[600px] overflow-auto"},Ee=a("span",{class:"font-bold text-2xl",style:{"font-family":"'Poppins', sans-serif"}},"Companies",-1),ke=a("i",{class:"fa-solid fa-xmark"},null,-1),Ce=[ke],Fe=a("div",{class:"sticky top-[36px] p-2 bg-white"},[a("input",{class:"border-2 border-indigo-600 my-2 w-full p-2 rounded-lg text-sm outline-none",type:"text",name:"",id:"",placeholder:"Company Name...",style:{}})],-1),De={class:"text-lg",style:{"font-family":"'Poppins', sans-serif"}},Ue=a("span",{style:{"font-family":"'Poppins', sans-serif"},class:"text-lg"}," -- All -- ",-1),je=[Ue],Ge=["onClick"],Te={__name:"VendorNames",props:["companies_list"],emits:["selectedComp"],setup(t,{emit:e}){const s=w(!1),o=l=>{s.value=!1,e("selectedComp",l)},r=()=>{s.value=!1};return(l,n)=>(h(),_("div",we,[be,a("div",$e,[a("button",{class:"border border-blue-300 py-2 rounded-lg text-sm px-3",onClick:n[0]||(n[0]=m=>s.value=!s.value)}," Select Vendor ")]),E(A,{name:"show"},{default:T(()=>[s.value?(h(),_("div",Se,[a("div",{class:"sticky top-0 bg-white p-2 height-[30px]"},[a("div",{class:"flex justify-between text-gray-600"},[Ee,a("button",{onClick:r,class:"font-bold text-lg hover:bg-gray-100 py-1 px-2 rounded-md"},Ce)])]),Fe,a("ul",De,[a("li",{onClick:n[1]||(n[1]=m=>o("All")),class:"m-1 p-1 px-2 hover:bg-gray-100 cursor-pointer rounded-md"},je),(h(!0),_($,null,S(t.companies_list,m=>(h(),_("li",{onClick:y=>o(m),style:{"font-family":"'Poppins', sans-serif"},class:"m-1 p-1 px-2 hover:bg-gray-100 cursor-pointer rounded-md"},u(m.vendor_name),9,Ge))),256))])])):k("",!0)]),_:1})]))}},Ae={class:"mtf-anim z-70",style:{"letter-spacing":"1px","font-size":"x-small"}},Pe={class:"relative flex flex-row items-center justify-between filter_headers"},ze={class:"flex flex-row start"},Me={class:"flex flex-col my-1 mr-3",style:{"font-size":"x-small"}},Ne=a("span",{class:"m-1"},"Date Order",-1),We=a("option",{value:"Descending"},"Descendig",-1),Ie=a("option",null,"Ascending",-1),Ve=[We,Ie],Oe={class:"flex flex-col m-1"},He=a("span",{class:"m-1"},"Search Type",-1),Re=a("option",null,"All",-1),qe=a("option",null,"Project",-1),Qe=a("option",null,"Consumables",-1),Be=a("option",null,"Fixture",-1),Le=[Re,qe,Qe,Be],Ke={class:"flex flex-col m-1"},Je=a("span",{class:"m-1"},"Search Username",-1),Ze=a("option",{value:"All",style:{"font-family":"'Poppins', sans-serif"},class:"text-lg"},"-- All --",-1),Xe=["value"],Ye={class:"flex flex-col m-1"},es=a("span",{class:"m-1"},"Search Date",-1),ss={class:"flex flex-col m-1"},ts=a("span",{class:"m-1"},"Search STF",-1),as=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),rs={class:"relative"},os=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),ls={class:"flex flex-col m-1"},ns=a("span",{class:"m-1"},"Search SM",-1),is=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),ds={class:"relative"},cs=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),hs={class:"flex flex-row justify-end"},_s={class:"flex flex-col m-1 items-start"},ms=a("span",{class:"m-1"},"Search Type",-1),us=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),ps={class:"relative w-96"},fs=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none w-96"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),gs={class:"flex m-1 items-end text-gray-500 cursor-pointer relative"},vs=a("i",{class:"fa-solid fa-gear fa-2xl"},null,-1),ys=[vs],xs=a("div",{class:"flex m-1 items-end text-gray-500 cursor-pointer relative"},[a("button",{class:"p-2 hover:bg-gray-300 rounded-md"},[a("i",{class:"fa-solid fa-chart-line fa-2xl"})])],-1),Ds={__name:"TableFilterWarehouse",emits:["filterFunction","filtered_fields"],setup(t,{emit:e}){var y;const s=U(),o=xe(),r=w(!1),l=p=>{p!=="All"?n.vendor_name=p.company_id:n.vendor_name=p,r.value=!1},n=P({project_id:(y=s.user)==null?void 0:y.projectId,createdAt:"",sm_material_name:"",vendor_name:"",usernames:"",stf_num:"",sm_num:"",material_type:"",date_order:""});z(()=>{e("filterFunction",n)});const m=w(!1);return(p,c)=>(h(),_("div",Ae,[a("div",Pe,[a("div",ze,[a("div",Me,[Ne,g(a("select",{class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg","onUpdate:modelValue":c[0]||(c[0]=d=>n.date_order=d)},Ve,512),[[b,n.date_order]])]),a("div",Oe,[He,g(a("select",{"onUpdate:modelValue":c[1]||(c[1]=d=>n.material_type=d),class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg"},Le,512),[[b,n.material_type]])]),a("div",Ke,[Je,g(a("select",{"onUpdate:modelValue":c[2]||(c[2]=d=>n.usernames=d),class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg"},[Ze,(h(!0),_($,null,S(f(o).created_stf_username,d=>(h(),_("option",{class:"text-lg",value:d.id,style:{"font-family":"'Poppins', sans-serif"}},u(d.ordered_name),9,Xe))),256))],512),[[b,n.usernames]])]),E(Te,{onSelectedComp:l,companies_list:f(o).companies_names},null,8,["companies_list"]),a("div",Ye,[es,g(a("input",{class:"border outline-none rounded-md border-gray-300 p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":c[3]||(c[3]=d=>n.createdAt=d)},null,512),[[x,n.createdAt]])]),a("div",ss,[ts,as,a("div",rs,[os,g(a("input",{type:"text",id:"search",class:"block w-full p-2 pl-10 outline-none text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"STF...","onUpdate:modelValue":c[4]||(c[4]=d=>n.stf_num=d)},null,512),[[x,n.stf_num]])])]),a("div",ls,[ns,is,a("div",ds,[cs,g(a("input",{type:"text",id:"search",class:"block w-full p-2 pl-10 outline-none text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"SM...","onUpdate:modelValue":c[5]||(c[5]=d=>n.sm_num=d)},null,512),[[x,n.sm_num]])])])]),a("div",hs,[a("div",_s,[ms,us,a("div",ps,[fs,g(a("input",{type:"search",id:"search",class:"outline-none w-full p-2 pl-10 text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"Search","onUpdate:modelValue":c[6]||(c[6]=d=>n.sm_material_name=d)},null,512),[[x,n.sm_material_name]])])]),a("div",gs,[a("button",{class:"p-2 hover:bg-gray-300 rounded-md",onClick:c[7]||(c[7]=d=>m.value=!m.value)},ys),m.value?M(p.$slots,"default",{key:0}):k("",!0)]),xs])])]))}};export{ks as P,Fs as T,xe as W,Es as _,Cs as a,Ds as b,Te as c};
