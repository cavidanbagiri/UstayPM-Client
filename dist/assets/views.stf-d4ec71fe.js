import{A as y,G as K,f as k,o as i,c,b as u,a as s,t as g,u as d,H as $,_ as U,x as H,F as S,I as R,z as F,J as L,K as W,M as j,U as N,g as z,w as I,N as E,O as J,P as v,Q as G,R as A,d as x,W as X,r as Y,S as Z,T as ee}from"./index-e4d43c9b.js";import{_ as B,a as V,T as O,S as P,b as Q,c as q,d as te}from"./TableFilterWarehouse-c2a1e403.js";import{_ as se,T as ae}from"./Toast-0c4b0f62.js";y.defaults.withCredentials=!0;const w=K("STFStore",{state:()=>({tab_num:0,all_stf:null,all_stf_headers:[],warehouse_selecting_rows:[],order_list:[],fields:[],warehouse_data:[],warehouse_headers:[],warehouse_selecting_rows:[],msg_cond:!1,after_created:!1}),getters:{GETALLSTF:o=>o.all_stf,GETALLSTFHEADERS:o=>o.all_stf_headers,GETSELECTINGROWS:o=>o.warehouse_selecting_rows,GETFIELDSNAME:o=>o.fields,GETWAREHOUSEDATA:o=>o.warehouse_data,GETWAREHOUSEHEADERS:o=>o.warehouse_headers},actions:{async createSTF(o){try{await y.post("http://localhost:3000/stf/createstf",o).then(e=>e)}catch(e){return e}},async fetchUserSTFAll(o){if(o!=null&&o.id)try{await y.get(`http://localhost:3000/stf/getuserstfall/${o.id}`).then(e=>{e.data.length!==0&&(this.all_stf=e.data)}).catch(e=>{console.log("Fetch User Catch Error : ",e)})}catch(e){return console.log("Fetch User STF Error : ",e),e}},async getFilteredData(o){const e=this.createUrlQuery(o);try{await y.get(`http://localhost:3000/common/filterstf${e}`).then(t=>{t.data&&(this.all_stf=t.data)}).catch(t=>{console.log("Error Is : ",t)})}catch(t){console.log("Get Filtered Data Error : ",t)}},async getHeaders(){var o,e;if(((o=this.all_stf)==null?void 0:o.length)>1){for(let[t,a]of Object.entries(this==null?void 0:this.all_stf[0])){const n=t.slice(t.length-2,t.length);if(t!=="id"&&n!=="id"&&n!=="Id"){let l={},r=t.charAt(0).toUpperCase()+t.slice(1);r=r.split("_").join(" "),t==="completed"||t==="stf_num"||t==="createdAt"||t==="situation"||t==="material_type"||t==="material_name"||t==="amount"||t==="unit"||t==="username"||t==="field_name"?(l.showname=`${r}`,l.name=`${t}`,l.value=!0):(l.showname=`${r}`,l.name=`${t}`,l.value=!1),this.all_stf_headers.push(l)}}for(let t=0;t<((e=this.all_stf_headers)==null?void 0:e.length);t++){if(this.all_stf_headers[t].name==="completed"){let a=this.all_stf_headers[0];this.all_stf_headers[0]=this.all_stf_headers[t],this.all_stf_headers[t]=a}if(this.all_stf_headers[t].name==="stf_num"){let a=this.all_stf_headers[1];this.all_stf_headers[1]=this.all_stf_headers[t],this.all_stf_headers[t]=a}}}},async fetchFieldsNames(o){if(o)try{await y.get(`http://localhost:3000/common/fetchfields/${o}`).then(e=>{this.fields=e.data}).catch(e=>{console.log("Error Is : ",e)})}catch(e){console.log("fetch Field Names Error : ",e)}},async fetchWarehouseData(o){if(o!=null&&o.id)try{await y.get(`http://localhost:3000/stf/warehouse/${o.id}`).then(e=>{this.warehouse_data=e.data}).catch(e=>{console.log("Fetch User Catch Error : ",e)})}catch(e){return console.log("Fetch User STF Error : ",e),e}},async getWarehouseHeaders(){var o;if(((o=this.warehouse_data)==null?void 0:o.length)>1)for(let[e,t]of Object.entries(this==null?void 0:this.warehouse_data[0])){const a=e.slice(e.length-2,e.length);if(e!=="id"&&a!=="id"&&a!=="Id"){let n={},l=e.charAt(0).toUpperCase()+e.slice(1);l=l.split("_").join(" "),e==="stf_num"||e==="sm_num"||e==="material_name"||e==="amount"||e==="unit"||e==="vendor_name"||e==="stock"||e==="certificate"||e==="passport"||e==="field"?(n.showname=`${l}`,n.name=`${e}`,n.value=!0):(n.showname=`${l}`,n.name=`${e}`,n.value=!1),this.warehouse_headers.push(n)}}},async getFilteredWarehouseData(o){const e=this.createUrlQuery(o);try{await y.get(`
                http://localhost:3000/common/filterwarehouse${e}
            `).then(t=>{this.warehouse_data=t.data}).catch(t=>{console.log("Error Is : ",t)})}catch(t){console.log("Get Filtered Data Error : ",t)}},createUrlQuery(o){let e="";for(let[t,a]of Object.entries(o))e===""&&(e+="?"),o[t],e+=`${t}=${o[t]}`,e+="&";return e=e.slice(0,-1),e}}}),oe={class:"w-1 p-4 py-2"},le={class:"flex items-center"},re={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},ne=["id"],ie={class:"px-2 py-2 font-medium text-center"},ce={__name:"ShowSTFEachRow",props:["each","index"],setup(o){const e=o,t=w(),a=k(!1),n=()=>{a.value=!a.value,a.value?t.warehouse_selecting_rows.push(e.each):t.warehouse_selecting_rows=t.warehouse_selecting_rows.filter(l=>l.stf_id!==e.each.stf_id)};return(l,r)=>(i(),c("tr",{class:$([a.value?"text-white bg-blue-600  hover:bg-blue-500 ":" bg-white  hover:bg-blue-600 hover:text-white hover:duration-200 ","border-b hover:cursor-pointer table_row"])},[u(B,{each:e==null?void 0:e.each},null,8,["each"]),s("td",oe,[s("div",le,[s("label",re,[s("input",{id:e.each.id,type:"checkbox",onChange:r[0]||(r[0]=f=>n(e.each.id)),class:"checkbox checkbox-xs checkbox-primary"},null,40,ne)])])]),s("th",ie,g(e.index+1),1),u(V,{each:e==null?void 0:e.each,table_headers:d(t).all_stf_headers},null,8,["each","table_headers"])],2))}};const de=o=>(W("data-v-76290771"),o=o(),j(),o),_e={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},ue={class:"flex justify-between bg-white border rounded-md shadow-2xl w-full"},he={class:"flex items-center"},fe={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},me={class:"ml-3"},pe=de(()=>s("p",null,"Task Selected",-1)),we={class:"text-blue-600"},xe=L('<div class="flex items-center ml-[200px]" data-v-76290771><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-76290771><i class="fa-regular fa-trash-can" data-v-76290771></i> <span class="text-sm" data-v-76290771>Add Archieve</span></div><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-76290771><i class="fa-solid fa-eye-slash" data-v-76290771></i> <span class="text-sm" data-v-76290771>Dont Show</span></div><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-76290771><i class="fa-regular fa-star" data-v-76290771></i> <span class="text-sm" data-v-76290771>Set Star</span></div></div>',1),be={__name:"SelectingRows",setup(o){const e=w(),t=k([]);return H(()=>{t.value=e.warehouse_selecting_rows}),(a,n)=>d(e).warehouse_selecting_rows.length>=1?(i(),c("div",_e,[s("div",ue,[s("div",he,[s("span",fe,g(t.value.length),1),s("div",me,[pe,(i(!0),c(S,null,R(t.value.length,l=>(i(),c("span",we,"●"))),256))])]),xe])])):F("",!0)}},ge=U(be,[["__scopeId","data-v-76290771"]]),ve={class:"flex flex-col",style:{display:"inline-block"}},ye={class:"sticky top-10 px-1"},$e={class:"sticky left-16 flex flex-col bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},Se={key:0,class:"mx-2 w-full shadow-xl mt-1"},Ee={key:1,class:"flex flex-row justify-center items-center w-full h-96"},Te=s("span",{class:"loading loading-dots loading-lg"},null,-1),ke=[Te],Re={key:2,class:"flex flex-row justify-center items-center w-full h-96"},Fe=s("span",{class:"text-3xl"}," There is not any Orders for showing ",-1),Ce=[Fe],Ae={__name:"ShowSTF",setup(o){const e=w(),t=N();z(async()=>{const n=t.GETUSER;n===void 0||(await e.fetchUserSTFAll(n),e.GETALLSTFHEADERS.length===0&&await e.getHeaders())});const a=async n=>{var l;t.GETUSER!==void 0&&(n.user=(l=t==null?void 0:t.GETUSER)==null?void 0:l.id,await e.getFilteredData(n))};return(n,l)=>{var r;return i(),c("div",ve,[u(O),s("div",ye,[s("div",$e,[u(P),u(se,{onFilterFunction:a},{default:I(()=>[(i(),E(q,{key:0,table_headers:d(e).GETALLSTFHEADERS},null,8,["table_headers"]))]),_:1})])]),d(e).GETALLSTFHEADERS.length?(i(),c("table",Se,[u(Q,{table_headers:d(e).GETALLSTFHEADERS},null,8,["table_headers"]),(i(!0),c(S,null,R(d(e).all_stf,(f,m)=>(i(),E(ce,{each:f,index:m},null,8,["each","index"]))),256))])):(i(),c("div",Ee,ke)),((r=d(e).all_stf)==null?void 0:r.length)===0?(i(),c("div",Re,Ce)):F("",!0),u(ge)])}}},Ue={},Ne={class:"text-gray-100 bg-slate-700 border table_header"},De=s("tr",null,[s("th",{scope:"col",class:"px-6 py-2 text-center border"}," S/S "),s("th",{scope:"col",class:"px-6 py-1 text-center border"},[s("div",{class:""}," Type ")]),s("th",{scope:"col",class:"px-6 py-1 text-center border w-1/3"},[s("div",{class:""}," Material Name ")]),s("th",{scope:"col",class:"px-6 py-1 text-center border"},[s("div",{class:""}," Link ")]),s("th",{scope:"col",class:"px-6 py-1 text-center border w-4"}," Count "),s("th",{scope:"col",class:"px-6 py-1 text-center border w-4"}," Unit "),s("th",{scope:"col",class:"px-6 py-1 text-center border w-8"}," Field "),s("th",{scope:"col",class:"px-6 py-1 text-center border"}," Comment ")],-1),Ge=[De];function Ie(o,e){return i(),c("thead",Ne,Ge)}const He=U(Ue,[["render",Ie]]),ze={scope:"row",class:"w-8 text-gray-900 whitespace-nowrap dark:text-white text-center table_row"},Me={class:"flex justify-between items-center px-1"},Le=s("span",{class:"relative flex h-3 w-3"},[s("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),s("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})],-1),We={scope:"row",class:"p-1 border text-gray-900 whitespace-nowrap dark:text-white table_row",style:{}},je=s("option",{disabled:"",value:""},"Type",-1),Be=s("option",null,"Project",-1),Ve=s("option",null,"Consumables",-1),Oe=s("option",null,"Fixture",-1),Pe=[je,Be,Ve,Oe],Qe={class:"p-1 border text-gray-900 whitespace-nowrap dark:text-white"},qe={class:"p-1 border text-gray-900 whitespace-nowrap dark:text-white"},Ke={class:"p-1 border"},Je={class:"p-1 border",style:{}},Xe=s("option",{disabled:"",value:""},"Unit",-1),Ye=s("option",null,"Adet",-1),Ze=s("option",null,"M2",-1),et=s("option",null,"M3",-1),tt=s("option",null,"Ton",-1),st=s("option",null,"Kg",-1),at=[Xe,Ye,Ze,et,tt,st],ot={class:"p-1 border"},lt=s("option",{disabled:"",value:""},"Field",-1),rt=["value"],nt={class:"p-1 border",style:{}},it={__name:"STF_Table_Body_Each_Row_Comp",props:["id","order_list"],setup(o){const e=o,t=w(),a=J({each_id:e==null?void 0:e.id,material_type:"",material_name:"",material_amount:0,material_unit:"",link:"",fieldId:0,comment:""});return H(()=>{var n;if(((n=t.order_list)==null?void 0:n.length)>=1){let l=!1;for(let r of t.order_list)if(r.each_id===a.each_id){l=!0;break}!l&&a.each_id!=""&&t.order_list.push(a)}else t.order_list.push(a);if(t.after_created)for(let l=0;l<t.order_list.length;l++)a.each_id=0,a.material_type="",a.material_name="",a.link="",a.material_amount=0,a.material_unit="",a.fieldId=0,t.order_list.splice(l,1)}),(n,l)=>(i(),c(S,null,[s("td",ze,[s("div",Me,[s("span",null,g(a.each_id),1),Le])]),s("td",We,[v(s("select",{class:"border border-red-500 outline-none rounded-lg w-full h-full p-2","onUpdate:modelValue":l[0]||(l[0]=r=>a.material_type=r)},Pe,512),[[G,a.material_type]])]),s("td",Qe,[v(s("input",{class:"border border-red-500 outline-none rounded-lg w-full h-full p-2",type:"text",placeholder:"Material Name...","onUpdate:modelValue":l[1]||(l[1]=r=>a.material_name=r)},null,512),[[A,a.material_name]])]),s("td",qe,[v(s("input",{class:"border outline-none rounded-lg w-full h-full p-2",type:"text",placeholder:"Material Link...","onUpdate:modelValue":l[2]||(l[2]=r=>a.link=r)},null,512),[[A,a.link]])]),s("td",Ke,[v(s("input",{class:"border border-red-500 outline-none rounded-lg w-full h-full p-2",type:"number",min:"0.001",placeholder:"Count...","onUpdate:modelValue":l[3]||(l[3]=r=>a.material_amount=r)},null,512),[[A,a.material_amount]])]),s("td",Je,[v(s("select",{class:"border border-red-500 outline-none rounded-lg w-full h-full p-2","onUpdate:modelValue":l[4]||(l[4]=r=>a.material_unit=r)},at,512),[[G,a.material_unit]])]),s("td",ot,[v(s("select",{class:"border border-red-500 outline-none rounded-lg w-full h-full p-2","onUpdate:modelValue":l[5]||(l[5]=r=>a.fieldId=r)},[lt,(i(!0),c(S,null,R(d(t).GETFIELDSNAME,r=>(i(),c("option",{value:r.id},g(r.field_name),9,rt))),256))],512),[[G,a.fieldId]])]),s("td",nt,[v(s("input",{class:"border outline-none rounded-lg w-full h-full p-2",type:"text",placeholder:"Comment...","onUpdate:modelValue":l[6]||(l[6]=r=>a.comment=r)},null,512),[[A,a.comment]])])],64))}};const ct={__name:"STF_Table_Body_Column_Name_Comp",props:["row_size","order_list"],setup(o){const e=o;return(t,a)=>(i(!0),c(S,null,R(e.row_size,n=>(i(),c("tr",{class:$([n===1?"bg-red-50":"","bg-white border-b hover:bg-gray-50 table_row"])},[(i(),E(it,{id:n,key:n,order_list:o.order_list},null,8,["id","order_list"]))],2))),256))}},dt=U(ct,[["__scopeId","data-v-6718c5c3"]]),_t={__name:"STF_Table_Body_Comp",props:["row_size","order_list"],setup(o){const e=o;return(t,a)=>(i(),c("tbody",null,[u(dt,{row_size:e==null?void 0:e.row_size,order_list:o.order_list},null,8,["row_size","order_list"])]))}},ut={class:"flex justify-between mt-1"},ht=s("i",{class:"fa-solid fa-plus fa-lg"},null,-1),ft=s("i",{class:"fa-solid fa-minus fa-lg"},null,-1),mt={__name:"STF_Table_Row_Count_Comp",emits:["emitAddNewRow","emitRemoveRow"],setup(o,{emit:e}){const t=()=>e("emitAddNewRow"),a=()=>e("emitRemoveRow");return(n,l)=>(i(),c("div",ut,[s("button",{onClick:t,class:"font-bold py-2 px-2 my-1 text-xs outline-none font-mono border text-gray-100 rounded-xl bg-orange-500 hover:bg-orange-400 hover:shadow-xl"},[ht,x(" Add New Column ")]),s("button",{onClick:a,class:"py-2 px-2 my-1 text-xs outline-none font-mono font-bold border text-gray-100 rounded-xl bg-red-500 hover:bg-red-400 hover:shadow-xl"},[ft,x(" Remove Column ")])]))}},pt={class:"flex items-center justify-end mt-10"},wt=s("i",{class:"fa-solid fa-plus"},null,-1),xt={__name:"STF_Create_Button_Comp",props:["row_size"],emits:["setRowSize"],setup(o,{emit:e}){const t=o,a=w(),n=N(),l=async()=>{var r,f,m,p,_,C,M;if(a.order_list.length===0&&alert("Must Create at least 1 data"),t.row_size===0)alert("Must Create at least 1 data");else{let T=!0;for(let h=0;h<t.row_size;h++)if(((r=a.order_list[h])==null?void 0:r.material_name)===""){T=!1,alert(`${h+1} Row Material Name is Empty`);break}else if(((f=a.order_list[h])==null?void 0:f.material_type)===""){T=!1,alert(`${h+1} Row Material Type Cant Be An Empty`);break}else if(((m=a.order_list[h])==null?void 0:m.material_amount)<=0){T=!1,alert(`${h+1} Row Material Amount In Not True Amount`);break}else if(((p=a.order_list[h])==null?void 0:p.material_unit)===""){T=!1,alert(`${h+1} Row Unit Is Not Selected`);break}else if(((_=a.order_list[h])==null?void 0:_.fieldId)===0){T=!1,alert(`${h+1} Row Field Not Selected`);break}if(T)try{const h={orders:a.order_list,user:n==null?void 0:n.user};for(let b=(C=a.order_list)==null?void 0:C.length;b>t.row_size;b--){const D=(M=a.order_list)==null?void 0:M.pop()}await a.createSTF(h).then(async b=>{var D;((D=b==null?void 0:b.response)==null?void 0:D.status)===400?alert("MTF Cant Create"):(a.msg_cond=!0,setTimeout(()=>{e("setRowSize"),a.after_created=!0,a.tab_num=0,a.fetchUserSTFAll(h.user)},500),setTimeout(()=>{a.msg_cond=!1},1e3))}).catch(b=>{console.log("from create Error component : ",b)})}catch(h){console.log("error : ",h)}}};return(r,f)=>(i(),c("div",pt,[s("button",{type:"button",onClick:l,class:"text-white bg-gradient-to-r bg-blue-600 hover:bg-blue-500 hover:shadow-xl font-medium rounded-lg text-md px-4 py-2 text-center mr-2 mb-2"},[wt,x(" Create")])]))}},bt={class:"overflow-x-auto shadow-xl sm:rounded-lg border p-2"},gt=s("h1",{class:"text-center text-3xl py-4",style:{"font-family":"'Poppins'"}}," Create STF Form",-1),vt={class:"w-full text-left text-gray-500 dark:text-gray-400"},yt={__name:"CreateSTF",setup(o){const e=w(),t=k(1),a=()=>{let m=!0,p=0;for(let _ of e.order_list){const C=_==null?void 0:_.material_name.trim();(_==null?void 0:_.material_type)===""?(m=!1,alert(`${p+1} Row Material Type Cant Be Empty`)):C===""?(m=!1,alert(`${p+1} Row Material Name Cant Be Empty`)):(_==null?void 0:_.material_amount)<=0?(m=!1,alert(`${p+1} Row Material Amount Cant Be 0`)):(_==null?void 0:_.material_unit)===""?(m=!1,alert(`${p+1} Row Material Unit Is Not Selected`)):(_==null?void 0:_.fieldId)===0&&(m=!1,alert(`${p+1} Row Field Is Not Selected`)),p++}m&&e.order_list.length&&(t.value+=1)},n=()=>{t.value>1?t.value-=1:t.value},l=()=>{t.value=0};let r=k([]);const f=()=>{t.value=1,e.after_created=!1};return(m,p)=>(i(),c("div",bt,[gt,t.value===0?(i(),c("button",{key:0,class:"font-bold py-2 px-2 my-1 text-xs outline-none font-mono border text-gray-100 rounded-xl bg-green-500 mb-2",onClick:p[0]||(p[0]=_=>f())}," Create New STF ")):F("",!0),s("table",vt,[u(He),u(_t,{row_size:t.value,order_list:d(r)},null,8,["row_size","order_list"])]),u(mt,{onEmitAddNewRow:a,onEmitRemoveRow:n}),u(xt,{onSetRowSize:l,row_size:t.value},null,8,["row_size"]),u(ae,{cond:d(e).msg_cond,messages:"New STF Successfuly Created"},null,8,["cond"])]))}},$t={class:"w-1 p-4 py-2"},St={class:"flex items-center"},Et={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},Tt=["id"],kt={class:"px-2 py-2 font-medium text-center"},Rt={__name:"ShowWarehouseEachRow",props:["each","index"],setup(o){const e=o,t=w(),a=k(!1),n=()=>{a.value=!a.value,a.value?t.warehouse_selecting_rows.push(e.each):t.warehouse_selecting_rows=t.warehouse_selecting_rows.filter(l=>l.stf_id!==e.each.stf_id)};return(l,r)=>(i(),c("tr",{class:$([a.value?"text-white bg-blue-600  hover:bg-blue-500 ":" bg-white  hover:bg-blue-600 hover:text-white hover:duration-200 ","border-b hover:cursor-pointer table_row"])},[u(B,{each:e==null?void 0:e.each},null,8,["each"]),s("td",$t,[s("div",St,[s("label",Et,[s("input",{id:e.each.id,type:"checkbox",onChange:r[0]||(r[0]=f=>n(e.each.id)),class:"checkbox checkbox-xs checkbox-primary"},null,40,Tt)])])]),s("th",kt,g(e.index+1),1),u(V,{each:e==null?void 0:e.each,table_headers:d(t).GETWAREHOUSEHEADERS},null,8,["each","table_headers"])],2))}};const Ft=o=>(W("data-v-6a925cb8"),o=o(),j(),o),Ct={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},At={class:"flex justify-between bg-white border rounded-md shadow-2xl w-full"},Ut={class:"flex items-center"},Nt={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},Dt={class:"ml-3"},Gt=Ft(()=>s("p",null,"Task Selected",-1)),It={class:"text-blue-600"},Ht=L('<div class="flex items-center ml-[200px]" data-v-6a925cb8><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-6a925cb8><i class="fa-regular fa-trash-can" data-v-6a925cb8></i> <span class="text-sm" data-v-6a925cb8>Add Archieve</span></div><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-6a925cb8><i class="fa-solid fa-eye-slash" data-v-6a925cb8></i> <span class="text-sm" data-v-6a925cb8>Dont Show</span></div><div class="flex flex-col items-center mx-3 cursor-pointer" data-v-6a925cb8><i class="fa-regular fa-star" data-v-6a925cb8></i> <span class="text-sm" data-v-6a925cb8>Set Star</span></div></div>',1),zt={__name:"SelectingRows",setup(o){const e=w(),t=k([]);return H(()=>{t.value=e.warehouse_selecting_rows}),(a,n)=>d(e).warehouse_selecting_rows.length>=1?(i(),c("div",Ct,[s("div",At,[s("div",Ut,[s("span",Nt,g(t.value.length),1),s("div",Dt,[Gt,(i(!0),c(S,null,R(t.value.length,l=>(i(),c("span",It,"●"))),256))])]),Ht])])):F("",!0)}},Mt=U(zt,[["__scopeId","data-v-6a925cb8"]]),Lt={class:"flex flex-col",style:{display:"inline-block"}},Wt={class:"sticky top-10 px-1"},jt={class:"sticky left-16 flex flex-col bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},Bt={key:0,class:"mx-2 text-gray-800 w-full shadow-xl bg-white mt-1"},Vt={key:1,class:"flex flex-row justify-center items-center w-full h-96"},Ot=s("span",{class:"loading loading-dots loading-lg"},null,-1),Pt=[Ot],Qt={key:2,class:"flex flex-row justify-center items-center w-full h-96"},qt={class:"text-3xl"},Kt={__name:"WarehouseData",setup(o){const e=w(),t=N(),a=X();z(async()=>{const l=t.GETUSER;l===void 0||(await e.fetchWarehouseData(l),await a.getCompaniesNames(),e.GETWAREHOUSEHEADERS.length===0&&await e.getWarehouseHeaders())});const n=async l=>{var r;t.GETUSER!==void 0&&(l.user=(r=t==null?void 0:t.GETUSER)==null?void 0:r.id,await e.getFilteredWarehouseData(l))};return(l,r)=>{var m;const f=Y("spanm");return i(),c("div",Lt,[u(O),s("div",Wt,[s("div",jt,[u(P),u(te,{onFilterFunction:n},{default:I(()=>[(i(),E(q,{key:0,table_headers:d(e).GETWAREHOUSEHEADERS},null,8,["table_headers"]))]),_:1})])]),d(e).GETWAREHOUSEHEADERS.length?(i(),c("table",Bt,[u(Q,{table_headers:d(e).GETWAREHOUSEHEADERS},null,8,["table_headers"]),(i(!0),c(S,null,R(d(e).warehouse_data,(p,_)=>(i(),E(Rt,{each:p,index:_},null,8,["each","index"]))),256))])):(i(),c("div",Vt,Pt)),((m=d(e).warehouse_data)==null?void 0:m.length)===0?(i(),c("div",Qt,[s("span",qt,[x(" There is not any data in warehouse which created by "),u(f,{class:"font-bold"},{default:I(()=>[x(g(d(t).user.name)+" "+g(d(t).user.surname),1)]),_:1})])])):F("",!0),u(Mt)])}}},Jt={class:"flex flex-col bg-white"},Xt={key:0,class:"bg-white",style:{"font-family":"'Poppins'"}},Yt={class:"bg-white sticky top-0"},Zt={class:"flex flex-row anim h-10 bg-white items-center sticky left-16",style:{"letter-spacing":"1px","font-size":"x-small",display:"inline-block"}},es={class:"flex flex-row anim h-10 sticky top-0 bg-white w-full items-center",style:{"letter-spacing":"1px","font-size":"x-small"}},ts=s("i",{class:"fa-solid fa-list fa-lg"},null,-1),ss=s("i",{class:"fa-solid fa-plus fa-lg"},null,-1),as=s("i",{class:"fa-solid fa-warehouse fa-lg"},null,-1),os=s("i",{class:"fa-solid fa-upload fa-lg"},null,-1),ls={key:1},rs=s("span",null,"User Not Login ",-1),ns=[rs],_s={__name:"views.stf",setup(o){const e=N(),t=w(),a=[Ae,yt,Kt],n=l=>{t.tab_num=l};return z(async()=>{const l=e.GETUSER;l===void 0||t.fetchFieldsNames(l==null?void 0:l.projectId)}),(l,r)=>(i(),c("div",Jt,[d(e).user?(i(),c("div",Xt,[s("div",Yt,[s("div",Zt,[s("div",es,[s("span",{class:$([d(t).tab_num===0?"border-b-violet-800 border-b-4 ":"","text-black px-3 py-2 pt-2 mx-1 border-b-2 cursor-pointer"]),onClick:r[0]||(r[0]=f=>n(0))},[ts,x(" Show STF")],2),s("span",{class:$([d(t).tab_num===1?"border-b-violet-800 border-b-4 ":"","text-black px-3 py-2 pt-2 mx-1 border-b-2 cursor-pointer"]),onClick:r[1]||(r[1]=f=>n(1))},[ss,x(" Create STF")],2),s("span",{class:$([d(t).tab_num===2?"border-b-violet-800 border-b-4 ":"","text-black px-3 py-2 pt-2 mx-1 border-b-2 cursor-pointer"]),onClick:r[2]||(r[2]=f=>n(2))},[as,x(" Warehouse")],2),s("span",{class:$([d(t).tab_num===3?"border-b-violet-800 border-b-4 ":"","text-black px-3 py-2 pt-2 mx-1 border-b-2 cursor-pointer"]),onClick:r[3]||(r[3]=f=>n(3))},[os,x(" Provides")],2)])])]),(i(),E(ee,null,[(i(),E(Z(a[d(t).tab_num])))],1024))])):(i(),c("div",ls,ns))]))}};export{_s as default};
