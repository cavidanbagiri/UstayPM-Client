import{W as y,_ as K,a as X,P as ce,T as J,b as ee,c as te,d as se,e as ne}from"./TableFilterWarehouse-a99b7821.js";import{_ as de}from"./TableFilterSM-28680427.js";import{r as w,z as D,F as n,G as i,M as f,H as e,R as g,_ as W,I as m,u as h,X as $,K as U,Q as C,J as A,L as k,O as S,U as Y,V as q,q as H,a as B,P as Q,S as P,Z,a1 as G,l as ie,$ as _e}from"./@vue-545ec849.js";import{_ as V,U as I,b as ue}from"./index-1962e799.js";import{T as L}from"./Toast-79bffb58.js";import{_ as he}from"./TableFilterProvide-464e56f7.js";import"./pinia-f2173f69.js";import"./axios-21b846bc.js";import"./socket.io-client-651ff694.js";import"./engine.io-client-86cec14e.js";import"./engine.io-parser-b13552ae.js";import"./@socket.io-3e1df240.js";import"./socket.io-parser-44417fca.js";import"./moment-fbc5633a.js";import"./vue-router-27805559.js";import"./vee-validate-e5cd1ca6.js";import"./chart.js-60a64726.js";import"./@kurkle-b1b89bbc.js";import"./@vee-validate-f04fc1ec.js";const fe={class:"w-1 p-4 py-2"},xe={class:"flex items-center"},me={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},pe=["id"],be={class:"px-2 py-2 text-center"},ve={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each","index"],emits:["addChecked","removeChecked"],setup(u,{emit:t}){const s=u,a=y(),o=w(!1),l=()=>o.value===!0?t("addChecked",s==null?void 0:s.each):t("removeChecked",s==null?void 0:s.each);return D(()=>{a.after_created&&(o.value=!1)}),(c,d)=>(n(),i("tr",{class:$([o.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[f(K,{each:s==null?void 0:s.each},null,8,["each"]),e("td",fe,[e("div",xe,[e("label",me,[g(e("input",{id:s.each.id,type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),onChange:l,class:"checkbox checkbox-xs checkbox-primary"},null,40,pe),[[W,o.value]])])])]),e("th",be,m((s==null?void 0:s.index)+1),1),f(X,{each:s==null?void 0:s.each,table_headers:h(a).processing_sm_headers},null,8,["each","table_headers"])],2))}},ge={__name:"Get_SM_Body_Table",setup(u){const t=y(),s=o=>{t.processing_checked_values.push(o)},a=o=>{t.processing_checked_values=t.processing_checked_values.filter(l=>l.sm_id!==o.sm_id);for(let l=0;l<t.processing_checked_values.length;l++)t.processing_checked_values[l].stf_id===o.stf_id&&t.processing_checked_values.splice(l,1)};return D(()=>{var l,c,d;const o=w(!1);if(((l=t.processing_checked_values)==null?void 0:l.length)>=1)for(let r of t.processing_checked_values)(r==null?void 0:r.situation)==="Completed"&&(o.value=!0);if(((c=t.processing_checked_values)==null?void 0:c.length)>=1){for(let r=0;r<((d=t.processing_checked_values)==null?void 0:d.length)-1;r++)if(t.processing_checked_values[r].stf_num!==t.processing_checked_values[r+1].stf_num){o.value=!0;break}}o.value?t.toggle_accept_sm=!0:t.toggle_accept_sm=!1}),(o,l)=>(n(!0),i(A,null,U(h(t).processing_sms,(c,d)=>(n(),C(ve,{each:c,index:d,onAddChecked:s,onRemoveChecked:a},null,8,["each","index"]))),256))}};const R=u=>(Y("data-v-2e8e452c"),u=u(),q(),u),ye={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},ke={class:"flex justify-between bg-white w-full border rounded-md shadow-2xl"},we={class:"flex items-center"},$e={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},Se={class:"ml-3"},Ce=R(()=>e("p",null,"Task Selected",-1)),Ae={class:"text-blue-600"},Te={class:"flex items-center"},Me=R(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),Ue=R(()=>e("span",{class:"text-xs"},"Unselect",-1)),Pe=["disabled"],De=R(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),Ne=R(()=>e("span",{class:"text-xs"},"Accept SM",-1)),Fe=R(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),k(),e("span",{class:"text-xs"},"Set Star")],-1)),Ie={__name:"Show_STF_Selecting_Task",emits:["acceptSM"],setup(u,{emit:t}){const s=y(),a=w([]);D(()=>{a.value=s.processing_checked_values});const o=async()=>{t("acceptSM")},l=()=>{s.after_created=!0,s.processing_checked_values=s.processing_checked_values.filter(c=>c.id===-1),setTimeout(()=>{s.after_created=!1},1e3)};return(c,d)=>a.value.length>=1?(n(),i("div",ye,[e("div",ke,[e("div",we,[e("span",$e,m(a.value.length),1),e("div",Se,[Ce,(n(!0),i(A,null,U(a.value.length,r=>(n(),i("span",Ae,"●"))),256))])]),e("div",Te,[e("button",{onClick:d[0]||(d[0]=r=>l()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[Me,k(),Ue]),e("button",{onClick:d[1]||(d[1]=r=>o()),disabled:h(s).toggle_accept_sm,class:$([h(s).toggle_accept_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[De,k(),Ne],10,Pe),Fe])])])):S("",!0)}},Be=V(Ie,[["__scopeId","data-v-2e8e452c"]]),Ve={class:"flex flex-col",style:{display:"inline-block"}},Re={class:"sticky h-40 top-10 bg-white z-10"},Ee={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},je={class:""},ze={key:0,class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full",style:{"font-size":"xx-small"}},We={key:1,class:"flex flex-row justify-center items-center w-full h-96"},Qe=e("span",{class:"loading loading-dots loading-lg"},null,-1),Oe=[Qe],Ge={__name:"Show_SM_Table",setup(u){const t=y(),s=I(),a=ce();H(async()=>{const d=s.GETUSER;d==null?console.log("if work"):(await t.getProcessingSMS(d==null?void 0:d.projectId),await t.getCompaniesNames(),await a.getCompaniesNames(),await t.fetchSTFCreateUsernames(s.user.projectId),await a.fetchSTFCreateUsernames(s.user.projectId),t.processing_sm_headers.length===0&&await t.getProcessingSMHeaders())});const o=B({cond:!1,messages:""}),l=async()=>{s.user?s.user.departmentId!==3?(o.cond=!0,o.messages="You dont have authority for Accepting SM",setTimeout(()=>{o.cond=!1},1e3)):t.tab_num=2:(o.cond=!0,o.messages="User Not Login")},c=async d=>{await t.getFilteredDataProcessingSM(d)};return(d,r)=>(n(),i("div",Ve,[f(J),e("div",Re,[e("div",Ee,[f(ee),f(de,{onFilterFunction:c},{default:Q(()=>[(n(),C(te,{key:0,table_headers:h(t).processing_sm_headers},null,8,["table_headers"]))]),_:1})])]),e("div",je,[h(t).processing_sm_headers.length?(n(),i("table",ze,[f(se,{table_headers:h(t).processing_sm_headers},null,8,["table_headers"]),f(ge)])):(n(),i("div",We,Oe))]),f(Be,{onAcceptSM:l}),f(L,{cond:o.cond,messages:o.messages},null,8,["cond","messages"])]))}},Ye={},qe={class:"text-black bg-gray-100 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},He=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF Date ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," SM NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Unit ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Certificate ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Passport ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Count ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Price ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Total ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Currency ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Vendor Name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-36"}," Orderer ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-48"}," Supplier ")])],-1),Le=[He];function Ze(u,t){return n(),i("thead",qe,Le)}const Ke=V(Ye,[["render",Ze]]),Xe={class:"bg-white border-b hover:bg-gray-50 table_row"},Je=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),et={class:"px-2 py-2 text-center"},tt={class:"px-2 text-start border-y"},st={class:"bg-orange-100 text-orange-500 py-1 px-2 rounded-xl"},ot={class:"px-2 py-2 border text-center"},at={class:"px-2 text-start border-y"},lt={class:"bg-red-100 text-red-500 py-1 px-2 rounded-xl"},rt={class:"px-2 text-start border-y-y"},ct={class:"px-2 text-start border-y-y"},nt=e("option",{disabled:"",value:""},"Unit",-1),dt=e("option",null,"Adet",-1),it=e("option",null,"M2",-1),_t=e("option",null,"M3",-1),ut=e("option",null,"Ton",-1),ht=e("option",null,"Kg",-1),ft=[nt,dt,it,_t,ut,ht],xt={class:"px-2 text-center border-y"},mt={class:"px-2 text-center border-y"},pt={class:"px-2 py-2 border-y"},bt={class:"px-2 py-2 border-y text-start"},vt={class:"px-2 py-2 border-y text-center"},gt={class:"px-2 py-2 border-y text-center"},yt={class:"px-2 py-2 border-y text-center"},kt={class:"px-2 py-2 border-y text-center"},wt={class:"px-2 py-2 border-y text-start"},$t={class:"px-2 py-2 border-y text-center"},St={class:"px-2 py-2 border text-center"},Ct={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each_item","index","table_data"],setup(u){var o,l,c;const t=u,s=y(),a=B({sm_id:t==null?void 0:t.each_item.sm_id,entering_delivery_amount:(o=t==null?void 0:t.each_item)==null?void 0:o.left_over,delivery_amount:(l=t==null?void 0:t.each_item)==null?void 0:l.left_over,delivery_unit:(c=t==null?void 0:t.each_item)==null?void 0:c.sm_material_unit,certificate:!1,passport:!1});return D(()=>{(a==null?void 0:a.entering_delivery_amount)<(a==null?void 0:a.delivery_amount)+(a==null?void 0:a.delivery_amount)*10/100?(s.processing_checked_values.length>t.table_data.length&&t.table_data.push(a),s.accepted_condition=!0):(alert("u cant enter this value because bigger than %10"),s.accepted_condition=!1)}),(d,r)=>{var x,b,v,_,p,M,N,z,O,oe,ae,le;return n(),i("tr",Xe,[Je,e("td",et,m((t==null?void 0:t.index)+1),1),e("td",tt,[e("div",st,[e("span",null,m((x=t==null?void 0:t.each_item)==null?void 0:x.stf_num),1)])]),e("td",ot,[f(ue,{time:(b=t==null?void 0:t.each_item)==null?void 0:b.created_at},null,8,["time"])]),e("td",at,[e("div",lt,m((v=t==null?void 0:t.each_item)==null?void 0:v.sm_num),1)]),e("td",rt,[g(e("input",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs",type:"text",placeholder:"Count...","onUpdate:modelValue":r[0]||(r[0]=F=>a.entering_delivery_amount=F)},null,512),[[P,a.entering_delivery_amount]])]),e("td",ct,[g(e("select",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs","onUpdate:modelValue":r[1]||(r[1]=F=>a.delivery_unit=F)},ft,512),[[Z,a.delivery_unit]])]),e("td",xt,[g(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[2]||(r[2]=F=>a.certificate=F),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[W,a.certificate]])]),e("td",mt,[g(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=F=>a.passport=F),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[W,a.passport]])]),e("td",pt,m((_=t==null?void 0:t.each_item)==null?void 0:_.sm_material_name),1),e("td",bt,m((p=t==null?void 0:t.each_item)==null?void 0:p.amount),1),e("td",vt,m((M=t==null?void 0:t.each_item)==null?void 0:M.unit),1),e("td",gt,m((N=t==null?void 0:t.each_item)==null?void 0:N.price),1),e("td",yt,m((z=t==null?void 0:t.each_item)==null?void 0:z.total),1),e("td",kt,m((O=t==null?void 0:t.each_item)==null?void 0:O.currency),1),e("td",wt,m((oe=t==null?void 0:t.each_item)==null?void 0:oe.vendor_name),1),e("td",$t,m((ae=t==null?void 0:t.each_item)==null?void 0:ae.orderer),1),e("td",St,m((le=t==null?void 0:t.each_item)==null?void 0:le.supplier),1)])}}},At={__name:"Get_SM_Body_Table",props:["table_data"],setup(u){const t=y();return(s,a)=>{var o;return n(!0),i(A,null,U((o=h(t))==null?void 0:o.processing_checked_values,(l,c)=>(n(),C(Ct,{table_data:u.table_data,each_item:l,index:c},null,8,["table_data","each_item","index"]))),256)}}},Tt={class:"flex flex-row my-1 items-end"},Mt={class:"flex flex-col m-1"},Ut=e("span",{class:"text-xs m-1"},"Providing Date",-1),Pt={class:"flex flex-col m-1"},Dt=e("span",{class:"text-xs m-1"},"Document Date",-1),Nt={class:"flex flex-col m-1"},Ft=e("span",{class:"text-xs m-1"},"Document Number",-1),It={__name:"Accepting_data",props:["sms_data"],setup(u){const t=u;return(s,a)=>(n(),i("div",Tt,[e("div",Mt,[Ut,g(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":a[0]||(a[0]=o=>t.sms_data.providing_date=o)},null,512),[[P,t.sms_data.providing_date]])]),e("div",Pt,[Dt,g(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":a[1]||(a[1]=o=>t.sms_data.doc_date=o)},null,512),[[P,t.sms_data.doc_date]])]),e("div",Nt,[Ft,g(e("input",{type:"text",id:"search",class:"block w-full p-2 text-xs text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Document Number","onUpdate:modelValue":a[2]||(a[2]=o=>t.sms_data.doc_number=o)},null,512),[[P,t.sms_data.doc_number]])])]))}},Bt={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll border-2"},Vt=["disabled"],Rt={class:"p-2 px-3 text-white font-weight rounded-lg my-1 bg-red-600"},Et=e("span",{class:"loading loading-spinner"},null,-1),jt={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},zt={__name:"Accept_SM_Table",setup(u){const t=y(),s=I(),a=w(!0),o=B({doc_date:"",providing_date:"",doc_number:""}),l=w([]),c=async()=>{a.value=!1;let d=!0;for(let[r,x]of Object.entries(o)){if(x=x.toString().trim(),r==="doc_number"&&x===""){d=!1,alert("Doc Number Cant Be Empty");break}if(r==="providing_date"&&x===""){d=!1,alert("Provind Date Cant Be Empty");break}if(r==="doc_date"&&x===""){d=!1,alert("Doc Date Cant Be Empty");break}}for(let r=0;r<l.value.length>0;r++)if(!l.value[r].delivery_unit){d=!1,alert(`${r+1} Row, Delivery Unit Not Selected`);break}if(d){const r={user:s.user,checked_values:t.processing_checked_values,sms_data:o,table_data:l.value};await t.acceptWaitingSM(r).then(x=>{t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(b=>b.id===-1),setTimeout(async()=>{await t.getProcessingSMS(),a.value=!0,o.doc_date="",o.providing_date="",o.doc_number="",t.tab_num=0},1e3),setTimeout(()=>{t.after_created=!1},2e3)}).catch(x=>{console.log("Received Material Error : ",x)})}else a.value=!0};return(d,r)=>{var x,b;return n(),i("div",Bt,[((x=h(t).processing_checked_values)==null?void 0:x.length)>0?g((n(),i("button",{key:0,onClick:c,disabled:!h(t).accepted_condition,class:$(["p-2 px-3 text-white font-weight rounded-lg my-1",(b=h(t))!=null&&b.accepted_condition?"bg-red-600 ":"bg-red-200"])}," Accept ",10,Vt)),[[G,a.value]]):S("",!0),g(e("button",Rt,[Et,k(" Loading ")],512),[[G,!a.value]]),f(It,{sms_data:o},null,8,["sms_data"]),e("table",jt,[f(Ke),f(At,{table_data:l.value},null,8,["table_data"])]),f(L,{cond:h(t).after_created,messages:"SM Successfuly Received"},null,8,["cond"])])}}},Wt={class:"w-1 p-4 py-2"},Qt={class:"flex items-center"},Ot=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),Gt={class:"px-2 py-3 text-center"},Yt={__name:"Warehouse_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(u,{emit:t}){const s=u,a=y(),o=w(!1),l=()=>o.value===!0?t("addChecked",s==null?void 0:s.each):t("removeChecked",s==null?void 0:s.each);return D(()=>{a.after_provide&&(o.value=!1)}),(c,d)=>(n(),i("tr",{class:$([o.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[f(K,{each:s==null?void 0:s.each},null,8,["each"]),e("td",Wt,[e("div",Qt,[Ot,g(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=r=>o.value=r),onChange:l,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[W,o.value]])])]),e("th",Gt,m((s==null?void 0:s.index)+1),1),f(X,{each:s==null?void 0:s.each,table_headers:h(a).warehouse_data_headers},null,8,["each","table_headers"])],2))}},qt={__name:"Warehouse_Table_Body",setup(u){const t=y(),s=o=>{t.return_checked_values.push(o),console.log("item ius : ",t.return_checked_values)},a=o=>{t.return_checked_values=t.return_checked_values.filter(l=>l.sm_id!==o.sm_id);for(let l=0;l<t.return_checked_values.length;l++)t.return_checked_values[l].sm_id===o.sm_id&&t.return_checked_values.splice(l,1)};return D(()=>{}),(o,l)=>(n(!0),i(A,null,U(h(t).warehouse_data,(c,d)=>(n(),C(Yt,{each:c,index:d,onAddChecked:s,onRemoveChecked:a},null,8,["each","index"]))),256))}};const E=u=>(Y("data-v-9a5f6da2"),u=u(),q(),u),Ht={key:0,class:"mtf-anim fixed w-full bottom-10 flex flex-col mb-4 items-center rounded-lg"},Lt={class:"flex justify-between bg-white w-1/2 border rounded-md shadow-2xl"},Zt={class:"flex items-center"},Kt={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},Xt={class:"ml-3"},Jt=E(()=>e("p",null,"Task Selected",-1)),es={class:"text-blue-600"},ts={class:"flex items-center"},ss=E(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),os=E(()=>e("span",{class:"text-xs"},"Unselect",-1)),as=["disabled"],ls=E(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),rs=E(()=>e("span",{class:"text-xs"},"Provide SM",-1)),cs=E(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),k(),e("span",{class:"text-xs"},"Set Star")],-1)),ns={__name:"Show_Warehouse_Selecting_Task",emits:"provideSM",setup(u,{emit:t}){const s=y(),a=async()=>{t("provideSM")},o=()=>{s.after_provide=!0,s.return_checked_values=s.return_checked_values.filter(l=>l.id===-1),setTimeout(()=>{s.after_provide=!1},1e3)};return(l,c)=>{var d;return((d=h(s).return_checked_values)==null?void 0:d.length)>=1?(n(),i("div",Ht,[e("div",Lt,[e("div",Zt,[e("span",Kt,m(h(s).return_checked_values.length),1),e("div",Xt,[Jt,(n(!0),i(A,null,U(h(s).return_checked_values.length,r=>(n(),i("span",es,"●"))),256))])]),e("div",ts,[e("button",{onClick:c[0]||(c[0]=r=>o()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[ss,k(),os]),e("button",{onClick:c[1]||(c[1]=r=>a()),disabled:h(s).toggle_received_sm,class:$([h(s).toggle_received_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[ls,k(),rs],10,as),cs])])])):S("",!0)}}},ds=V(ns,[["__scopeId","data-v-9a5f6da2"]]),is={class:"flex flex-col",style:{display:"inline-block"}},_s={class:"sticky h-40 top-10 bg-white z-10"},us={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},hs={class:""},fs={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},xs={key:1,class:"flex flex-row justify-center items-center w-full h-96"},ms=e("span",{class:"loading loading-dots loading-lg"},null,-1),ps=[ms],bs={__name:"Warehouse_Table",setup(u){const t=y(),s=I();H(async()=>{s.user&&(await t.fetchWarehouseData(s.user.projectId),t.warehouse_data_headers.length===0&&t.getWarehouseDataHeaders())});const a=B({cond:!1,messages:""}),o=async()=>{s.user?s.user.departmentId!==3?(a.cond=!0,a.messages="You dont have authority for providing data",setTimeout(()=>{a.cond=!1},1e3)):t.tab_num=3:(a.cond=!0,a.messages="User Not Login")},l=async c=>{await t.getFilteredDataWarehouse(c)};return(c,d)=>(n(),i("div",is,[f(J),e("div",_s,[e("div",us,[f(ee),f(ne,{onFilterFunction:l},{default:Q(()=>[(n(),C(te,{key:0,table_headers:h(t).warehouse_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",hs,[h(t).warehouse_data_headers.length?(n(),i("table",fs,[f(se,{table_headers:h(t).warehouse_data_headers},null,8,["table_headers"]),f(qt)])):(n(),i("div",xs,ps))]),f(ds,{onProvideSM:o}),f(L,{cond:a.cond,messages:a.messages},null,8,["cond","messages"])]))}},vs={class:"bg-white border-b hover:bg-gray-50 table_row"},gs=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),ys={class:"px-2 py-2 text-center"},ks={class:"px-2 text-start border-y"},ws={class:"py-1 px-2 rounded-xl"},$s={class:"px-2 text-start border-y"},Ss={class:"py-1 px-2 rounded-xl"},Cs={class:"px-2 text-start border-y"},As={class:"py-1 px-2 rounded-xl"},Ts={class:"px-2 text-start border-y"},Ms={class:"py-1 px-2 rounded-xl"},Us=["value"],Ps={class:"px-2 text-start border-y"},Ds={class:"py-1 px-2 rounded-xl"},Ns={class:"px-2 text-start border-y"},Fs={class:"py-1 px-2 rounded-xl"},Is={class:"px-2 text-start border-y"},Bs={class:"py-1 px-2 rounded-xl"},Vs={class:"px-2 text-start border-y"},Rs={class:"py-1 px-2 rounded-xl"},Es={class:"px-2 text-start border-y"},js={class:"py-1 px-2 rounded-xl"},zs={class:"px-2 text-start border-y"},Ws={class:"py-1 px-2 rounded-xl"},Qs=["value"],Os={__name:"Provide_Sm_Table_Body_Each_Row",props:["each_item","index","entering_rows","store"],setup(u){var c;const t=u,s=y(),a=B({warehouse_id:t==null?void 0:t.each_item.warehouse_id,department_id:t==null?void 0:t.each_item.department_id,stock:(c=t==null?void 0:t.each_item)==null?void 0:c.stock,type:"",provide_amount:0,serial_no:"",unique_id:"",provide_user:"",provide_user_card_number:"",provide_department:""}),o=w([]),l=w([]);return D(()=>{var d,r,x;if(o.value.length===0&&(o.value=(d=t==null?void 0:t.store)==null?void 0:d.delivery_types),l.value.length===0&&(l.value=(r=t==null?void 0:t.store)==null?void 0:r.departments),a.provide_amount>a.stock?(s.warehouse_data_stock_cond=!1,alert(`Stock ${a.stock}, Provide Amount ${a.provide_amount}.`)):s.warehouse_data_stock_cond=!0,((x=t.entering_rows)==null?void 0:x.length)===0)t.entering_rows.push(a);else{let b=!0;for(let v of t.entering_rows)a.warehouse_id===v.warehouse_id&&(b=!1);b&&t.entering_rows.push(a)}}),(d,r)=>{var x,b,v;return n(),i("tr",vs,[gs,e("td",ys,m((t==null?void 0:t.index)+1),1),e("td",ks,[e("div",ws,[e("span",null,m((x=t==null?void 0:t.each_item)==null?void 0:x.material_name),1)])]),e("td",$s,[e("div",Ss,[e("span",null,m((b=t==null?void 0:t.each_item)==null?void 0:b.stock),1)])]),e("td",Cs,[e("div",As,[e("span",null,m((v=t==null?void 0:t.each_item)==null?void 0:v.unit),1)])]),e("td",Ts,[e("div",Ms,[g(e("select",{name:"",id:"","onUpdate:modelValue":r[0]||(r[0]=_=>a.type=_),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),i(A,null,U(o.value,_=>(n(),i("option",{value:_.id},m(_.type_name),9,Us))),256))],512),[[Z,a.type]])])]),e("td",Ps,[e("div",Ds,[g(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"num",name:"",placeholder:"Enter Amount","onUpdate:modelValue":r[1]||(r[1]=_=>a.provide_amount=_)},null,512),[[P,a.provide_amount]])])]),e("td",Ns,[e("div",Fs,[g(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Serial NO","onUpdate:modelValue":r[2]||(r[2]=_=>a.serial_no=_)},null,512),[[P,a.serial_no]])])]),e("td",Is,[e("div",Bs,[g(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Unique ID","onUpdate:modelValue":r[3]||(r[3]=_=>a.unique_id=_)},null,512),[[P,a.unique_id]])])]),e("td",Vs,[e("div",Rs,[g(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Name Surname","onUpdate:modelValue":r[4]||(r[4]=_=>a.provide_user=_)},null,512),[[P,a.provide_user]])])]),e("td",Es,[e("div",js,[g(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Card Number","onUpdate:modelValue":r[5]||(r[5]=_=>a.provide_user_card_number=_)},null,512),[[P,a.provide_user_card_number]])])]),e("td",zs,[e("div",Ws,[g(e("select",{name:"",id:"","onUpdate:modelValue":r[6]||(r[6]=_=>a.provide_department=_),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),i(A,null,U(l.value,_=>(n(),i("option",{value:_.id},m(_.department_name),9,Qs))),256))],512),[[Z,a.provide_department]])])])])}}},Gs={__name:"Provide_SM_Table_Body",props:["entering_rows"],setup(u){const t=y();return(s,a)=>{var o;return n(!0),i(A,null,U((o=h(t))==null?void 0:o.return_checked_values,(l,c)=>(n(),C(Os,{each_item:l,index:c,entering_rows:u.entering_rows,store:h(t)},null,8,["each_item","index","entering_rows","store"]))),256)}}},Ys={},qs={class:"text-white bg-slate-800 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Hs=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-1/3"},[e("div",{class:"flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Stock ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Type ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Serial Number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Unique ID ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Worker ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Card number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Department ")])],-1),Ls=[Hs];function Zs(u,t){return n(),i("thead",qs,Ls)}const Ks=V(Ys,[["render",Zs]]),Xs={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll p-2"},Js=e("h1",{class:"text-center text-3xl py-4",style:{"font-family":"'Poppins'"}}," Material Provide Form",-1),eo={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},to=["disabled"],so={class:"p-2 px-3 text-white font-weight rounded-lg my-1 bg-red-600"},oo=e("span",{class:"loading loading-spinner"},null,-1),ao={__name:"Provide_SM_Table",setup(u){const t=I(),s=y(),a=w(!0),o=w([]);H(async()=>{await s.fetchDepartments(),await s.fetchWarehouseDeliveryTypes()});const l=async()=>{var d,r,x,b,v;a.value=!1;const c={};if(t.user!==null){c.user=t.user.id;let _=!0;for(let p=0;p<o.value.length;p++){if(((d=o==null?void 0:o.value[p])==null?void 0:d.type)===""){_=!1,alert(`${p+1} Row, Type Is Not Selected`);break}if(((r=o==null?void 0:o.value[p])==null?void 0:r.provide_amount)<=0){_=!1,alert(`${p+1} Row, Provided Amount Is Not True`);break}if(((x=o==null?void 0:o.value[p])==null?void 0:x.provide_user.toString().trim())===""){_=!1,alert(`${p+1} Row, Provided User Name Is Not Included`);break}if(((b=o==null?void 0:o.value[p])==null?void 0:b.provide_user_card_number.toString().trim())===""){_=!1,alert(`${p+1} Row, Provided User Card Number Is Not Included`);break}if(((v=o==null?void 0:o.value[p])==null?void 0:v.provide_department)===""){_=!1,alert(`${p+1} Row, Department Is Not Selected`);break}}_?(c.data=o.value,await s.provideSM(c).then(p=>{s.after_provide=!0,setTimeout(()=>{a.value=!0,s.return_checked_values=s.return_checked_values.filter(M=>M.id===-1),s.tab_num=1},1e3),setTimeout(()=>{o.value=[],s.after_provide=!1},2e3)})):a.value=!0}};return(c,d)=>{var r;return n(),i("div",Xs,[Js,e("table",eo,[f(Ks),f(Gs,{entering_rows:o.value},null,8,["entering_rows"])]),(r=h(s).return_checked_values)!=null&&r.length?g((n(),i("button",{key:0,onClick:l,disabled:!h(s).warehouse_data_stock_cond,class:$(["p-2 px-3 text-white font-weight rounded-lg my-1",h(s).warehouse_data_stock_cond?"bg-red-600 cursor-pointer":"bg-red-200 cursor-default"])}," Provide ",10,to)),[[G,a.value]]):S("",!0),g(e("button",so,[oo,k(" Loading ")],512),[[G,!a.value]]),f(L,{cond:h(s).after_provide,messages:"Material Successfully Provided"},null,8,["cond"])])}}},lo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEnSURBVEiJ3dQrS4RBGAXgZ1XwhhbFGywsZoX9BVpsKrJN8CcIBkF/gYLNbLZYLCZNRkEEDVrEoAaDFxQvYfEavm9hkb19y07QA8NMOO857wxnXv4zOkMJN2MdxyFMurCDb2ygpZHiwzjDO+YbJZqK93FsowcnOKyxPo8r7MbNlTVYwhqacIeXGg260Ruf97CA83LkHF7jjrI1GkA/FuPGHjFWiZzFdWyUS2ACaZziAZlKxAEc4Fb0BEmQwTO2qhHbMJpQvIAVfKCvzvqqyIr+0SxRahqNQorSoQxa4z0fyqAQ8YsA2mBT9FHbQ4hP4BOrIcQn8eTXmC8ex0Oi/CdBB0YwhykcYQZvpcj7ovzWs26wXKrBVNF5GoMJb3CPS9GI/0pY+0fwAyKDQQ3kteItAAAAAElFTkSuQmCC",ro={class:"flex justify-end fixed right-0 top-0 w-screen h-screen z-10 border text-gray-600 bg-opacity-80 bg-gray-300"},co={class:"flex flex-col w-1/2 bg-white rounded-lg p-5"},no=e("i",{class:"fa-solid fa-xmark fa-xl text-gray-500"},null,-1),io=[no],_o={key:0,class:"bg-green-500 text-white text-xl text-end py-4 pr-2"},uo={class:""},ho=e("span",{class:"text-center text-4xl my-3"}," Update Provided Material ",-1),fo={class:"flex flex-col"},xo={class:"text-xl"},mo=e("span",{class:"text-black"},"Material Name : ",-1),po={class:"text-xl"},bo=e("span",{class:"text-black"},"Current Amount : ",-1),vo={key:0,class:"mt-3 text-lg"},go=e("span",{class:"text-red-500"},"Entering Amount cant be greater than current amount",-1),yo=[go],ko=e("span",{class:"text-xl"}," Amount ",-1),wo=["onUpdate:modelValue"],$o={class:"flex justify-end mr-10 py-1"},So={key:1,class:"btn"},Co=e("span",{class:"loading loading-spinner"},null,-1),re={__name:"UpdateProvidedMaterial",emits:["closeProvidedUpdateComp"],setup(u,{emit:t}){const s=y(),a=I(),o=()=>t("closeProvidedUpdateComp"),l=[],c=w(!1);D(()=>{if(l.length<s.return_checked_values.length)for(let v of s.return_checked_values){let _={amount:v.amount,id:v.provided_id};l.push(_)}});const d=w(!1),r=w(""),x=B({id:"",error:!1}),b=async()=>{console.log("some");let v=!0;c.value=!0;for(let _ in s.return_checked_values)(s.return_checked_values[_].amount>l[_].amount||s.return_checked_values[_].amount<0)&&(x.id=_,x.error=!0,v=!1);v?a.user&&a.user.departmentId===3?await s.returnMaterial(a.user.id).then(_=>{s.after_returning=!0,d.value=!0,r.value="Successfuly Update",setTimeout(()=>{c.value=!1,s.return_checked_values=s.return_checked_values.filter(p=>p.id===-1),d.value=!1,s.after_returning=!1,o()},1e3)}).catch(_=>{console.log("return material from provide to warehouse error : ",_)}):(d.value=!0,r.value="You Dont Have Authority For this operation",setTimeout(()=>{d.value=!1},1e3)):console.log("cond false -> ",v)};return(v,_)=>(n(),i("div",ro,[e("div",co,[e("div",{class:"flex justify-end mx-5 text-xl font-bold px-2 py-1"},[e("span",{onClick:o,class:"cursor-pointer"},io)]),d.value?(n(),i("div",_o,[e("span",uo,m(r.value),1)])):S("",!0),ho,(n(!0),i(A,null,U(h(s).return_checked_values,(p,M)=>(n(),i("div",fo,[e("span",xo,[mo,e("span",null,m(p.material_name),1)]),e("span",po,[bo,e("span",null,m(l[M].amount),1)]),x.error&&x.id==M?(n(),i("div",vo,yo)):S("",!0),e("div",null,[ko,g(e("input",{class:"p-3 border rounded-lg mt-1 mb-3 text-xl outline-none hover:shadow-lg duration-300","onUpdate:modelValue":N=>p.amount=N,type:"number"},null,8,wo),[[P,p.amount]])])]))),256)),e("div",$o,[c.value?(n(),i("button",So,[Co,k(" loading ")])):(n(),i("button",{key:0,class:"btn btn-active btn-secondary",onClick:b}," Update "))]),k(" "+m(h(s).return_checked_values)+" "+m(l),1)])]))}};const T=u=>(Y("data-v-fafceb0f"),u=u(),q(),u),Ao=T(()=>e("img",{class:"mr-3 w-5 h-5",src:lo,alt:""},null,-1)),To={class:"w-1 p-4 py-2"},Mo={class:"flex items-center"},Uo=T(()=>e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1)),Po={class:"px-2 py-3 text-center"},Do={class:"px-2 py-3 text-center"},No={key:0,class:"relative flex h-3 w-3"},Fo=T(()=>e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"},null,-1)),Io=T(()=>e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-sky-500"},null,-1)),Bo=[Fo,Io],Vo={key:1},Ro={key:0,class:"relative flex h-3 w-3"},Eo=T(()=>e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},null,-1)),jo=T(()=>e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"},null,-1)),zo=[Eo,jo],Wo={key:1,class:"relative flex h-3 w-3"},Qo=T(()=>e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-200 opacity-75"},null,-1)),Oo=T(()=>e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-300"},null,-1)),Go=[Qo,Oo],Yo={key:2},qo={key:0,class:"relative flex h-3 w-3"},Ho=T(()=>e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"},null,-1)),Lo=T(()=>e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-green-500"},null,-1)),Zo=[Ho,Lo],Ko={key:1,class:"relative flex h-3 w-3"},Xo=T(()=>e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-200 opacity-75"},null,-1)),Jo=T(()=>e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-green-300"},null,-1)),ea=[Xo,Jo],ta={__name:"Provided_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(u,{emit:t}){const s=u,a=y(),o=w(!1),l=()=>{o.value=!1},c=w(!1),d=()=>c.value===!0?t("addChecked",s==null?void 0:s.each):t("removeChecked",s==null?void 0:s.each),r=async()=>{a.return_checked_values.push(s.each),o.value=!0};return D(()=>{a.after_returning&&(c.value=!1)}),(x,b)=>{var v,_,p,M,N,z;return n(),i("tr",{class:$([c.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[f(K,{each:s==null?void 0:s.each},{return_material:Q(()=>[e("span",{onClick:r,class:"flex items-center py-2 text-gray-900 row_item"},[Ao,k(" Return Material ")])]),_:1},8,["each"]),e("td",To,[e("div",Mo,[Uo,g(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":b[0]||(b[0]=O=>c.value=O),onChange:d,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[W,c.value]])])]),e("td",Po,m((s==null?void 0:s.index)+1),1),e("td",Do,[((v=s==null?void 0:s.each)==null?void 0:v.type_name)==="Temporary"?(n(),i("span",No,Bo)):S("",!0),((_=s==null?void 0:s.each)==null?void 0:_.type_name)==="Daily Debit"?(n(),i("div",Vo,[((p=s==null?void 0:s.each)==null?void 0:p.type_name)==="Daily Debit"?(n(),i("span",Ro,zo)):(n(),i("span",Wo,Go))])):S("",!0),((M=s==null?void 0:s.each)==null?void 0:M.type_name)==="Debit"?(n(),i("div",Yo,[((N=s==null?void 0:s.each)==null?void 0:N.type_name)==="Debit"&&((z=s==null?void 0:s.each)!=null&&z.return_date)?(n(),i("span",qo,Zo)):(n(),i("span",Ko,ea))])):S("",!0)]),f(X,{each:s==null?void 0:s.each,table_headers:h(a).provided_data_headers},null,8,["each","table_headers"]),o.value?(n(),C(re,{key:0,onCloseProvidedUpdateComp:l})):S("",!0)],2)}}},sa=V(ta,[["__scopeId","data-v-fafceb0f"]]),oa={__name:"Provided_Table_Body",setup(u){const t=y(),s=o=>{t.return_checked_values.push(o)},a=o=>{t.return_checked_values=t.return_checked_values.filter(l=>l.provided_id!==o.provided_id);for(let l=0;l<t.return_checked_values.length;l++)t.return_checked_values[l].provided_id===o.provided_id&&t.return_checked_values.splice(l,1)};return(o,l)=>(n(!0),i(A,null,U(h(t).provides_data,(c,d)=>(n(),C(sa,{each:c,index:d,onAddChecked:s,onRemoveChecked:a},null,8,["each","index"]))),256))}};const j=u=>(Y("data-v-6baf6cee"),u=u(),q(),u),aa={key:0,class:"mtf-anim z-10 fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},la={class:"flex justify-between bg-white w-full border rounded-md shadow-2xl"},ra={class:"flex items-center"},ca={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},na={class:"ml-3"},da=j(()=>e("p",null,"Task Selected",-1)),ia={class:"text-blue-600"},_a={class:"flex items-center"},ua=j(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),ha=j(()=>e("span",{class:"text-xs"},"Unselect",-1)),fa=j(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),xa=j(()=>e("span",{class:"text-xs"},"Return",-1)),ma=j(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),k(),e("span",{class:"text-xs"},"Set Star")],-1)),pa={__name:"Show_STF_Selecting_Task",emits:["openUpdateProvidedMaterial"],setup(u,{emit:t}){const s=y(),a=async()=>{t("openUpdateProvidedMaterial")},o=()=>{s.after_returning=!0,s.return_checked_values=s.return_checked_values.filter(l=>l.provide_id===-1),setTimeout(()=>{s.after_returning=!1})};return(l,c)=>h(s).return_checked_values.length>=1?(n(),i("div",aa,[e("div",la,[e("div",ra,[e("span",ca,m(h(s).return_checked_values.length),1),e("div",na,[da,(n(!0),i(A,null,U(h(s).return_checked_values.length,d=>(n(),i("span",ia,"●"))),256))])]),e("div",_a,[e("button",{onClick:c[0]||(c[0]=d=>o()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[ua,k(),ha]),e("button",{onClick:c[1]||(c[1]=d=>a()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[fa,k(),xa]),ma])])])):S("",!0)}},ba=V(pa,[["__scopeId","data-v-6baf6cee"]]),va={class:"flex flex-col",style:{display:"inline-block"}},ga={class:"sticky h-40 top-10 bg-white z-10"},ya={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},ka={class:""},wa={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},$a=e("th",{class:"px-2 py-3 text-center"},[e("div",{class:"flex flex-col items-center font-thin"}," RC ")],-1),Sa={key:1,class:"flex flex-row justify-center items-center w-full h-96"},Ca=e("span",{class:"loading loading-dots loading-lg"},null,-1),Aa=[Ca],Ta={__name:"Provided_Table",setup(u){const t=y(),s=I();H(async()=>{s.user&&(await t.fetchProvidedData(s.user.projectId),t.provided_data_headers.length===0&&t.getProvidedDataHeaders())});const a=async d=>{await t.getFilteredDataProvided(d)},o=w(!1),l=()=>{o.value=!1},c=()=>{o.value=!0};return(d,r)=>(n(),i(A,null,[e("div",va,[f(J),e("div",ga,[e("div",ya,[f(ee),f(he,{onFilterFunction:a},{default:Q(()=>[(n(),C(te,{key:0,table_headers:h(t).provided_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",ka,[h(t).provided_data_headers.length?(n(),i("table",wa,[f(se,{table_headers:h(t).provided_data_headers},{RC:Q(()=>[$a]),_:1},8,["table_headers"]),f(oa)])):(n(),i("div",Sa,Aa))])]),o.value?(n(),C(re,{key:0,onCloseProvidedUpdateComp:l})):S("",!0),f(ba,{onOpenUpdateProvidedMaterial:c})],64))}},Ma={class:"flex flex-col bg-white"},Ua={key:0,class:"bg-white"},Pa={class:"sticky top-0 bg-white",style:{"font-family":"'Poppins', sans-serif"}},Da={class:"flex flex-row anim h-10 bg-white items-center sticky left-16",style:{"letter-spacing":"1px","font-size":"x-small",display:"inline-block"}},Na=e("i",{class:"fa-solid fa-arrow-rotate-left fa-md"},null,-1),Fa=e("i",{class:"fa-solid fa-download fa-md"},null,-1),Ia=e("i",{class:"fa-solid fa-plus fa-md"},null,-1),Ba=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),Va=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),Ra={key:1},Ea=e("span",null,"User Not Login",-1),ja=[Ea],rl={__name:"views.warehouse",setup(u){const t=y(),s=I(),a=[Ge,bs,zt,ao,Ta],o=l=>{l!==2&&(t.tab_num=l)};return(l,c)=>{var d,r,x,b,v;return n(),i("div",Ma,[h(s).user?(n(),i("div",Ua,[e("div",Pa,[e("div",Da,[e("span",{class:$([((d=h(t))==null?void 0:d.tab_num)===0?"border-b-violet-800 border-b-4 ":"","text-black px-3 mx-1 pb-2 border-b-2 cursor-pointer"]),onClick:c[0]||(c[0]=_=>o(0))},[Na,k(" Processing SM")],2),e("span",{class:$([((r=h(t))==null?void 0:r.tab_num)===1?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:c[1]||(c[1]=_=>o(1))},[Fa,k(" Warehouse")],2),e("span",{class:$([((x=h(t))==null?void 0:x.tab_num)===2?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:c[2]||(c[2]=_=>o(2))},[Ia,k(" Accept SM")],2),e("span",{class:$([((b=h(t))==null?void 0:b.tab_num)===3?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:c[3]||(c[3]=_=>o(3))},[Ba,k(" Provide SM")],2),e("span",{class:$([((v=h(t))==null?void 0:v.tab_num)===4?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:c[4]||(c[4]=_=>o(4))},[Va,k(" Provided")],2)])]),(n(),C(_e,null,[(n(),C(ie(a[h(t).tab_num])))],1024))])):(n(),i("div",Ra,ja))])}}};export{rl as default};
