import{_ as G,a as q,e as B,T as O,b as z,c as H,d as L,f as oe}from"./TableFilterWarehouse-4c061fb4.js";import{_ as ae}from"./TableFilterSM-d228a11a.js";import{W as b,f as S,y as M,o as n,c as u,b as x,a as e,R as v,V as F,t as m,u as _,K as y,M as C,P as w,F as T,_ as R,U,Q as I,d as k,G as A,N as te,O as se,Z as le,g as W,w as K,a2 as ce,T as $,S as j,X as re,Y as de}from"./index-a619e411.js";import{_ as ne}from"./TableFilterProvide-9d09a676.js";const ie={class:"w-1 p-4 py-2"},_e={class:"flex items-center"},ue={class:"flex cursor-pointer items-center rounded-sm p-1",for:"selected_row","data-ripple-dark":"true"},he=["id"],xe={class:"px-2 py-2 text-center"},fe={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each","index"],emits:["addChecked","removeChecked"],setup(h,{emit:t}){const o=h,s=b(),a=S(!1),l=()=>a.value===!0?t("addChecked",o==null?void 0:o.each):t("removeChecked",o==null?void 0:o.each);return M(()=>{s.after_created&&(a.value=!1)}),(d,r)=>(n(),u("tr",{class:y([a.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(G,{each:o==null?void 0:o.each},null,8,["each"]),e("td",ie,[e("div",_e,[e("label",ue,[v(e("input",{id:o.each.id,type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=c=>a.value=c),onChange:l,class:"checkbox checkbox-xs checkbox-primary"},null,40,he),[[F,a.value]])])])]),e("th",xe,m((o==null?void 0:o.index)+1),1),x(q,{each:o==null?void 0:o.each,table_headers:_(s).processing_sm_headers},null,8,["each","table_headers"])],2))}},me={__name:"Get_SM_Body_Table",setup(h){const t=b(),o=a=>{t.processing_checked_values.push(a)},s=a=>{t.processing_checked_values=t.processing_checked_values.filter(l=>l.sm_id!==a.sm_id);for(let l=0;l<t.processing_checked_values.length;l++)t.processing_checked_values[l].stf_id===a.stf_id&&t.processing_checked_values.splice(l,1)};return M(()=>{var l,d,r;const a=S(!1);if(((l=t.processing_checked_values)==null?void 0:l.length)>=1)for(let c of t.processing_checked_values)(c==null?void 0:c.situation)==="Completed"&&(a.value=!0);if(((d=t.processing_checked_values)==null?void 0:d.length)>=1){for(let c=0;c<((r=t.processing_checked_values)==null?void 0:r.length)-1;c++)if(t.processing_checked_values[c].stf_num!==t.processing_checked_values[c+1].stf_num){a.value=!0;break}}a.value?t.toggle_accept_sm=!0:t.toggle_accept_sm=!1}),(a,l)=>(n(!0),u(T,null,C(_(t).processing_sms,(d,r)=>(n(),w(fe,{each:d,index:r,onAddChecked:o,onRemoveChecked:s},null,8,["each","index"]))),256))}};const N=h=>(te("data-v-d915c28d"),h=h(),se(),h),be={key:0,class:"mtf-anim fixed left-1/4 bottom-10 flex flex-row mb-4 justify-center rounded-lg w-1/2"},pe={class:"flex justify-between bg-white w-full border rounded-md shadow-2xl"},ve={class:"flex items-center"},ge={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},ye={class:"ml-3"},ke=N(()=>e("p",null,"Task Selected",-1)),we={class:"text-blue-600"},$e={class:"flex items-center"},Se=N(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),Ce=N(()=>e("span",{class:"text-xs"},"Unselect",-1)),Te=["disabled"],Me=N(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),Pe=N(()=>e("span",{class:"text-xs"},"Accept SM",-1)),Ue=N(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),k(),e("span",{class:"text-xs"},"Set Star")],-1)),Ne={__name:"Show_STF_Selecting_Task",setup(h){const t=b(),o=U(),s=S([]),a=I({cond:!1,messages:""});M(()=>{s.value=t.processing_checked_values});const l=async()=>{o.user?o.user.departmentId!==3?(a.cond=!0,a.messages="You dont have authority for Accepting SM",setTimeout(()=>{a.cond=!1},1e3)):t.tab_num=2:(a.cond=!0,a.messages="User Not Login")},d=()=>{t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(r=>r.id===-1),setTimeout(()=>{t.after_created=!1},1e3)};return(r,c)=>s.value.length>=1?(n(),u("div",be,[e("div",pe,[e("div",ve,[e("span",ge,m(s.value.length),1),e("div",ye,[ke,(n(!0),u(T,null,C(s.value.length,f=>(n(),u("span",we,"●"))),256))])]),e("div",$e,[e("button",{onClick:c[0]||(c[0]=f=>d()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[Se,k(),Ce]),e("button",{onClick:c[1]||(c[1]=f=>l()),disabled:_(t).toggle_accept_sm,class:y([_(t).toggle_accept_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[Me,k(),Pe],10,Te),Ue])]),x(B,{cond:a.cond,messages:a.messages},null,8,["cond","messages"])])):A("",!0)}},De=R(Ne,[["__scopeId","data-v-d915c28d"]]),Ve={class:"flex flex-col",style:{display:"inline-block"}},Fe={class:"sticky h-40 top-10 bg-white"},Ie={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},Be={class:""},Re={key:0,class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full",style:{"font-size":"xx-small"}},Ae={key:1,class:"flex flex-row justify-center items-center w-full h-96"},We=e("span",{class:"loading loading-dots loading-lg"},null,-1),Ee=[We],je={__name:"Show_SM_Table",setup(h){const t=b(),o=U(),s=le();W(async()=>{const l=o.GETUSER;l==null?console.log("if work"):(await t.getProcessingSMS(l==null?void 0:l.projectId),await t.getCompaniesNames(),await s.getCompaniesNames(),await t.fetchSTFCreateUsernames(),await s.fetchSTFCreateUsernames(),t.processing_sm_headers.length===0&&await t.getProcessingSMHeaders())});const a=async l=>{await t.getFilteredDataProcessingSM(l)};return(l,d)=>(n(),u("div",Ve,[x(O),e("div",Fe,[e("div",Ie,[x(z),x(ae,{onFilterFunction:a},{default:K(()=>[(n(),w(L,{key:0,table_headers:_(t).processing_sm_headers},null,8,["table_headers"]))]),_:1})])]),e("div",Be,[_(t).processing_sm_headers.length?(n(),u("table",Re,[x(H,{table_headers:_(t).processing_sm_headers},null,8,["table_headers"]),x(me)])):(n(),u("div",Ae,Ee))]),x(De)]))}},Ge={},qe={class:"text-black bg-gray-100 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Oe=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," STF Date ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-24"}," SM NO ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Delivery Unit ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Certificate ")]),e("th",{scope:"col",class:"py-1 font-medium text-center border bg-violet-100"},[e("div",{class:"flex flex-col w-24"}," Passport ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Count ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Price ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Total ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col"}," Currency ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"w-96 flex flex-col"}," Vendor Name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-36"}," Orderer ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border"},[e("div",{class:"flex flex-col w-48"}," Supplier ")])],-1),ze=[Oe];function He(h,t){return n(),u("thead",qe,ze)}const Le=R(Ge,[["render",He]]),Ke={class:"bg-white border-b hover:bg-gray-50 table_row"},Ye=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),Qe={class:"px-2 py-2 text-center"},Xe={class:"px-2 text-start border-y"},Ze={class:"bg-orange-100 text-orange-500 py-1 px-2 rounded-xl"},Je={class:"px-2 py-2 border text-center"},et={class:"px-2 text-start border-y"},tt={class:"bg-red-100 text-red-500 py-1 px-2 rounded-xl"},st={class:"px-2 text-start border-y-y"},ot={class:"px-2 text-start border-y-y"},at=e("option",{disabled:"",value:""},"Unit",-1),lt=e("option",null,"Adet",-1),ct=e("option",null,"M2",-1),rt=e("option",null,"M3",-1),dt=e("option",null,"Ton",-1),nt=e("option",null,"Kg",-1),it=[at,lt,ct,rt,dt,nt],_t={class:"px-2 text-center border-y"},ut={class:"px-2 text-center border-y"},ht={class:"px-2 py-2 border-y"},xt={class:"px-2 py-2 border-y text-start"},ft={class:"px-2 py-2 border-y text-center"},mt={class:"px-2 py-2 border-y text-center"},bt={class:"px-2 py-2 border-y text-center"},pt={class:"px-2 py-2 border-y text-center"},vt={class:"px-2 py-2 border-y text-start"},gt={class:"px-2 py-2 border-y text-center"},yt={class:"px-2 py-2 border text-center"},kt={__name:"Get_SM_Body_Table_Each_Row_Comp",props:["each_item","index","table_data"],setup(h){var a,l,d;const t=h,o=b(),s=I({sm_id:t==null?void 0:t.each_item.sm_id,entering_delivery_amount:(a=t==null?void 0:t.each_item)==null?void 0:a.left_over,delivery_amount:(l=t==null?void 0:t.each_item)==null?void 0:l.left_over,delivery_unit:(d=t==null?void 0:t.each_item)==null?void 0:d.sm_material_unit,certificate:!1,passport:!1});return M(()=>{(s==null?void 0:s.entering_delivery_amount)<(s==null?void 0:s.delivery_amount)+(s==null?void 0:s.delivery_amount)*10/100?(o.processing_checked_values.length>t.table_data.length&&t.table_data.push(s),o.accepted_condition=!0):(alert("u cant enter this value because bigger than %10"),o.accepted_condition=!1)}),(r,c)=>{var f,g,p,i,V,E,Y,Q,X,Z,J,ee;return n(),u("tr",Ke,[Ye,e("td",Qe,m((t==null?void 0:t.index)+1),1),e("td",Xe,[e("div",Ze,[e("span",null,m((f=t==null?void 0:t.each_item)==null?void 0:f.stf_num),1)])]),e("td",Je,[x(ce,{time:(g=t==null?void 0:t.each_item)==null?void 0:g.created_at},null,8,["time"])]),e("td",et,[e("div",tt,m((p=t==null?void 0:t.each_item)==null?void 0:p.sm_num),1)]),e("td",st,[v(e("input",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs",type:"text",placeholder:"Count...","onUpdate:modelValue":c[0]||(c[0]=P=>s.entering_delivery_amount=P)},null,512),[[$,s.entering_delivery_amount]])]),e("td",ot,[v(e("select",{class:"border-y outline-none font-sans rounded-lg w-full h-full p-1 text-xs","onUpdate:modelValue":c[1]||(c[1]=P=>s.delivery_unit=P)},it,512),[[j,s.delivery_unit]])]),e("td",_t,[v(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":c[2]||(c[2]=P=>s.certificate=P),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[F,s.certificate]])]),e("td",ut,[v(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":c[3]||(c[3]=P=>s.passport=P),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[F,s.passport]])]),e("td",ht,m((i=t==null?void 0:t.each_item)==null?void 0:i.sm_material_name),1),e("td",xt,m((V=t==null?void 0:t.each_item)==null?void 0:V.amount),1),e("td",ft,m((E=t==null?void 0:t.each_item)==null?void 0:E.unit),1),e("td",mt,m((Y=t==null?void 0:t.each_item)==null?void 0:Y.price),1),e("td",bt,m((Q=t==null?void 0:t.each_item)==null?void 0:Q.total),1),e("td",pt,m((X=t==null?void 0:t.each_item)==null?void 0:X.currency),1),e("td",vt,m((Z=t==null?void 0:t.each_item)==null?void 0:Z.vendor_name),1),e("td",gt,m((J=t==null?void 0:t.each_item)==null?void 0:J.orderer),1),e("td",yt,m((ee=t==null?void 0:t.each_item)==null?void 0:ee.supplier),1)])}}},wt={__name:"Get_SM_Body_Table",props:["table_data"],setup(h){const t=b();return(o,s)=>{var a;return n(!0),u(T,null,C((a=_(t))==null?void 0:a.processing_checked_values,(l,d)=>(n(),w(kt,{table_data:h.table_data,each_item:l,index:d},null,8,["table_data","each_item","index"]))),256)}}},$t={class:"flex flex-row my-1 items-end"},St={class:"flex flex-col m-1"},Ct=e("span",{class:"text-xs m-1"},"Providing Date",-1),Tt={class:"flex flex-col m-1"},Mt=e("span",{class:"text-xs m-1"},"Document Date",-1),Pt={class:"flex flex-col m-1"},Ut=e("span",{class:"text-xs m-1"},"Document Number",-1),Nt={__name:"Accepting_data",props:["sms_data"],setup(h){const t=h;return(o,s)=>(n(),u("div",$t,[e("div",St,[Ct,v(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":s[0]||(s[0]=a=>t.sms_data.providing_date=a)},null,512),[[$,t.sms_data.providing_date]])]),e("div",Tt,[Mt,v(e("input",{class:"border outline-none rounded-md border-gray-300 text-xs p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":s[1]||(s[1]=a=>t.sms_data.doc_date=a)},null,512),[[$,t.sms_data.doc_date]])]),e("div",Pt,[Ut,v(e("input",{type:"text",id:"search",class:"block w-full p-2 text-xs text-gray-900 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Document Number","onUpdate:modelValue":s[2]||(s[2]=a=>t.sms_data.doc_number=a)},null,512),[[$,t.sms_data.doc_number]])])]))}},Dt={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll border-2"},Vt=["disabled"],Ft={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},It={__name:"Accept_SM_Table",setup(h){const t=b(),o=U(),s=I({doc_date:"",providing_date:"",doc_number:""}),a=S([]),l=async()=>{let d=!0;for(let[r,c]of Object.entries(s)){if(c=c.toString().trim(),r==="doc_number"&&c===""){d=!1,alert("Doc Number Cant Be Empty");break}if(r==="providing_date"&&c===""){d=!1,alert("Provind Date Cant Be Empty");break}if(r==="doc_date"&&c===""){d=!1,alert("Doc Date Cant Be Empty");break}}for(let r=0;r<a.value.length>0;r++)if(!a.value[r].delivery_unit){d=!1,alert(`${r+1} Row, Delivery Unit Not Selected`);break}if(d){const r={user:o.user,checked_values:t.processing_checked_values,sms_data:s,table_data:a.value};await t.acceptWaitingSM(r).then(c=>{t.after_created=!0,t.processing_checked_values=t.processing_checked_values.filter(f=>f.id===-1),setTimeout(async()=>{await t.getProcessingSMS(),s.doc_date="",s.providing_date="",s.doc_number="",t.tab_num=0},1e3),setTimeout(()=>{t.after_created=!1},2e3)}).catch(c=>{console.log("Received Material Error : ",c)})}};return(d,r)=>{var c,f;return n(),u("div",Dt,[((c=_(t).processing_checked_values)==null?void 0:c.length)>0?(n(),u("button",{key:0,onClick:l,disabled:!_(t).accepted_condition,class:y(["p-2 px-3 text-white font-weight rounded-lg my-1",(f=_(t))!=null&&f.accepted_condition?"bg-red-600 ":"bg-red-200"])}," Accept ",10,Vt)):A("",!0),x(Nt,{sms_data:s},null,8,["sms_data"]),e("table",Ft,[x(Le),x(wt,{table_data:a.value},null,8,["table_data"])]),x(B,{cond:_(t).after_created,messages:"SM Successfuly Received"},null,8,["cond"])])}}},Bt={class:"w-1 p-4 py-2"},Rt={class:"flex items-center"},At=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),Wt={class:"px-2 py-3 text-center"},Et={__name:"Warehouse_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(h,{emit:t}){const o=h,s=b(),a=S(!1),l=()=>a.value===!0?t("addChecked",o==null?void 0:o.each):t("removeChecked",o==null?void 0:o.each);return M(()=>{s.after_provide&&(a.value=!1)}),(d,r)=>(n(),u("tr",{class:y([a.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(G,{each:o==null?void 0:o.each},null,8,["each"]),e("td",Bt,[e("div",Rt,[At,v(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=c=>a.value=c),onChange:l,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[F,a.value]])])]),e("th",Wt,m((o==null?void 0:o.index)+1),1),x(q,{each:o==null?void 0:o.each,table_headers:_(s).warehouse_data_headers},null,8,["each","table_headers"])],2))}},jt={__name:"Warehouse_Table_Body",setup(h){const t=b(),o=a=>{t.warehouse_data_checked_values.push(a),console.log("item ius : ",t.warehouse_data_checked_values)},s=a=>{t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(l=>l.sm_id!==a.sm_id);for(let l=0;l<t.warehouse_data_checked_values.length;l++)t.warehouse_data_checked_values[l].sm_id===a.sm_id&&t.warehouse_data_checked_values.splice(l,1)};return M(()=>{}),(a,l)=>(n(!0),u(T,null,C(_(t).warehouse_data,(d,r)=>(n(),w(Et,{each:d,index:r,onAddChecked:o,onRemoveChecked:s},null,8,["each","index"]))),256))}};const D=h=>(te("data-v-90f11fbe"),h=h(),se(),h),Gt={key:0,class:"mtf-anim fixed w-full bottom-10 flex flex-col mb-4 items-center rounded-lg"},qt={class:"flex justify-between bg-white w-1/2 border rounded-md shadow-2xl"},Ot={class:"flex items-center"},zt={class:"bg-blue-600 py-4 px-6 text-white font-bold rounded-l-md text-3xl"},Ht={class:"ml-3"},Lt=D(()=>e("p",null,"Task Selected",-1)),Kt={class:"text-blue-600"},Yt={class:"flex items-center"},Qt=D(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),Xt=D(()=>e("span",{class:"text-xs"},"Unselect",-1)),Zt=["disabled"],Jt=D(()=>e("i",{class:"fa-regular fa-handshake"},null,-1)),es=D(()=>e("span",{class:"text-xs"},"Provide SM",-1)),ts=D(()=>e("button",{class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[e("i",{class:"fa-regular fa-star"}),k(),e("span",{class:"text-xs"},"Set Star")],-1)),ss={__name:"Show_Warehouse_Selecting_Task",setup(h){const t=b(),o=U(),s=I({cond:!1,messages:""}),a=async()=>{o.user?o.user.departmentId!==3?(s.cond=!0,s.messages="You dont have authority for providing data",setTimeout(()=>{s.cond=!1},1e3)):t.tab_num=3:(s.cond=!0,s.messages="User Not Login")},l=()=>{t.after_provide=!0,t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(d=>d.id===-1),setTimeout(()=>{t.after_provide=!1},1e3)};return(d,r)=>{var c;return((c=_(t).warehouse_data_checked_values)==null?void 0:c.length)>=1?(n(),u("div",Gt,[e("div",qt,[e("div",Ot,[e("span",zt,m(_(t).warehouse_data_checked_values.length),1),e("div",Ht,[Lt,(n(!0),u(T,null,C(_(t).warehouse_data_checked_values.length,f=>(n(),u("span",Kt,"●"))),256))])]),e("div",Yt,[e("button",{onClick:r[0]||(r[0]=f=>l()),class:"flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"},[Qt,k(),Xt]),e("button",{onClick:r[1]||(r[1]=f=>a()),disabled:_(t).toggle_received_sm,class:y([_(t).toggle_received_sm?"text-gray-400 hover:bg-white cursor-default ":"","flex flex-col items-center mx-3 cursor-pointer p-1 hover:bg-gray-100"])},[Jt,k(),es],10,Zt),ts])]),x(B,{cond:s.cond,messages:s.messages},null,8,["cond","messages"])])):A("",!0)}}},os=R(ss,[["__scopeId","data-v-90f11fbe"]]),as={class:"flex flex-col",style:{display:"inline-block"}},ls={class:"sticky h-40 top-10 bg-white"},cs={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},rs={class:""},ds={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},ns={key:1,class:"flex flex-row justify-center items-center w-full h-96"},is=e("span",{class:"loading loading-dots loading-lg"},null,-1),_s=[is],us={__name:"Warehouse_Table",setup(h){const t=b();W(async()=>{await t.fetchWarehouseData(),t.warehouse_data_headers.length===0&&t.getWarehouseDataHeaders()});const o=async s=>{await t.getFilteredDataWarehouse(s)};return(s,a)=>(n(),u("div",as,[x(O),e("div",ls,[e("div",cs,[x(z),x(oe,{onFilterFunction:o},{default:K(()=>[(n(),w(L,{key:0,table_headers:_(t).warehouse_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",rs,[_(t).warehouse_data_headers.length?(n(),u("table",ds,[x(H,{table_headers:_(t).warehouse_data_headers},null,8,["table_headers"]),x(jt)])):(n(),u("div",ns,_s))]),x(os)]))}},hs={class:"bg-white border-b hover:bg-gray-50 table_row"},xs=e("td",{class:"w-1 p-4 py-2"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox")])],-1),fs={class:"px-2 py-2 text-center"},ms={class:"px-2 text-start border-y"},bs={class:"py-1 px-2 rounded-xl"},ps={class:"px-2 text-start border-y"},vs={class:"py-1 px-2 rounded-xl"},gs={class:"px-2 text-start border-y"},ys={class:"py-1 px-2 rounded-xl"},ks={class:"px-2 text-start border-y"},ws={class:"py-1 px-2 rounded-xl"},$s=["value"],Ss={class:"px-2 text-start border-y"},Cs={class:"py-1 px-2 rounded-xl"},Ts={class:"px-2 text-start border-y"},Ms={class:"py-1 px-2 rounded-xl"},Ps={class:"px-2 text-start border-y"},Us={class:"py-1 px-2 rounded-xl"},Ns={class:"px-2 text-start border-y"},Ds={class:"py-1 px-2 rounded-xl"},Vs={class:"px-2 text-start border-y"},Fs={class:"py-1 px-2 rounded-xl"},Is={class:"px-2 text-start border-y"},Bs={class:"py-1 px-2 rounded-xl"},Rs=["value"],As={__name:"Provide_Sm_Table_Body_Each_Row",props:["each_item","index","entering_rows","store"],setup(h){var d;const t=h,o=b(),s=I({warehouse_id:t==null?void 0:t.each_item.warehouse_id,department_id:t==null?void 0:t.each_item.department_id,stock:(d=t==null?void 0:t.each_item)==null?void 0:d.stock,type:"",provide_amount:0,serial_no:"",unique_id:"",provide_user:"",provide_user_card_number:"",provide_department:""}),a=S([]),l=S([]);return M(()=>{var r,c,f;if(console.log("entering data : ",s),a.value.length===0&&(a.value=(r=t==null?void 0:t.store)==null?void 0:r.delivery_types),l.value.length===0&&(l.value=(c=t==null?void 0:t.store)==null?void 0:c.departments),s.provide_amount>s.stock?(o.warehouse_data_stock_cond=!1,alert(`Stock ${s.stock}, Provide Amount ${s.provide_amount}.`)):o.warehouse_data_stock_cond=!0,((f=t.entering_rows)==null?void 0:f.length)===0)t.entering_rows.push(s);else{let g=!0;for(let p of t.entering_rows)s.warehouse_id===p.warehouse_id&&(g=!1);g&&t.entering_rows.push(s)}}),(r,c)=>{var f,g,p;return n(),u("tr",hs,[xs,e("td",fs,m((t==null?void 0:t.index)+1),1),e("td",ms,[e("div",bs,[e("span",null,m((f=t==null?void 0:t.each_item)==null?void 0:f.material_name),1)])]),e("td",ps,[e("div",vs,[e("span",null,m((g=t==null?void 0:t.each_item)==null?void 0:g.stock),1)])]),e("td",gs,[e("div",ys,[e("span",null,m((p=t==null?void 0:t.each_item)==null?void 0:p.unit),1)])]),e("td",ks,[e("div",ws,[v(e("select",{name:"",id:"","onUpdate:modelValue":c[0]||(c[0]=i=>s.type=i),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),u(T,null,C(a.value,i=>(n(),u("option",{value:i.id},m(i.type_name),9,$s))),256))],512),[[j,s.type]])])]),e("td",Ss,[e("div",Cs,[v(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"num",name:"",placeholder:"Enter Amount","onUpdate:modelValue":c[1]||(c[1]=i=>s.provide_amount=i)},null,512),[[$,s.provide_amount]])])]),e("td",Ts,[e("div",Ms,[v(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Serial NO","onUpdate:modelValue":c[2]||(c[2]=i=>s.serial_no=i)},null,512),[[$,s.serial_no]])])]),e("td",Ps,[e("div",Us,[v(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Unique ID","onUpdate:modelValue":c[3]||(c[3]=i=>s.unique_id=i)},null,512),[[$,s.unique_id]])])]),e("td",Ns,[e("div",Ds,[v(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Name Surname","onUpdate:modelValue":c[4]||(c[4]=i=>s.provide_user=i)},null,512),[[$,s.provide_user]])])]),e("td",Vs,[e("div",Fs,[v(e("input",{class:"border w-full p-1 rounded-md outline-none",type:"text",name:"",placeholder:"Card Number","onUpdate:modelValue":c[5]||(c[5]=i=>s.provide_user_card_number=i)},null,512),[[$,s.provide_user_card_number]])])]),e("td",Is,[e("div",Bs,[v(e("select",{name:"",id:"","onUpdate:modelValue":c[6]||(c[6]=i=>s.provide_department=i),class:"border w-full p-1 rounded-md outline-none"},[(n(!0),u(T,null,C(l.value,i=>(n(),u("option",{value:i.id},m(i.department_name),9,Rs))),256))],512),[[j,s.provide_department]])])])])}}},Ws={__name:"Provide_SM_Table_Body",props:["entering_rows"],setup(h){const t=b();return(o,s)=>{var a;return n(!0),u(T,null,C((a=_(t))==null?void 0:a.warehouse_data_checked_values,(l,d)=>(n(),w(As,{each_item:l,index:d,entering_rows:h.entering_rows,store:_(t)},null,8,["each_item","index","entering_rows","store"]))),256)}}},Es={},js={class:"text-white bg-slate-800 dark:bg-gray-700 dark:text-gray-400 border w-full table_header"},Gs=e("tr",{class:""},[e("th",{scope:"col-4",class:"px-4"},[e("div",{class:"flex flex-col items-center"},[e("input",{id:"checkbox-all-search",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])]),e("th",{class:"px-2 py-2 font-medium text-center"},[e("div",{class:"flex flex-col"}," S/S ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-1/3"},[e("div",{class:"flex flex-col"}," Material name ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Stock ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border w-24"},[e("div",{class:"flex flex-col w-24"}," Unit ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Type ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Amount ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Serial Number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Unique ID ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Worker ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Card number ")]),e("th",{scope:"col",class:"px-2 py-1 font-medium text-center border bg-violet-500"},[e("div",{class:"flex flex-col"}," Provide Department ")])],-1),qs=[Gs];function Os(h,t){return n(),u("thead",js,qs)}const zs=R(Es,[["render",Os]]),Hs={class:"mt-1 shadow-md sm:rounded-lg w-screen overflow-x-scroll p-2"},Ls=e("h1",{class:"text-center text-3xl py-4",style:{"font-family":"'Poppins'"}}," Material Provide Form",-1),Ks={class:"text-xs text-left text-gray-800 dark:text-gray-400 w-full"},Ys=["disabled"],Qs={__name:"Provide_SM_Table",setup(h){const t=U(),o=b(),s=S([]);W(async()=>{await o.fetchDepartments(),await o.fetchWarehouseDeliveryTypes()});const a=async()=>{var d,r,c,f,g;const l={};if(t.user!==null){l.user=t.user.id;let p=!0;for(let i=0;i<s.value.length;i++){if(((d=s==null?void 0:s.value[i])==null?void 0:d.type)===""){p=!1,alert(`${i+1} Row, Type Is Not Selected`);break}if(((r=s==null?void 0:s.value[i])==null?void 0:r.provide_amount)<=0){p=!1,alert(`${i+1} Row, Provided Amount Is Not True`);break}if(((c=s==null?void 0:s.value[i])==null?void 0:c.provide_user.toString().trim())===""){p=!1,alert(`${i+1} Row, Provided User Name Is Not Included`);break}if(((f=s==null?void 0:s.value[i])==null?void 0:f.provide_user_card_number.toString().trim())===""){p=!1,alert(`${i+1} Row, Provided User Card Number Is Not Included`);break}if(((g=s==null?void 0:s.value[i])==null?void 0:g.provide_department)===""){p=!1,alert(`${i+1} Row, Department Is Not Selected`);break}}p?(l.data=s.value,await o.provideSM(l).then(i=>{o.after_provide=!0,setTimeout(()=>{o.warehouse_data_checked_values=o.warehouse_data_checked_values.filter(V=>V.id===-1),o.tab_num=1},1e3),setTimeout(()=>{s.value=[],o.after_provide=!1},2e3)})):console.log("Importing Information Is Not True, Please Check It")}};return(l,d)=>{var r;return n(),u("div",Hs,[Ls,e("table",Ks,[x(zs),x(Ws,{entering_rows:s.value},null,8,["entering_rows"])]),(r=_(o).warehouse_data_checked_values)!=null&&r.length?(n(),u("button",{key:0,onClick:a,disabled:!_(o).warehouse_data_stock_cond,class:y(["p-2 px-3 text-white font-weight rounded-lg my-1",_(o).warehouse_data_stock_cond?"bg-red-600 cursor-pointer":"bg-red-200 cursor-default"])}," Provide ",10,Ys)):A("",!0),x(B,{cond:_(o).after_provide,messages:"Material Successfully Provided"},null,8,["cond"])])}}},Xs={class:"w-1 p-4 py-2"},Zs={class:"flex items-center"},Js=e("label",{for:"checkbox-table-search-1",class:"sr-only"},"checkbox",-1),eo={class:"px-2 py-3 text-center"},to={__name:"Provided_Table_Body_Each_Row",props:["each","index"],emits:["addChecked","removeChecked"],setup(h,{emit:t}){const o=h,s=b(),a=S(!1),l=()=>a.value===!0?t("addChecked",o==null?void 0:o.each):t("removeChecked",o==null?void 0:o.each);return M(()=>{s.after_provide&&(a.value=!1)}),(d,r)=>(n(),u("tr",{class:y([a.value?"text-white  bg-blue-600 hover:bg-blue-500 ":"bg-white hover:bg-blue-600 hover:text-white hover:duration-200","border-b table_row hover:cursor-pointer"])},[x(G,{each:o==null?void 0:o.each},null,8,["each"]),e("td",Xs,[e("div",Zs,[Js,v(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=c=>a.value=c),onChange:l,class:"checkbox checkbox-xs checkbox-primary"},null,544),[[F,a.value]])])]),e("th",eo,m((o==null?void 0:o.index)+1),1),x(q,{each:o==null?void 0:o.each,table_headers:_(s).provided_data_headers},null,8,["each","table_headers"])],2))}},so={__name:"Provided_Table_Body",setup(h){const t=b(),o=a=>{t.warehouse_data_checked_values.push(a),console.log("item ius : ",t.warehouse_data_checked_values)},s=a=>{t.warehouse_data_checked_values=t.warehouse_data_checked_values.filter(l=>l.sm_id!==a.sm_id);for(let l=0;l<t.warehouse_data_checked_values.length;l++)t.warehouse_data_checked_values[l].sm_id===a.sm_id&&t.warehouse_data_checked_values.splice(l,1)};return M(()=>{}),(a,l)=>(n(!0),u(T,null,C(_(t).provides_data,(d,r)=>(n(),w(to,{each:d,index:r,onAddChecked:o,onRemoveChecked:s},null,8,["each","index"]))),256))}},oo={class:"flex flex-col",style:{display:"inline-block"}},ao={class:"sticky h-40 top-10 bg-white"},lo={class:"sticky left-16 flex flex-col w-max bg-white",style:{display:"inline-block",width:"calc(100vw - 5rem)"}},co={class:""},ro={key:0,class:"mx-2 text-gray-800 dark:text-gray-400 w-full shadow-xl bg-white mt-1",style:{"font-size":"xx-small"}},no={key:1,class:"flex flex-row justify-center items-center w-full h-96"},io=e("span",{class:"loading loading-dots loading-lg"},null,-1),_o=[io],uo={__name:"Provided_Table",setup(h){const t=b();W(async()=>{await t.fetchProvidedData(),t.provided_data_headers.length===0&&t.getProvidedDataHeaders()});const o=async s=>{await t.getFilteredDataProvided(s)};return(s,a)=>(n(),u("div",oo,[x(O),e("div",ao,[e("div",lo,[x(z),x(ne,{onFilterFunction:o},{default:K(()=>[(n(),w(L,{key:0,table_headers:_(t).provided_data_headers},null,8,["table_headers"]))]),_:1})])]),e("div",co,[_(t).provided_data_headers.length?(n(),u("table",ro,[x(H,{table_headers:_(t).provided_data_headers},null,8,["table_headers"]),x(so)])):(n(),u("div",no,_o))])]))}},ho={class:"flex flex-col bg-white"},xo={key:0,class:"bg-white"},fo={class:"sticky top-0 bg-white",style:{"font-family":"'Poppins', sans-serif"}},mo={class:"flex flex-row anim h-10 bg-white items-center sticky left-16",style:{"letter-spacing":"1px","font-size":"x-small",display:"inline-block"}},bo=e("i",{class:"fa-solid fa-arrow-rotate-left fa-md"},null,-1),po=e("i",{class:"fa-solid fa-download fa-md"},null,-1),vo=e("i",{class:"fa-solid fa-plus fa-md"},null,-1),go=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),yo=e("i",{class:"fa-solid fa-minus fa-md"},null,-1),ko={key:1},wo=e("span",null,"User Not Login",-1),$o=[wo],Po={__name:"views.warehouse",setup(h){const t=b(),o=U(),s=[je,us,It,Qs,uo],a=l=>{l!==2&&(t.tab_num=l)};return(l,d)=>{var r,c,f,g,p;return n(),u("div",ho,[_(o).user?(n(),u("div",xo,[e("div",fo,[e("div",mo,[e("span",{class:y([((r=_(t))==null?void 0:r.tab_num)===0?"border-b-violet-800 border-b-4 ":"","text-black px-3 mx-1 pb-2 border-b-2 cursor-pointer"]),onClick:d[0]||(d[0]=i=>a(0))},[bo,k(" Processing SM")],2),e("span",{class:y([((c=_(t))==null?void 0:c.tab_num)===1?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:d[1]||(d[1]=i=>a(1))},[po,k(" Warehouse")],2),e("span",{class:y([((f=_(t))==null?void 0:f.tab_num)===2?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:d[2]||(d[2]=i=>a(2))},[vo,k(" Accept SM")],2),e("span",{class:y([((g=_(t))==null?void 0:g.tab_num)===3?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:d[3]||(d[3]=i=>a(3))},[go,k(" Provide SM")],2),e("span",{class:y([((p=_(t))==null?void 0:p.tab_num)===4?"border-b-violet-800 border-b-4 ":"","text-black px-3 pb-2 mx-1 border-b-2 cursor-pointer"]),onClick:d[4]||(d[4]=i=>a(4))},[yo,k(" Provided")],2)])]),(n(),w(de,null,[(n(),w(re(s[_(t).tab_num])))],1024))])):(n(),u("div",ko,$o))])}}};export{Po as default};
