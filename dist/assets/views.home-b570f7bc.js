import{U as k,I as h,_ as B}from"./index-1c3aed26.js";import{N as L,F as o,G as l,H as t,u as _,I as u,M as n,P as C,L as O,q as R,r as f,z as x,a as I,J as j,K as S,W as T,O as D}from"./@vue-545ec849.js";import{D as F,B as N,P}from"./vue-chartjs-f8ea8629.js";import{C as m,p as b,a as g,b as y,c as v,d as w,L as $,R as M}from"./chart.js-60a64726.js";import{_ as W}from"./STFStatistics-b17c4c8c.js";import"./socket.io-client-651ff694.js";import"./engine.io-client-86cec14e.js";import"./engine.io-parser-b13552ae.js";import"./@socket.io-3e1df240.js";import"./socket.io-parser-44417fca.js";import"./moment-fbc5633a.js";import"./pinia-f2173f69.js";import"./axios-21b846bc.js";import"./vue-router-27805559.js";import"./vee-validate-e5cd1ca6.js";import"./@vee-validate-f04fc1ec.js";import"./@kurkle-b1b89bbc.js";const G={class:"flex flex-col shadow-xl"},V={class:"flex flex-col h-44 bg-gradient-to-r from-slate-700 to-slate-900 mr-1 p-4 justify-between"},U={class:"flex flex-row justify-between items-center"},A={class:"flex flex-col"},E={class:"flex flex-row items-center"},H=["src"],q={class:"text-gray-200 text-4xl p-1",style:{"font-family":"'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif"}},z=t("span",{class:"text-gray-300 text-xs mt-3 p-1"},"For Showing an Orders, Click + Button",-1),J=t("div",{class:""},[t("span",{class:"border-2 border-gray-400 p-2 rounded-full text-xs font-bold text-gray-300 my-3",style:{"letter-spacing":"1px"}},[t("i",{class:"fa-solid fa-gauge-high"}),O(" Dashboard Page ")])],-1),K={class:"flex items-center justify-between",style:{"letter-spacing":"1px","font-family":"'Lato'"}},Q=t("span",{class:"mx-1 text-sm text-gray-200 px-8 py-2 cursor-pointer border font-bold rounded-full bg-gray-500"}," Dashboard ",-1),X=t("span",{class:"mx-1 text-sm text-gray-300 px-8 dashboard-button-hover"}," Workspace ",-1),Y=t("span",{class:"mx-1 text-sm text-gray-300 px-8 dashboard-button-hover"}," Orders ",-1),Z=t("span",{class:"mx-1 text-sm text-gray-300 px-8 dashboard-button-hover"}," Procurement ",-1),tt=t("span",{class:"mx-1 text-sm text-gray-300 px-8 dashboard-button-hover"}," Warehouse ",-1),st={__name:"Dashboard",setup(p){const s=k();return(d,r)=>{var e,i;const a=L("router-link");return o(),l("div",G,[t("div",V,[t("div",U,[t("div",A,[t("div",E,[t("img",{class:"w-14 h-14 rounded-full",src:(e=_(s).user)==null?void 0:e.image_url,alt:""},null,8,H),t("span",q," Welcome Back, "+u((i=_(s).user)==null?void 0:i.name),1)]),z]),J]),t("div",K,[t("div",null,[n(a,{to:"/"},{default:C(()=>[Q]),_:1}),n(a,{to:"/"},{default:C(()=>[X]),_:1}),n(a,{to:"/stf"},{default:C(()=>[Y]),_:1}),n(a,{to:"/procurement"},{default:C(()=>[Z]),_:1}),n(a,{to:"/warehouse"},{default:C(()=>[tt]),_:1})])])])])}}},et={class:"col-span-3 p-1 border rounded-xs shadow-xl mx-1 bg-white",style:{"font-family":"'Roboto'"}},at={class:"flex flex-col items-center"},ot=t("span",{class:"text-3xl font-bold text-start pl-5 text-gray-600 mt-1 mb-3"},"STF Balance",-1),lt={__name:"STFChart",props:["statistic_data"],setup(p){m.register(b,g,y,v,w,$);const s=h(),d=k();R(async()=>{if(d.user){const a={user_id:d.user.id,project_id:d.user.projectId};s.fetchStatisticResult(a)}});const r=f();return x(()=>{var a,e,i;r.value={labels:["Canceled","Waiting","Completed"],datasets:[{label:"Data One",backgroundColor:["rgb(59 130 246)","rgb(132 204 22)","rgb(239 68 68)"],data:[(a=s==null?void 0:s.statistic_data)==null?void 0:a.stf_canceled,(e=s==null?void 0:s.statistic_data)==null?void 0:e.stf_false,(i=s==null?void 0:s.statistic_data)==null?void 0:i.stf_true]}]}}),(a,e)=>(o(),l("div",et,[t("div",at,[ot,n(_(F),{data:r.value},null,8,["data"])])]))}},rt={class:"col-span-3 p-1 border rounded-xs shadow-xl mx-1 bg-white",style:{"font-family":"'Roboto'"}},nt={class:"flex flex-col items-center"},ct=t("span",{class:"text-3xl font-bold text-start pl-5 text-gray-600 mt-1 mb-3"},"SM Balance",-1),dt={__name:"SMChart",props:["statistic_data"],setup(p){m.register(b,g,y,v,w,$);const s=h(),d=f();return x(()=>{var r,a,e;d.value={labels:["Canceled","Processing","Completed"],datasets:[{label:"Data One",backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],data:[(r=s==null?void 0:s.statistic_data)==null?void 0:r.sm_canceled,(a=s==null?void 0:s.statistic_data)==null?void 0:a.sm_process,(e=s==null?void 0:s.statistic_data)==null?void 0:e.sm_completed]}]}}),(r,a)=>(o(),l("div",rt,[t("div",nt,[ct,n(_(F),{data:d.value},null,8,["data"])])]))}},it={class:"col-span-6 p-1 border rounded-xs shadow-xl mx-1 bg-white",style:{"font-family":"'Roboto'"}},_t={class:"flex flex-col justify-center items-center"},ut=t("span",{class:"text-3xl font-bold text-center pl-5 text-gray-600 mt-1 mb-3"},"Group Order Information",-1),ft={class:"w-full h-1/3"},pt={__name:"GroupOrderChart",setup(p){m.register(b,g,y,v,w,$);const s=h(),d=k();R(async()=>{var a;await s.groupChartStatisticData((a=d.user)==null?void 0:a.projectId)});const r=f();return x(()=>{const a=[],e=[];for(let i of s==null?void 0:s.group_chart_statistic_data)a.push(i.department_id),e.push(i.stf_count);r.value={labels:a,datasets:[{label:"Group Order Count",data:e,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(201, 203, 107, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)","rgb(201, 203, 207)","rgb(201, 203, 207)","rgb(201, 203, 207)"],borderWidth:1}]}}),(a,e)=>(o(),l("div",it,[t("div",_t,[ut,t("div",ft,[n(_(N),{data:r.value},null,8,["data"])])])]))}},ht={class:"col-span-3 p-1 border rounded-xs shadow-xl mx-1 bg-white",style:{"font-family":"'Roboto'"}},xt={class:"flex flex-col items-center justify-between"},mt=t("span",{class:"text-3xl font-bold text-start pl-5 text-gray-600 mt-1 mb-3"},"Ordering Material Type",-1),bt={__name:"MaterialTypeChart",props:["statistic_data"],setup(p){m.register(b,g,y,v,w,$,M),f();const s=f();return x(()=>{s.value={labels:["Consumables","Fixture","Project"],datasets:[{label:"My First Dataset",data:[11,7,16],backgroundColor:["rgb(255, 99, 132)","rgb(255, 205, 86)","rgb(75, 192, 192)"]}]}}),(d,r)=>(o(),l("div",ht,[t("div",xt,[mt,n(_(P),{data:s.value},null,8,["data"])])]))}},gt="/assets/consumables-7e9c6435.png",yt="/assets/concrete-24015a7e.png",vt="/assets/driller-016f5dc4.png",wt="/assets/unusable-ac369eac.png",$t={class:"col-span-6 bg-white rounded-xs p-1 shadow-xl border flex",style:{"font-family":"'Roboto'"}},Ct={class:"flex flex-col w-full items-center justify-between py-1"},jt=t("span",{class:"text-3xl font-bold text-start pl-5 text-gray-600 mt-1 mb-3"},"Warehouse Stock",-1),kt={class:"flex w-full h-full"},St={class:"w-1/2 flex"},Dt={class:"flex flex-col w-1/2 justify-between"},Rt={key:0,class:"flex border shadow-lg mx-6 p-3 items-center justify-between"},Ft={class:"flex"},Pt=t("div",null,[t("img",{class:"w-16",src:gt,alt:""})],-1),Mt={class:"flex flex-col ml-6 justify-around h-full"},Bt=t("span",{class:"text-xl w-full font-bold"}," Consumables ",-1),Lt={class:"text-2xl font-bold"},Ot={class:"text-xl w-16 h-16 p-3 bg-blue-200 text-blue-600 font-bold rounded-full flex items-center justify-center"},It={key:1,class:"flex border shadow-lg mx-6 p-3 items-center justify-between"},Tt={class:"flex"},Nt=t("div",null,[t("img",{class:"w-16",src:yt,alt:""})],-1),Wt={class:"flex flex-col ml-6 justify-around h-full"},Gt=t("span",{class:"text-xl w-full font-bold"}," Projects ",-1),Vt={class:"text-2xl font-bold"},Ut={class:"text-xl w-16 h-16 p-3 bg-red-200 text-red-600 font-bold rounded-full flex items-center justify-center"},At={key:2,class:"flex border shadow-lg mx-6 p-3 items-center justify-between"},Et={class:"flex"},Ht=t("div",null,[t("img",{class:"w-16",src:vt,alt:""})],-1),qt={class:"flex flex-col ml-6 justify-around h-full"},zt=t("span",{class:"text-xl w-full font-bold"}," Fixture ",-1),Jt={class:"text-2xl font-bold"},Kt={class:"text-xl w-16 h-16 p-3 bg-orange-200 text-orange-600 font-bold rounded-full flex items-center justify-center"},Qt=T('<div class="flex border shadow-lg mx-6 p-3 items-center justify-between"><div class="flex"><div><img class="w-16" src="'+wt+'" alt=""></div><div class="flex flex-col ml-6 justify-around h-full"><span class="text-xl w-full font-bold"> Unusable </span><span class="text-2xl font-bold">0</span></div></div><div class="text-xl w-16 h-16 p-3 bg-yellow-200 text-yellow-600 font-bold rounded-full flex items-center justify-center"> 0% </div></div>',1),Xt={__name:"WarehouseStockGroup",props:["statistic_data"],setup(p){m.register(b,g,y,v,w,$);const s=h(),d=k();R(async()=>{var e;await s.wsStatisticData((e=d.user)==null?void 0:e.projectId)});const r=f(0),a=f();return x(()=>{const e=I({label:[],data:[]});for(let i of s.ws_statistic_data)e.label.push(i.material_type),e.data.push(i.count),r.value+=Number(i.count);console.log("total is : ",r.value),a.value={labels:e.label,datasets:[{label:"Data One",backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"],data:e.data}]}}),(e,i)=>(o(),l("div",$t,[t("div",Ct,[jt,t("div",kt,[t("div",St,[n(_(P),{data:a.value},null,8,["data"])]),t("div",Dt,[(o(!0),l(j,null,S(_(s).ws_statistic_data,c=>(o(),l(j,null,[c.material_type=="Consumables"?(o(),l("div",Rt,[t("div",Ft,[Pt,t("div",Mt,[Bt,t("span",Lt,u(c.count),1)])]),t("div",Ot,u(Math.round(100*c.count/r.value))+"% ",1)])):D("",!0),c.material_type=="Project"?(o(),l("div",It,[t("div",Tt,[Nt,t("div",Wt,[Gt,t("span",Vt,u(c.count),1)])]),t("div",Ut,u(Math.round(100*c.count/r.value))+"% ",1)])):D("",!0),c.material_type=="Fixture"?(o(),l("div",At,[t("div",Et,[Ht,t("div",qt,[zt,t("span",Jt,u(c.count),1)])]),t("div",Kt,u(Math.round(100*c.count/r.value))+"% ",1)])):D("",!0)],64))),256)),Qt])])])]))}},Yt={class:"col-span-3 p-1 border rounded-xs shadow-xl mx-1 bg-white",style:{"font-family":"'Roboto'"}},Zt={class:"flex flex-col items-center justify-between"},ts=t("span",{class:"text-3xl font-bold text-start pl-5 text-gray-600 mt-1 mb-3"},"Field Chart",-1),ss={__name:"FieldChart",props:["statistic_data"],setup(p){m.register(b,g,y,v,w,$,M),f();const s=f();return x(()=>{s.value={labels:["Common Uses","Avinovka 33","Alekseyevskoe 1","PR-2","PR-10","Unit-8"],datasets:[{label:"My First Dataset",data:[62,37,16,45,14,23],backgroundColor:["rgb(255, 99, 132)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(75, 192, 92)","rgb(75, 92, 192)","rgb(175, 192, 192)"]}]}}),(d,r)=>(o(),l("div",Yt,[t("div",Zt,[ts,n(_(F),{data:s.value},null,8,["data"])])]))}},es={class:"col-span-12 border bg-white p-5",style:{"font-family":"'Poppins'"}},as=t("div",{class:"flex flex-row pb-3 pl-5 border-b-2 justify-between mb-4"},[t("span",{class:"text-3xl font-bold"},"Recetly Created STF's"),t("div",{class:"border p-2 bg-gray-50 hover:cursor-pointer"},[t("button",null,"View All")])],-1),os={class:"overflow-hidden hover:overflow-y-scroll h-[450px]"},ls={key:0,class:"w-full shadow-xl border"},rs={class:"bg-slate-100"},ns=t("th",null,"S.No",-1),cs={class:"py-2 border-2",style:{"font-family":"'Roboto'"}},ds={class:"",style:{"font-family":"'Roboto'"}},is={class:"border py-2 text-start font-medium text-sm"},_s={key:0,class:"flex w-full justify-center"},us={class:"text-center"},fs={key:1,class:"flex w-full justify-center"},ps={class:"text-center"},hs={key:2,class:"flex w-full justify-start"},xs={class:"flex items-center"},ms=["src"],bs={class:"pl-3"},gs={key:3,class:"pl-2"},ys={__name:"STFTable",setup(p){const s=h(),d=k();return R(async()=>{var r,a;(r=d.user)!=null&&r.projectId&&(await s.fetchSTFData((a=d.user)==null?void 0:a.projectId),s.stf_data_headers.length===0&&await s.getHeaders())}),(r,a)=>(o(),l("div",es,[as,t("div",os,[_(s).stf_data_headers.length?(o(),l("table",ls,[t("thead",rs,[ns,(o(!0),l(j,null,S(_(s).stf_data_headers,e=>(o(),l("th",cs,u(e.showname),1))),256))]),(o(!0),l(j,null,S(_(s).stf_data,(e,i)=>(o(),l("tr",ds,[t("th",null,u(i+1),1),(o(!0),l(j,null,S(_(s).stf_data_headers,c=>(o(),l("th",is,[c.name==="amount"||c.name==="unit"?(o(),l("div",_s,[t("span",us,u(e[c.name]),1)])):c.name==="createdAt"?(o(),l("div",fs,[t("span",ps,[n(B,{time:e[c.name]},null,8,["time"])])])):c.name==="username"?(o(),l("div",hs,[t("span",xs,[t("img",{class:"ml-2 w-10 h-10 rounded-full",src:e.image_url,alt:""},null,8,ms),t("span",bs,u(e[c.name]),1)])])):(o(),l("div",gs,u(e[c.name]),1))]))),256))]))),256))])):D("",!0)])]))}},vs={class:"flex flex-col bg-gray-100"},ws=t("div",{class:"px-4 pb-3 pt-4",style:{"font-family":"'Roboto'"}},[t("span",{class:"text-4xl"},"Dashboard")],-1),$s={class:"px-4 mb-5"},Cs={class:"grid grid-cols-12 gap-2 px-3 pt-2"},js={class:"grid grid-cols-12 gap-4 px-3 pt-2 mt-5"},ks={class:"grid grid-cols-12 gap-2 mt-5 mb-5 py-2 mx-4"},Es={__name:"views.home",setup(p){return h(),(s,d)=>(o(),l("div",vs,[n(st),t("div",null,[ws,t("div",$s,[n(W)]),t("div",Cs,[n(pt),n(lt),n(dt)]),t("div",js,[n(Xt),n(bt),n(ss)])]),t("div",null,[t("div",ks,[n(ys)])])]))}};export{Es as default};
