import{I as C,g as D,o as n,c as l,a,t as i,u as g,z as v,F as b,M as w,T as f,a3 as E,r as j,A as p,b as y,_ as S,d as U,N as A,O as G,f as x,H as d,J as F,s as I,K as P,w as z,a0 as M,S as N,y as W,V as k,W as $,a1 as R}from"./index-1b60756a.js";const V={class:"grid grid-cols-12 gap-4 justify-between sticky bg-white"},H={class:"col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"},O=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-gray-200 text-gray-500 rounded-full px-2 py-2"><i class="fa-solid fa-clock fa-lg"></i></span> Waiting </span><span class="bg-gray-200 rounded-md text-gray-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),q={class:"flex items-center"},Q={class:"rounded-full flex border-8 border-gray-600 w-16 h-16 items-center justify-center analyz_show_data"},B={class:"col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"},L=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-red-200 text-red-500 rounded-full px-3 py-2"><i class="fa-regular fa-clipboard fa-lg"></i></span> Completed </span><span class="bg-red-200 rounded-md text-red-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),K={class:"flex items-center"},J={class:"rounded-full flex border-8 border-red-500 w-16 h-16 items-center justify-center analyz_show_data"},X={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},Y=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-blue-200 text-blue-500 rounded-full px-2 py-2"><i class="fa-solid fa-person-digging fa-lg"></i></span> Processing </span><span class="bg-blue-200 rounded-md text-blue-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),Z={class:"flex items-center"},ee={class:"rounded-full flex border-8 border-blue-500 w-16 h-16 items-center justify-center analyz_show_data"},se={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},te=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-green-200 text-green-500 rounded-full px-2 py-2"><i class="fa-solid fa-satellite-dish fa-lg"></i></span> Received </span><span class="bg-green-200 rounded-md text-green-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),ae={class:"flex items-center"},oe={class:"rounded-full flex border-8 border-green-500 w-16 h-16 items-center justify-center analyz_show_data"},re={class:"col-span-2 flex flex-row justify-between border w-full p-3 rounded-md shadow-md hover:shadow-xl hover:cursor-pointer"},ne=v('<div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-pink-200 text-pink-500 rounded-full px-2 py-2"><i class="fa-solid fa-warehouse fa-lg"></i></span> Warehouse </span><span class="bg-pink-200 rounded-md text-pink-800 p-2 analyz_get_data text-center">Get Data</span></div>',1),le={class:"flex items-center"},ce={class:"rounded-full flex border-8 border-pink-500 w-16 h-16 items-center justify-center analyz_show_data"},ie=v('<div class="col-span-2 flex flex-row justify-between border shadow-md w-full p-3 rounded-md hover:shadow-xl hover:cursor-pointer"><div class="flex flex-col justify-between"><span class="text-gray-600 analyz_header"><span class="bg-orange-200 text-orange-500 rounded-full px-2 py-2"><i class="fa-solid fa-ban fa-lg"></i></span> Canceled </span><span class="bg-orange-200 rounded-md text-orange-800 p-2 analyz_get_data text-center">Get Data</span></div><div class="flex items-center"><div class="rounded-full flex border-8 border-orange-600 w-16 h-16 items-center justify-center analyz_show_data"> 12 </div></div></div>',1),It={__name:"STFStatistics",setup(t){const e=C();return D(async()=>{e.statistic_data||await e.fetchStatisticResult()}),(s,c)=>{var r,o,_,m,h;return n(),l("div",V,[a("div",H,[O,a("div",q,[a("div",Q,i((r=g(e).statistic_data)==null?void 0:r.stf_false),1)])]),a("div",B,[L,a("div",K,[a("div",J,i((o=g(e).statistic_data)==null?void 0:o.stf_true),1)])]),a("div",X,[Y,a("div",Z,[a("div",ee,i((_=g(e).statistic_data)==null?void 0:_.sm_process),1)])]),a("div",se,[te,a("div",ae,[a("div",oe,i((m=g(e).statistic_data)==null?void 0:m.sm_completed),1)])]),a("div",re,[ne,a("div",le,[a("div",ce,i((h=g(e).statistic_data)==null?void 0:h.warehouse_inform),1)])]),ie])}}},de={class:"text-gray-100 bg-slate-800 sticky top-48 border-b-4 shadow-md table_header"},_e=a("th",{scope:"col-4",class:"pl-1"},[a("div",{class:"flex flex-col items-center"},[a("i",{class:"fa-solid fa-circle-info fa-xl text-green-500"})])],-1),he=a("th",{scope:"col-4",class:"px-4"},[a("div",{class:"flex flex-col items-center"},[a("input",{id:"checkbox-all-search",type:"checkbox",class:"checkbox checkbox-xs checkbox-primary"}),a("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox")])],-1),me=a("th",{class:"px-2 py-3 text-center"},[a("div",{class:"flex flex-col font-thin"}," S/S ")],-1),ue={scope:"col",class:"px-2 py-1 text-center border font-thin"},pe={key:0,class:"w-20"},fe={key:1,class:"w-26"},ve={key:2,class:"w-32"},ge={key:3,class:"w-24"},ye={key:4,class:"w-32"},xe={key:5,class:"w-24"},be={key:6,class:"min-w-[600px]"},we={key:7,class:"min-w-[120px]"},$e={key:8,class:"w-24"},ke={key:9,class:"w-96"},Se={key:10,class:"flex flex-col w-24"},Pt={__name:"TableHeader",props:["table_headers"],setup(t){const e=t;return(s,c)=>(n(),l("thead",de,[a("tr",null,[_e,he,me,(n(!0),l(b,null,w(e==null?void 0:e.table_headers,r=>f((n(),l("th",ue,[r.name==="situation"?(n(),l("div",pe,i(r.showname),1)):r.name==="stf_num"?(n(),l("div",fe,i(r.showname),1)):r.name==="sm_num"?(n(),l("div",ve,i(r.showname),1)):r.name==="created_at"?(n(),l("div",ge,i(r.showname),1)):r.name==="approximate_date"?(n(),l("div",ye,i(r.showname),1)):r.name==="material_type"?(n(),l("div",xe,i(r.showname),1)):r.name==="material_name"||r.name==="sm_material_name"||r.name==="delivery_material_name"?(n(),l("div",be,i(r.showname),1)):r.name==="amount"?(n(),l("div",we,i(r.showname),1)):r.name==="field_name"?(n(),l("div",$e,i(r.showname),1)):r.name==="vendor_name"?(n(),l("div",ke,i(r.showname),1)):(n(),l("div",Se,i(r.showname),1))],512)),[[E,r.value]])),256))])]))}},Ce={class:"px-2 py-2 font-medium text-center",style:{"font-family":"'Poppins', sans-serif"}},Ee={key:0,class:"w-26"},Fe={class:"bg-orange-100 text-orange-500 py-[0.30rem] px-2 rounded-md"},Te={key:1,class:"w-26"},De={key:0,class:"text-red-500 py-[0.30rem] px-2 rounded-md"},je=a("i",{class:"fa-solid fa-xmark text-xl text-bold"},null,-1),Ue=[je],Ae={key:1,class:"text-green-500 py-[0.30rem] px-2 rounded-md"},Ge=a("i",{class:"fa-solid fa-check text-xl"},null,-1),Ie=[Ge],Pe={key:2,class:"w-24"},ze={key:0,class:"bg-violet-100 text-violet-500 py-[0.30rem] px-2 rounded-md"},Me={key:3,class:"w-26 text-center"},Ne={key:4,class:"w-26 text-center"},We={key:5,class:"w-26 text-center"},Re={key:6,class:"w-20 text-start"},Ve={key:0},He={class:"bg-blue-100 w-full text-blue-500 py-[0.30rem] px-2 rounded-md"},Oe={key:1},qe={class:"bg-green-100 w-full text-green-500 py-[0.30rem] px-2 rounded-md"},Qe={key:7,class:"text-start w-24"},Be={key:8,class:"text-start min-w-[600px]"},Le={class:""},Ke={key:9,class:"text-start w-24"},Je={key:10,class:"text-start"},Xe={key:11,class:"text-center"},Ye={key:12,class:"text-center"},Ze={key:0},es=a("i",{class:"fa-solid fa-check fa-2xl text-green-600"},null,-1),ss=[es],ts={key:1},as=a("i",{class:"fa-solid fa-xmark fa-2xl text-red-600"},null,-1),os=[as],rs={key:13},ns={class:""},zt={__name:"TableRow",props:["table_headers","each"],setup(t){const e=t;return(s,c)=>{const r=j("DateFormat");return n(!0),l(b,null,w(e==null?void 0:e.table_headers,o=>f((n(),l("th",Ce,[o.name==="stf_num"?(n(),l("div",Ee,[a("span",Fe,i(e.each[o.name]),1)])):o.name==="completed"?(n(),l("div",Te,[e.each[o.name]===!1?(n(),l("span",De,Ue)):p("",!0),e.each[o.name]===!0?(n(),l("span",Ae,Ie)):p("",!0)])):o.name==="sm_num"?(n(),l("div",Pe,[e.each[o.name]?(n(),l("span",ze,i(e.each[o.name]),1)):p("",!0)])):o.name==="createdAt"?(n(),l("div",Me,[y(r,{time:e.each[o.name]},null,8,["time"])])):o.name==="approximate_date"?(n(),l("div",Ne,[y(r,{time:e.each[o.name]},null,8,["time"])])):o.name==="provided_date"?(n(),l("div",We,[y(r,{time:e.each[o.name]},null,8,["time"])])):o.name==="situation"?(n(),l("div",Re,[e.each[o.name]==="Processing"?(n(),l("div",Ve,[a("span",He," ●"+i(e.each.situation),1)])):e.each[o.name]==="Completed"?(n(),l("div",Oe,[a("span",qe," ●"+i(e.each.situation),1)])):p("",!0)])):o.name==="material_type"?(n(),l("div",Qe,[a("span",null,i(e.each[o.name]),1)])):o.name==="material_name"||o.name==="sm_material_name"||o.name==="delivery_material_name"?(n(),l("div",Be,[a("span",Le,i(e.each[o.name]),1)])):o.name==="field_name"?(n(),l("div",Ke,[a("span",null,i(e.each[o.name]),1)])):o.name==="vendor_name"?(n(),l("div",Je,[a("span",null,i(e.each[o.name]),1)])):o.name==="username"?(n(),l("div",Xe,[a("span",null,i(e.each[o.name]),1)])):o.name==="passport"||o.name==="certificate"?(n(),l("div",Ye,[e.each[o.name]===!0?(n(),l("span",Ze,ss)):(n(),l("span",ts,os))])):(n(),l("div",rs,[a("span",ns,i(e.each[o.name]),1)]))],512)),[[E,o.value]])),256)}}};const T=t=>(A("data-v-16da33b1"),t=t(),G(),t),ls={key:0,class:"border flex flex-col bg-white absolute top-5 left-5 shadow-2xl p-2 px-4 rounded-2xl w-80"},cs=T(()=>a("i",{class:"fa-solid fa-xmark text-gray-400 hover:text-black"},null,-1)),is=[cs],ds=T(()=>a("i",{class:"fa-brands fa-joget px-1 text-gray-500"},null,-1)),_s=v('<span class="py-2 text-gray-900 row_item" data-v-16da33b1><i class="fa-regular fa-circle-question px-1 text-gray-500" data-v-16da33b1></i> Get SM Information</span><span class="py-2 text-gray-900 row_item" data-v-16da33b1><i class="fa-regular fa-eye-slash px-1 text-gray-500" data-v-16da33b1></i> Set Hide</span><span class="py-2 text-gray-900 row_item" data-v-16da33b1><i class="fa-regular fa-star px-1 text-gray-500" data-v-16da33b1></i> Set Star</span><span class="py-2 text-gray-900 row_item" data-v-16da33b1><i class="fa-regular fa-pen-to-square px-1 text-gray-500" data-v-16da33b1></i> Update Row</span><span class="py-2 text-gray-900 row_item" data-v-16da33b1><i class="fa-regular fa-trash-can px-1 text-gray-500" data-v-16da33b1></i> Remove Row</span>',5),hs=v('<div class="my-3 flex flex-col justify-between" data-v-16da33b1><span class="row_item p-1 hover:bg-none" data-v-16da33b1> Set Status</span><div class="text-lg px-1" data-v-16da33b1><select class="select select-bordered w-full max-w-xs row_item" data-v-16da33b1><option disabled selected data-v-16da33b1>Normal</option><option data-v-16da33b1>Completed</option><option data-v-16da33b1>Waiting</option></select></div></div>',1),ms={__name:"STFInformComp",props:["cond","each"],emits:["closeInform"],setup(t,{emit:e}){const s=t,c=C(),r=()=>{e("closeInform")},o=()=>{var _,m;console.log("each stf id : ",(_=s==null?void 0:s.each)==null?void 0:_.stf_id),c.fetchSTFRowInform((m=s==null?void 0:s.each)==null?void 0:m.stf_id),c.row_inform_condition=!0};return(_,m)=>s.cond?(n(),l("div",ls,[a("div",{class:"flex justify-end items-center"},[a("span",{class:"text-xl",onClick:r},is)]),a("div",{class:"flex flex-col"},[a("span",{onClick:o,class:"py-2 text-gray-900 row_item"},[ds,U(" Get STF Information")]),_s]),hs])):p("",!0)}},us=S(ms,[["__scopeId","data-v-16da33b1"]]),ps={class:"hover:text-blue-400 p-1 relative"},fs={class:"flex items-center justify-center"},vs=a("i",{class:"fa-solid fa-ellipsis-vertical fa-2xl text-green-500"},null,-1),gs=[vs],Mt={__name:"TableRowInform",props:["each"],setup(t){const e=t,s=x(!1),c=async()=>{s.value=!0},r=()=>{s.value=!1};return(o,_)=>(n(),l("td",ps,[a("div",fs,[a("span",{onClick:c},gs),y(us,{cond:s.value,each:e==null?void 0:e.each,onCloseInform:r},null,8,["cond","each"])])]))}};d.defaults.withCredentials=!0;const Nt=F("ProcurementStore",{state:()=>({tab_num:0,checked_values:[],companies_names:[],procurement_users_names:[],creating_STF_datas:[],after_created:!1,all_stf:[],all_sms:[],stf_table_headers:[],sm_table_headers:[],toggle_createsm:!1,created_stf_username:[],warehouse_data:[],warehouse_headers:[],warehouse_selecting_rows:[],filtered_vendor_names:[]}),getters:{GETCHECKEDVALUES:t=>t.checked_values,GETCOMPANIESNAMES:t=>t.companies_names,GETPROCUREMENTUSERSNAMES:t=>t.procurement_users_names,GETCREATINGSTFDATA:t=>t.creating_STF_datas,GETWAREHOUSEHEADERS:t=>t.warehouse_headers},actions:{async createSM(t){try{await d.post("https://ustaypm-server.onrender.com/procurement/createsm",t).then(e=>e)}catch(e){return e}},async fetchSTF(){try{await d.get("https://ustaypm-server.onrender.com/procurement/fetchstf").then(t=>{this.all_stf=t.data}).catch(t=>{console.log("all stf Error : ",t)})}catch(t){console.log("Fetch All STF Error : ",t)}},async getFilteredDataSTF(t){const e=this.createUrlQuery(t);try{await d.get(`https://ustaypm-server.onrender.com/common/filterstf${e}`).then(s=>{this.all_stf=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getSTFHeaders(){var t;if(this.all_stf.length){for(let[e,s]of Object.entries(this.all_stf[0])){const c=e.slice(e.length-2,e.length);if(e!=="id"&&c!=="id"&&c!=="Id"){let r={},o=e.charAt(0).toUpperCase()+e.slice(1);o=o.split("_").join(" "),e==="completed"||e==="stf_num"||e==="sm_num"||e==="createdAt"||e==="situation"||e==="material_type"||e==="material_name"||e==="amount"||e==="unit"||e==="username"?(r.showname=`${o}`,r.name=`${e}`,r.value=!0):(r.showname=`${o}`,r.name=`${e}`,r.value=!1),this.stf_table_headers.push(r)}}for(let e=0;e<((t=this.all_stf_headers)==null?void 0:t.length);e++){if(this.all_stf_headers[e].name==="completed"){let s=this.all_stf_headers[0];this.all_stf_headers[0]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="stf_num"){let s=this.all_stf_headers[1];this.all_stf_headers[1]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="sm_num"){let s=this.all_stf_headers[2];this.all_stf_headers[2]=this.all_stf_headers[e],this.all_stf_headers[e]=s}if(this.all_stf_headers[e].name==="situation"){let s=this.all_stf_headers[3];this.all_stf_headers[3]=this.all_stf_headers[e],this.all_stf_headers[e]=s}}}},async fetchAllSM(t){if(t)try{await d.get(`https://ustaypm-server.onrender.com/procurement/fetchsm/${t}`).then(e=>{this.all_sms=e.data}).catch(e=>{console.log("all stf Error : ",e)})}catch(e){console.log("Fetch ALl SM Error : ",e)}},async getFilteredDataSM(t){const e=this.createUrlQuery(t);try{await d.get(`
                https://ustaypm-server.onrender.com/common/filtersm${e}
            `).then(s=>{this.all_sms=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getSMHeaders(){var t;if(this.all_sms.length){for(let[e,s]of Object.entries(this.all_sms[0])){const c=e.slice(e.length-2,e.length);if(e!=="id"&&c!=="id"&&c!=="Id"){let r={},o=e.charAt(0).toUpperCase()+e.slice(1);o=o.split("_").join(" "),e==="stf_num"||e==="sm_num"||e==="created_at"||e==="situation"||e==="sm_material_name"||e==="amount"||e==="unit"||e==="sm_num"||e==="price"||e==="total"||e==="currency"||e==="left_over"||e==="supplier"||e==="vendor_name"||e==="username"||e==="orderer"?(r.showname=`${o}`,r.name=`${e}`,r.value=!0):(r.showname=`${o}`,r.name=`${e}`,r.value=!1),this.sm_table_headers.push(r)}}for(let e=0;e<((t=this.sm_table_headers)==null?void 0:t.length);e++){if(this.sm_table_headers[e].name==="stf_num"){let s=this.sm_table_headers[0];this.sm_table_headers[0]=this.sm_table_headers[e],this.sm_table_headers[e]=s}if(this.sm_table_headers[e].name==="sm_num"){let s=this.sm_table_headers[1];this.sm_table_headers[1]=this.sm_table_headers[e],this.sm_table_headers[e]=s}if(this.sm_table_headers[e].name==="situation"){let s=this.sm_table_headers[2];this.sm_table_headers[2]=this.sm_table_headers[e],this.sm_table_headers[e]=s}}}},async getCompaniesNames(){try{await d.get("https://ustaypm-server.onrender.com/common/fetchcompanies").then(t=>{this.companies_names=t.data,this.filtered_vendor_names=t.data}).catch(t=>{console.log("Getting Companies Names Errors : ",t)})}catch(t){console.log("Get Companies Name Error : ",t)}},async filterVendorName(t){if(t.toString().trim()==="")this.filtered_vendor_names=this.companies_names;else try{await d.get(`
                  https://ustaypm-server.onrender.com/common/filtervendornames?selected_text=${t}
              `).then(e=>{this.filtered_vendor_names=e.data}).catch(e=>{console.log("Error Is : ",e)})}catch(e){console.log("Get Filtered Data Error : ",e)}},async getProcurementUsersNames(){try{await d.get("https://ustaypm-server.onrender.com/common/procurementusers").then(t=>{this.procurement_users_names=t.data}).catch(t=>{console.log("Get Users Names Errors : ",t)})}catch(t){console.log("Get Procurement Users Error : ",t)}},async fetchSTFCreateUsernames(){try{await d.get("https://ustaypm-server.onrender.com/common/createdstfusers").then(t=>{this.created_stf_username=t.data}).catch(t=>{console.log("Get Users Names Errors : ",t)})}catch(t){console.log("Get Procurement Users Error : ",t)}},async fetchWarehouseData(){try{await d.get("https://ustaypm-server.onrender.com/warehouse").then(t=>{this.warehouse_data=t.data}).catch(t=>{console.log("Fetch User Catch Error : ",t)})}catch(t){return console.log("Fetch User STF Error : ",t),t}},async getWarehouseHeaders(){var t;if(((t=this.warehouse_data)==null?void 0:t.length)>1)for(let[e,s]of Object.entries(this==null?void 0:this.warehouse_data[0])){const c=e.slice(e.length-2,e.length);if(e!=="id"&&c!=="id"&&c!=="Id"){let r={},o=e.charAt(0).toUpperCase()+e.slice(1);o=o.split("_").join(" "),e==="stf_num"||e==="sm_num"||e==="material_name"||e==="amount"||e==="unit"||e==="vendor_name"||e==="stock"||e==="certificate"||e==="passport"||e==="field"?(r.showname=`${o}`,r.name=`${e}`,r.value=!0):(r.showname=`${o}`,r.name=`${e}`,r.value=!1),this.warehouse_headers.push(r)}}},async getFilteredWarehouseData(t){const e=this.createUrlQuery(t);try{await d.get(`
                https://ustaypm-server.onrender.com/common/filterwarehouse${e}
            `).then(s=>{this.warehouse_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},createUrlQuery(t){let e="";for(let[s,c]of Object.entries(t))e===""&&(e+="?"),t[s],e+=`${s}=${t[s]}`,e+="&";return e=e.slice(0,-1),e}}}),ys={class:"flex flex-col border shadow-xl p-2 absolute w-96 h-96 top-14 right-0 bg-white overflow-hidden overflow-y-scroll"},xs=a("div",{class:"mt-12 sticky top-10"},[a("input",{class:"border-2 border-indigo-600 my-2 w-full p-2 rounded-lg text-sm outline-none",type:"text",name:"",id:"",placeholder:"Column Name...",style:{"font-style":"italic"}})],-1),bs={class:""},ws={class:"flex flex-row items-center hover:bg-gray-100 p-2 rounded-md text-xs"},$s=["checked","onChange"],ks=["for"],Wt={__name:"TableExpand",props:["table_headers"],setup(t){const e=t,s=c=>{c.value=!c.value};return(c,r)=>(n(),l("div",ys,[xs,a("ul",bs,[(n(!0),l(b,null,w(e==null?void 0:e.table_headers,o=>(n(),l("li",null,[a("div",ws,[a("input",{type:"checkbox",name:"",checked:o.value,onChange:_=>s(o),class:"checkbox checkbox-xs checkbox-primary"},null,40,$s),a("label",{for:o.name,class:"ml-2"},i(o.showname),9,ks)])]))),256))])]))}};const Ss={class:"fixed right-0 top-0 z-50"},Cs={class:"animate-bounce mt-4 p-3 bg-green-500 rounded-full hover:bg-green-400"},Es=v('<div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-gear fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-chart-column fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-file-csv fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-regular fa-star fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-ban fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-filter fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-plus fa-lg text-gray-100" data-v-7b7b4916></i></div><div class="my-3 px-3" data-v-7b7b4916><i class="cursor-pointer hover:text-gray-300 fa-solid fa-file-zipper fa-lg text-gray-100" data-v-7b7b4916></i></div>',8),Fs=[Es],Ts={__name:"TableCommonComp",setup(t){const e=I(!1),s=x(!0),c=()=>{s.value=!0,e.value=!0},r=()=>{s.value=!1,setTimeout(()=>{e.value=!1},500)};return(o,_)=>(n(),l("div",Ss,[a("div",Cs,[e.value?p("",!0):(n(),l("i",{key:0,onClick:c,class:"cursor-pointer fa-solid fa-plus fa-2xl text-gray-100"})),e.value?(n(),l("i",{key:1,onClick:r,class:"cursor-pointer fa-solid fa-minus fa-2xl text-gray-100"})):p("",!0)]),e.value?(n(),l("div",{key:0,class:P([s.value?"anim-open":"anim-close","bg-blue-600 py-2 rounded-2xl flex flex-col items-center"])},Fs,2)):p("",!0)]))}},Rt=S(Ts,[["__scopeId","data-v-7b7b4916"]]);const Ds={key:0,class:"fixed top-32 left-1/3 w-1/3 p-1 rounded-lg text-black shadow-xl font-bold border-4 bg-gray-100 flex items-center justify-center anim"},js={class:"text-xl",style:{"font-family":"'Roboto', sans-serif"}},Us={__name:"Toast",props:["cond","messages"],setup(t){const e=t;return(s,c)=>e.cond?(n(),l("div",Ds,[a("div",null,[a("span",js,i(e.messages),1)])])):p("",!0)}},Vt=S(Us,[["__scopeId","data-v-22f64384"]]);d.defaults.withCredentials=!0;const As=F("WarehouseStore",{state:()=>({tab_num:0,processing_sms:[],processing_sm_headers:[],processing_checked_values:[],toggle_accept_sm:!1,accepted_condition:!0,after_created:!1,after_provide:!1,warehouse_data:[],warehouse_data_headers:[],provides_data:[],provided_data_headers:[],warehouse_data_checked_values:[],warehouse_data_stock_cond:!0,departments:[],delivery_types:[],companies_names:[],created_stf_username:[]}),actions:{async getProcessingSMS(t){if(t)try{await d.get(`https://ustaypm-server.onrender.com/procurement/fetchsm/${t}`).then(e=>{this.processing_sms=e.data}).catch(e=>{console.log("Get Warehouse Waiting Error : ",e)})}catch{console.log("Error Happen For Fetching Warehouse Procesing Data")}},async getFilteredDataProcessingSM(t){const e=this.createUrlQuery(t);try{await d.get(`
                https://ustaypm-server.onrender.com/common/filtersm${e}
            `).then(s=>{this.processing_sms=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getProcessingSMHeaders(){var t,e;if((t=this.processing_sms)!=null&&t.length){for(let[s,c]of Object.entries(this==null?void 0:this.processing_sms[0])){const r=s.slice(s.length-2,s.length);if(s!=="id"&&r!=="id"&&r!=="Id"){let o={},_=s.charAt(0).toUpperCase()+s.slice(1);_=_.split("_").join(" "),s==="stf_num"||s==="sm_num"||s==="created_at"||s==="situation"||s==="sm_material_name"||s==="amount"||s==="unit"||s==="sm_num"||s==="price"||s==="total"||s==="currency"||s==="supplier"||s==="vendor_name"||s==="left_over"||s==="username"||s==="orderer"||s==="left_over_amount"?(o.showname=`${_}`,o.name=`${s}`,o.value=!0):(o.showname=`${_}`,o.name=`${s}`,o.value=!1),this.processing_sm_headers.push(o)}}for(let s=0;s<((e=this.processing_sm_headers)==null?void 0:e.length);s++){if(this.processing_sm_headers[s].name==="stf_num"){let c=this.processing_sm_headers[0];this.processing_sm_headers[0]=this.processing_sm_headers[s],this.processing_sm_headers[s]=c}if(this.processing_sm_headers[s].name==="sm_num"){let c=this.processing_sm_headers[1];this.processing_sm_headers[1]=this.processing_sm_headers[s],this.processing_sm_headers[s]=c}if(this.processing_sm_headers[s].name==="situation"){let c=this.processing_sm_headers[2];this.processing_sm_headers[2]=this.processing_sm_headers[s],this.processing_sm_headers[s]=c}}}},async acceptWaitingSM(t){try{await d.post("https://ustaypm-server.onrender.com/warehouse/accept",t).then(e=>{this.accepted_sms=e}).catch(e=>{console.log("Accepted Materials Error From Warehouse Store : ",e)})}catch(e){console.log("Received accept Waiting SM Error : ",e)}},async fetchWarehouseData(){await d.get("https://ustaypm-server.onrender.com/warehouse").then(t=>{this.warehouse_data=t.data}).catch(t=>{console.log("Received Items Error : ",t)})},async getFilteredDataWarehouse(t){const e=this.createUrlQuery(t);try{await d.get(`
                https://ustaypm-server.onrender.com/common/filterwarehouse${e}
            `).then(s=>{this.warehouse_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getWarehouseDataHeaders(){var t,e;if((t=this.warehouse_data)!=null&&t.length){for(let[s,c]of Object.entries(this.warehouse_data[0]))if(s!=="id"){let r={},o=s.charAt(0).toUpperCase()+s.slice(1);o=o.split("_").join(" "),s==="stf_num"||s==="sm_num"||s==="created_at"||s==="situation"||s==="material_name"||s==="amount"||s==="stock"||s==="unit"||s==="username"||s==="orderer"||s==="delivery_amount"?(r.showname=`${o}`,r.name=`${s}`,r.value=!0):(r.showname=`${o}`,r.name=`${s}`,r.value=!1),this.warehouse_data_headers.push(r)}for(let s=0;s<((e=this.warehouse_data_headers)==null?void 0:e.length);s++){if(this.warehouse_data_headers[s].name==="stf_num"){let c=this.warehouse_data_headers[0];this.warehouse_data_headers[0]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=c}if(this.warehouse_data_headers[s].name==="sm_num"){let c=this.warehouse_data_headers[1];this.warehouse_data_headers[1]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=c}if(this.warehouse_data_headers[s].name==="situation"){let c=this.warehouse_data_headers[2];this.warehouse_data_headers[2]=this.warehouse_data_headers[s],this.warehouse_data_headers[s]=c}}}},async fetchProvidedData(){await d.get("https://ustaypm-server.onrender.com/provides").then(t=>{this.provides_data=t.data,console.log("Get Provide Data and result is : ",this.provides_data)}).catch(t=>{console.log("Provied Items Error : ",t)})},async getFilteredDataProvided(t){const e=this.createUrlQuery(t);console.log("store is working");try{await d.get(`
                https://ustaypm-server.onrender.com/common/filterprovided${e}
            `).then(s=>{this.provides_data=s.data}).catch(s=>{console.log("Error Is : ",s)})}catch(s){console.log("Get Filtered Data Error : ",s)}},async getProvidedDataHeaders(){var t;if((t=this.provides_data)!=null&&t.length){for(let[e,s]of Object.entries(this.provides_data[0]))if(e!=="id"){let c={},r=e.charAt(0).toUpperCase()+e.slice(1);r=r.split("_").join(" "),e==="sm_num"||e==="provided_date"||e==="material_name"||e==="amount"||e==="unit"||e==="serial_no"||e==="unique_id"||e==="deliver_to"||e==="card_number"?(c.showname=`${r}`,c.name=`${e}`,c.value=!0):(c.showname=`${r}`,c.name=`${e}`,c.value=!1),this.provided_data_headers.push(c)}console.log("provided data geaders : ",this.provided_data_headers)}},async provideSM(t){try{await d.post("https://ustaypm-server.onrender.com/warehouse/provide",t).then(e=>{console.log("provide respond : ",e)}).catch(e=>{console.log("Provide Materials Error From Warehouse Store : ",e)})}catch(e){console.log("Provide  SM Error : ",e)}},async fetchDepartments(){try{await d.get("https://ustaypm-server.onrender.com/common/fetchdepartments").then(t=>{this.departments=t.data}).catch(t=>{console.log("Fetch Departments Error : ",t)})}catch(t){console.log("Fetch Departments Error : ",t)}},async getCompaniesNames(){try{await d.get("https://ustaypm-server.onrender.com/common/fetchcompanies").then(t=>{this.companies_names=t.data}).catch(t=>{console.log("Getting Companies Names Errors : ",t)})}catch(t){console.log("Get Companies Name Error : ",t)}},async fetchSTFCreateUsernames(){try{await d.get("https://ustaypm-server.onrender.com/common/createdstfusers").then(t=>{this.created_stf_username=t.data}).catch(t=>{console.log("Get Users Names Errors : ",t)})}catch(t){console.log("Get Procurement Users Error : ",t)}},async fetchWarehouseDeliveryTypes(){try{await d.get("https://ustaypm-server.onrender.com/warehouse/deliverytypes").then(t=>{this.delivery_types=t.data}).catch(t=>{console.log("Fetch Departments Error : ",t)})}catch(t){console.log("Fetch Departments Error : ",t)}},createUrlQuery(t){let e="";for(let[s,c]of Object.entries(t))e===""&&(e+="?"),t[s],e+=`${s}=${t[s]}`,e+="&";return e=e.slice(0,-1),e}}}),Gs={class:"flex flex-col m-1 relative justify-start items-start"},Is=a("span",{class:"m-1"},"Search Vendor Name",-1),Ps={class:"p-0 flex items-start"},zs={key:0,class:"flex flex-col bg-white border rounded-xl shadow-2xl absolute top-10 right-10 p-0 min-w-[700px] max-h-[600px] overflow-auto"},Ms=a("span",{class:"font-bold text-2xl",style:{"font-family":"'Poppins', sans-serif"}},"Companies",-1),Ns=a("i",{class:"fa-solid fa-xmark"},null,-1),Ws=[Ns],Rs=a("div",{class:"sticky top-[36px] p-2 bg-white"},[a("input",{class:"border-2 border-indigo-600 my-2 w-full p-2 rounded-lg text-sm outline-none",type:"text",name:"",id:"",placeholder:"Company Name...",style:{}})],-1),Vs={class:"text-lg",style:{"font-family":"'Poppins', sans-serif"}},Hs=a("span",{style:{"font-family":"'Poppins', sans-serif"},class:"text-lg"}," -- All -- ",-1),Os=[Hs],qs=["onClick"],Qs={__name:"VendorNames",props:["companies_list"],emits:["selectedComp"],setup(t,{emit:e}){const s=x(!1),c=o=>{s.value=!1,e("selectedComp",o)},r=()=>{s.value=!1};return(o,_)=>(n(),l("div",Gs,[Is,a("div",Ps,[a("button",{class:"border border-blue-300 py-2 rounded-lg text-sm px-3",onClick:_[0]||(_[0]=m=>s.value=!s.value)}," Select Vendor ")]),y(M,{name:"show"},{default:z(()=>[s.value?(n(),l("div",zs,[a("div",{class:"sticky top-0 bg-white p-2 height-[30px]"},[a("div",{class:"flex justify-between text-gray-600"},[Ms,a("button",{onClick:r,class:"font-bold text-lg hover:bg-gray-100 py-1 px-2 rounded-md"},Ws)])]),Rs,a("ul",Vs,[a("li",{onClick:_[1]||(_[1]=m=>c("All")),class:"m-1 p-1 px-2 hover:bg-gray-100 cursor-pointer rounded-md"},Os),(n(!0),l(b,null,w(t.companies_list,m=>(n(),l("li",{onClick:h=>c(m),style:{"font-family":"'Poppins', sans-serif"},class:"m-1 p-1 px-2 hover:bg-gray-100 cursor-pointer rounded-md"},i(m.vendor_name),9,qs))),256))])])):p("",!0)]),_:1})]))}},Bs={class:"mtf-anim z-70",style:{"letter-spacing":"1px","font-size":"x-small"}},Ls={class:"relative flex flex-row items-center justify-between filter_headers"},Ks={class:"flex flex-row start"},Js={class:"flex flex-col my-1 mr-3",style:{"font-size":"x-small"}},Xs=a("span",{class:"m-1"},"Date Order",-1),Ys=a("option",{value:"Descending"},"Descendig",-1),Zs=a("option",null,"Ascending",-1),et=[Ys,Zs],st={class:"flex flex-col m-1"},tt=a("span",{class:"m-1"},"Search Date",-1),at={class:"flex flex-col m-1"},ot=a("span",{class:"m-1"},"Search Type",-1),rt=a("option",null,"All",-1),nt=a("option",null,"Project",-1),lt=a("option",null,"Consumables",-1),ct=a("option",null,"Fixture",-1),it=[rt,nt,lt,ct],dt={class:"flex flex-col m-1"},_t=a("span",{class:"m-1"},"Search STF",-1),ht=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),mt={class:"relative"},ut=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),pt={class:"flex flex-col m-1"},ft=a("span",{class:"m-1"},"Search SM",-1),vt=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),gt={class:"relative"},yt=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),xt={class:"flex flex-col m-1"},bt=a("span",{class:"m-1"},"Search Username",-1),wt=a("option",{value:"All",style:{"font-family":"'Poppins', sans-serif"},class:"text-lg"},"-- All --",-1),$t=["value"],kt={class:"flex flex-row justify-end"},St={class:"flex flex-col m-1 items-start"},Ct=a("span",{class:"m-1"},"Search Type",-1),Et=a("label",{for:"search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),Ft={class:"relative w-96"},Tt=a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none w-96"},[a("svg",{"aria-hidden":"true",class:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),Dt={class:"flex m-1 items-end text-gray-500 cursor-pointer relative"},jt=a("i",{class:"fa-solid fa-gear fa-2xl"},null,-1),Ut=[jt],At=a("div",{class:"flex m-1 items-end text-gray-500 cursor-pointer relative"},[a("button",{class:"p-2 hover:bg-gray-300 rounded-md"},[a("i",{class:"fa-solid fa-chart-line fa-2xl"})])],-1),Ht={__name:"TableFilterWarehouse",emits:["filterFunction","filtered_fields"],setup(t,{emit:e}){const s=As(),c=x(!1),r=m=>{m!=="All"?o.vendor_name=m.company_id:o.vendor_name=m,c.value=!1},o=N({createdAt:"",sm_material_name:"",vendor_name:"",usernames:"",stf_num:"",sm_num:"",date_order:""});W(()=>{e("filterFunction",o)});const _=x(!1);return(m,h)=>(n(),l("div",Bs,[a("div",Ls,[a("div",Ks,[a("div",Js,[Xs,f(a("select",{class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg","onUpdate:modelValue":h[0]||(h[0]=u=>o.date_order=u)},et,512),[[k,o.date_order]])]),a("div",st,[tt,f(a("input",{class:"border outline-none rounded-md border-gray-300 p-2",type:"date",name:"",id:"",placeholder:"Date","onUpdate:modelValue":h[1]||(h[1]=u=>o.createdAt=u)},null,512),[[$,o.createdAt]])]),a("div",at,[ot,f(a("select",{"onUpdate:modelValue":h[2]||(h[2]=u=>o.material_type=u),class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg"},it,512),[[k,o.material_type]])]),a("div",dt,[_t,ht,a("div",mt,[ut,f(a("input",{type:"text",id:"search",class:"block w-full p-2 pl-10 outline-none text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"STF...","onUpdate:modelValue":h[3]||(h[3]=u=>o.stf_num=u)},null,512),[[$,o.stf_num]])])]),a("div",pt,[ft,vt,a("div",gt,[yt,f(a("input",{type:"text",id:"search",class:"block w-full p-2 pl-10 outline-none text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"SM...","onUpdate:modelValue":h[4]||(h[4]=u=>o.sm_num=u)},null,512),[[$,o.sm_num]])])]),y(Qs,{onSelectedComp:r,companies_list:g(s).companies_names},null,8,["companies_list"]),a("div",xt,[bt,f(a("select",{"onUpdate:modelValue":h[5]||(h[5]=u=>o.usernames=u),class:"border outline-none rounded-lg h-full p-1 border-blue-300 hover:border-blue-600 shadow-lg"},[wt,(n(!0),l(b,null,w(g(s).created_stf_username,u=>(n(),l("option",{class:"text-lg",value:u.id,style:{"font-family":"'Poppins', sans-serif"}},i(u.ordered_name),9,$t))),256))],512),[[k,o.usernames]])])]),a("div",kt,[a("div",St,[Ct,Et,a("div",Ft,[Tt,f(a("input",{type:"search",id:"search",class:"outline-none w-full p-2 pl-10 text-gray-900 border border-blue-300 rounded-lg hover:border-blue-600 shadow-lg",placeholder:"Search","onUpdate:modelValue":h[6]||(h[6]=u=>o.sm_material_name=u)},null,512),[[$,o.sm_material_name]])])]),a("div",Dt,[a("button",{class:"p-2 hover:bg-gray-300 rounded-md",onClick:h[7]||(h[7]=u=>_.value=!_.value)},Ut),_.value?R(m.$slots,"default",{key:0}):p("",!0)]),At])])]))}};export{Nt as P,Rt as T,As as W,Mt as _,zt as a,It as b,Wt as c,Pt as d,Vt as e,Ht as f,Qs as g};
